{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { BehaviorSubject } from 'rxjs';\nimport { ApiActions, DogsActions } from '../shared/state/dogs.actions';\nimport { selectDogs } from '../shared/state/dogs.selector';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"../shared/data-access.service\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/toolbar\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"../body/main-body/main-body.component\";\nclass NavComponent {\n  constructor(store, dataService) {\n    this.store = store;\n    this.dataService = dataService;\n    this.allDogs$ = this.store.select(selectDogs);\n    this.allDogs = [];\n    this.searchWordSubject = new BehaviorSubject('');\n    this.searchWord$ = this.searchWordSubject.asObservable();\n    this.filterSearch = new FormControl('');\n  }\n  ngOnInit() {\n    this.store.dispatch(ApiActions.retrievedDogsList());\n    this.allDogs$.subscribe(allDogs => this.allDogs = allDogs);\n  }\n  search() {\n    const allLowerCase = this.filterSearch.value?.toLowerCase().replace(/ /g, '') || '';\n    const dogIds = this.allDogs.filter(dog => dog.name.toLowerCase().replace(/ /g, '').includes(allLowerCase)).map(dog => dog.id);\n    this.store.dispatch(DogsActions.modifyDogs({\n      dogIds\n    }));\n    this.searchWordSubject.next(this.filterSearch.value || '');\n  }\n  resetSearch() {\n    this.searchWordSubject.next('');\n    const dogIds = this.allDogs.map(dog => dog.id);\n    this.store.dispatch(DogsActions.modifyDogs({\n      dogIds\n    }));\n    this.filterSearch.setValue('');\n  }\n}\nNavComponent.ɵfac = function NavComponent_Factory(t) {\n  return new (t || NavComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.DataAccessService));\n};\nNavComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavComponent,\n  selectors: [[\"doggy-nav\"]],\n  decls: 9,\n  vars: 2,\n  consts: [[\"color\", \"secondary\"], [1, \"logo\"], [1, \"searchbar\"], [\"subscriptSizing\", \"dynamic\", 1, \"searchbar\"], [\"matInput\", \"\", \"placeholder\", \"Search dogs\", 3, \"formControl\", \"keyup.enter\"], [\"mat-button\", \"\", \"matSuffix\", \"\", \"color\", \"primary\", 3, \"click\"], [3, \"searchWord$\", \"resetSearch\"]],\n  template: function NavComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-toolbar\", 0)(1, \"span\", 1);\n      i0.ɵɵtext(2, \"Woofipedia\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"mat-form-field\", 3)(5, \"input\", 4);\n      i0.ɵɵlistener(\"keyup.enter\", function NavComponent_Template_input_keyup_enter_5_listener() {\n        return ctx.search();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function NavComponent_Template_button_click_6_listener() {\n        return ctx.search();\n      });\n      i0.ɵɵtext(7, \" Woof! \");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(8, \"doggy-main-body\", 6);\n      i0.ɵɵlistener(\"resetSearch\", function NavComponent_Template_doggy_main_body_resetSearch_8_listener() {\n        return ctx.resetSearch();\n      });\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formControl\", ctx.filterSearch);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"searchWord$\", ctx.searchWord$);\n    }\n  },\n  dependencies: [i3.MatButton, i4.MatInput, i5.MatFormField, i5.MatSuffix, i6.MatToolbar, i7.DefaultValueAccessor, i7.NgControlStatus, i7.FormControlDirective, i8.MainBodyComponent],\n  styles: [\".searchbar {\\n  padding-left: 80px;\\n}\\n  .searchbar .mat-mdc-form-field-infix {\\n  min-height: 48px;\\n}\\n  .searchbar .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label {\\n  top: 24px;\\n}\\n  .searchbar .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above {\\n  --mat-mdc-form-field-label-transform: translateY(\\n          -30.75px)\\n          scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));\\n  transform: var(--mat-mdc-form-field-label-transform);\\n}\\n  .searchbar .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix {\\n  padding-top: 12px;\\n  padding-bottom: 12px;\\n}\\n  .searchbar .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix {\\n  padding-top: 12px;\\n  padding-bottom: 12px;\\n}\\n  .searchbar .mdc-text-field--no-label:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mat-mdc-form-field-infix {\\n  padding-top: 12px;\\n  padding-bottom: 12px;\\n}\\n  .searchbar .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-floating-label {\\n  display: none;\\n}\\n  .searchbar .mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper {\\n  transform: none;\\n}\\n  .searchbar {\\n  --mdc-checkbox-state-layer-size: 32px;\\n}\\n\\n  .searchbar .mat-mdc-checkbox-touch-target {\\n  display: none;\\n}\\n  .searchbar .mat-mdc-chip.mat-mdc-standard-chip {\\n  height: 24px;\\n}\\n  .searchbar .mat-mdc-chip.mat-mdc-standard-chip .mdc-evolution-chip__action-touch {\\n  display: none;\\n}\\n  .searchbar .mat-mdc-slide-toggle {\\n  --mdc-switch-state-layer-size: 40px;\\n}\\n  .searchbar .mat-mdc-radio-button .mdc-radio {\\n  --mdc-radio-state-layer-size: 32px;\\n}\\n  .searchbar .mat-mdc-radio-touch-target {\\n  display: none;\\n}\\n  .searchbar .mat-mdc-list-base {\\n  --mdc-list-list-item-one-line-container-height: 40px;\\n  --mdc-list-list-item-two-line-container-height: 56px;\\n  --mdc-list-list-item-three-line-container-height: 80px;\\n}\\n  .searchbar .mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line,   .searchbar .mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line,   .searchbar .mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line {\\n  height: 48px;\\n}\\n  .searchbar .mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines,   .searchbar .mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines,   .searchbar .mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines {\\n  height: 64px;\\n}\\n  .searchbar .mat-mdc-paginator .mat-mdc-form-field-infix {\\n  min-height: 40px;\\n}\\n  .searchbar .mat-mdc-paginator .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label {\\n  top: 20px;\\n}\\n  .searchbar .mat-mdc-paginator .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above {\\n  --mat-mdc-form-field-label-transform: translateY(\\n          -26.75px)\\n          scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));\\n  transform: var(--mat-mdc-form-field-label-transform);\\n}\\n  .searchbar .mat-mdc-paginator .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix {\\n  padding-top: 8px;\\n  padding-bottom: 8px;\\n}\\n  .searchbar .mat-mdc-paginator .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix {\\n  padding-top: 8px;\\n  padding-bottom: 8px;\\n}\\n  .searchbar .mat-mdc-paginator .mdc-text-field--no-label:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mat-mdc-form-field-infix {\\n  padding-top: 8px;\\n  padding-bottom: 8px;\\n}\\n  .searchbar .mat-mdc-paginator .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-floating-label {\\n  display: none;\\n}\\n  .searchbar .mat-mdc-paginator-container {\\n  min-height: 48px;\\n}\\n  .searchbar .mat-mdc-tab-header {\\n  --mdc-secondary-navigation-tab-container-height: 40px;\\n}\\n  .searchbar .mat-mdc-button.mat-mdc-button-base,   .searchbar .mat-mdc-raised-button.mat-mdc-button-base,   .searchbar .mat-mdc-unelevated-button.mat-mdc-button-base,   .searchbar .mat-mdc-outlined-button.mat-mdc-button-base {\\n  height: 28px;\\n  margin-top: 0;\\n  margin-bottom: 0;\\n}\\n  .searchbar .mat-mdc-button.mat-mdc-button-base .mdc-button__touch,   .searchbar .mat-mdc-raised-button.mat-mdc-button-base .mdc-button__touch,   .searchbar .mat-mdc-unelevated-button.mat-mdc-button-base .mdc-button__touch,   .searchbar .mat-mdc-outlined-button.mat-mdc-button-base .mdc-button__touch {\\n  height: 100%;\\n}\\n  .searchbar .mat-mdc-button.mat-mdc-button-base .mat-mdc-button-touch-target,   .searchbar .mat-mdc-raised-button.mat-mdc-button-base .mat-mdc-button-touch-target,   .searchbar .mat-mdc-unelevated-button.mat-mdc-button-base .mat-mdc-button-touch-target,   .searchbar .mat-mdc-outlined-button.mat-mdc-button-base .mat-mdc-button-touch-target {\\n  display: none;\\n}\\n  .searchbar .mat-mdc-icon-button.mat-mdc-button-base {\\n  --mdc-icon-button-state-layer-size: 40px;\\n  width: var(--mdc-icon-button-state-layer-size);\\n  height: var(--mdc-icon-button-state-layer-size);\\n  padding: 8px;\\n}\\n  .searchbar .mat-mdc-icon-button.mat-mdc-button-base .mat-mdc-button-touch-target {\\n  display: none;\\n}\\n  .searchbar .mat-mdc-table .mdc-data-table__row {\\n  height: 44px;\\n}\\n  .searchbar .mat-mdc-table .mdc-data-table__pagination {\\n  min-height: 44px;\\n}\\n  .searchbar .mat-mdc-table .mdc-data-table__header-row {\\n  height: 48px;\\n}\\n  .searchbar .mat-expansion-panel-header {\\n  height: 40px;\\n}\\n  .searchbar .mat-expansion-panel-header.mat-expanded {\\n  height: 56px;\\n}\\n  .searchbar .mat-horizontal-stepper-header {\\n  height: 64px;\\n}\\n  .searchbar .mat-stepper-label-position-bottom .mat-horizontal-stepper-header,   .searchbar .mat-vertical-stepper-header {\\n  padding: 20px 24px;\\n}\\n  .searchbar .mat-stepper-vertical-line::before {\\n  top: -12px;\\n  bottom: -12px;\\n}\\n  .searchbar .mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after,   .searchbar .mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before {\\n  top: 32px;\\n}\\n  .searchbar .mat-stepper-label-position-bottom .mat-stepper-horizontal-line {\\n  top: 32px;\\n}\\n  .searchbar .mat-toolbar-multiple-rows {\\n  min-height: 56px;\\n}\\n  .searchbar .mat-toolbar-row,   .searchbar .mat-toolbar-single-row {\\n  height: 56px;\\n}\\n@media (max-width: 599px) {\\n    .searchbar .mat-toolbar-multiple-rows {\\n    min-height: 48px;\\n  }\\n    .searchbar .mat-toolbar-row,   .searchbar .mat-toolbar-single-row {\\n    height: 48px;\\n  }\\n}\\n  .searchbar .mat-tree-node {\\n  min-height: 40px;\\n}\\n  .searchbar .mat-button-toggle-appearance-standard .mat-button-toggle-label-content {\\n  line-height: 40px;\\n}\\n  .logo {\\n  padding: 0px 32px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbmF2L25hdi5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9AYW5ndWxhci9tYXRlcmlhbC9mb3JtLWZpZWxkL19mb3JtLWZpZWxkLWRlbnNpdHkuc2NzcyIsIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9AYW5ndWxhci9tYXRlcmlhbC9zZWxlY3QvX3NlbGVjdC10aGVtZS5zY3NzIiwid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL21hdGVyaWFsL2NvcmUvc3R5bGUvX3Nhc3MtdXRpbHMuc2NzcyIsIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvdGhlbWUvX2Nzcy5zY3NzIiwid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL21hdGVyaWFsL2NoZWNrYm94L19jaGVja2JveC10aGVtZS5zY3NzIiwid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL21hdGVyaWFsL2NoaXBzL19jaGlwcy10aGVtZS5zY3NzIiwid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9jaGlwcy9fY2hpcC10aGVtZS5zY3NzIiwid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL21hdGVyaWFsL3NsaWRlLXRvZ2dsZS9fc2xpZGUtdG9nZ2xlLXRoZW1lLnNjc3MiLCJ3ZWJwYWNrOi8vLi9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvbWF0ZXJpYWwvcmFkaW8vX3JhZGlvLXRoZW1lLnNjc3MiLCJ3ZWJwYWNrOi8vLi9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvbWF0ZXJpYWwvbGlzdC9fbGlzdC10aGVtZS5zY3NzIiwid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL21hdGVyaWFsL3BhZ2luYXRvci9fcGFnaW5hdG9yLXRoZW1lLnNjc3MiLCJ3ZWJwYWNrOi8vLi9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvbWF0ZXJpYWwvdGFicy9fdGFicy10aGVtZS5zY3NzIiwid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL21hdGVyaWFsL2J1dHRvbi9fYnV0dG9uLXRoZW1lLnNjc3MiLCJ3ZWJwYWNrOi8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2J1dHRvbi9fYnV0dG9uLXNoYXJlZC10aGVtZS5zY3NzIiwid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL21hdGVyaWFsL2J1dHRvbi9fYnV0dG9uLXRoZW1lLXByaXZhdGUuc2NzcyIsIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9AYW5ndWxhci9tYXRlcmlhbC9idXR0b24vX2ljb24tYnV0dG9uLXRoZW1lLnNjc3MiLCJ3ZWJwYWNrOi8vLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL2RhdGEtdGFibGUvX2RhdGEtdGFibGUtdGhlbWUuc2NzcyIsIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9AYW5ndWxhci9tYXRlcmlhbC9leHBhbnNpb24vX2V4cGFuc2lvbi10aGVtZS5zY3NzIiwid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL21hdGVyaWFsL3N0ZXBwZXIvX3N0ZXBwZXItdGhlbWUuc2NzcyIsIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9AYW5ndWxhci9tYXRlcmlhbC90b29sYmFyL190b29sYmFyLXRoZW1lLnNjc3MiLCJ3ZWJwYWNrOi8vLi9ub2RlX21vZHVsZXMvQGFuZ3VsYXIvbWF0ZXJpYWwvdHJlZS9fdHJlZS10aGVtZS5zY3NzIiwid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL0Bhbmd1bGFyL21hdGVyaWFsL2J1dHRvbi10b2dnbGUvX2J1dHRvbi10b2dnbGUtdGhlbWUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJRTtFQUVFLGtCQUFBO0FBSko7QUNzRUU7RUFDRSxnQkE3Qk87QUR2Q1g7QUMyRUU7RUFDRSxTQUFBO0FEekVKO0FDK0VFO0VBRUU7O3FFQUFBO0VBR0Esb0RBQUE7QUQ5RUo7QUNjRTtFQUNFLGlCQUFBO0VBQ0Esb0JBQUE7QURaSjtBQ05FO0VBQ0UsaUJBQUE7RUFDQSxvQkFBQTtBRFFKO0FDTEU7RUFFRSxpQkFBQTtFQUNBLG9CQUFBO0FETUo7QUNpRkk7RUFDSSxhQUFBO0FEL0VSO0FFbUVJO0VBQ0UsZUFBQTtBRmpFTjtBRzdCVztFQzJFUCxxQ0FBQTtBSjNDSjs7QUsrQkk7RUFDRSxhQUFBO0FMNUJOO0FNeURFO0VGbEJFLFlBQUE7QUpwQ0o7QU84bUJFO0VBRUksYUFBQTtBUDdtQk47QVF1RUU7RUp0Q0UsbUNBQUE7QUo5Qko7QVNhRTtFTGlCRSxrQ0FBQTtBSjNCSjtBU2VJO0VBQ0UsYUFBQTtBVGJOO0FVMkJFO0VOSEUsb0RBQUE7RUFBQSxvREFBQTtFQUFBLHNEQUFBO0FKbkJKO0FVa0NNO0VBQ0UsWUFBQTtBVmhDUjtBVTBDTTtFQUNFLFlBQUE7QVZ4Q1I7QUNPRTtFQUNFLGdCQTdCTztBRHdCWDtBQ1lFO0VBQ0UsU0FBQTtBRFZKO0FDZ0JFO0VBRUU7O3FFQUFBO0VBR0Esb0RBQUE7QURmSjtBQ2pERTtFQUNFLGdCQUFBO0VBQ0EsbUJBQUE7QURtREo7QUNyRUU7RUFDRSxnQkFBQTtFQUNBLG1CQUFBO0FEdUVKO0FDcEVFO0VBRUUsZ0JBQUE7RUFDQSxtQkFBQTtBRHFFSjtBQ2tCSTtFQUNJLGFBQUE7QURoQlI7QVdQRTtFQUNFLGdCQWhCTztBWHlCWDtBWXBCRTtFUkdFLHFEQUFBO0FKb0JKO0Fhc0dJOzs7O0VUMUhBLFlBQUE7RVVnWEEsYUFBQTtFQUNBLGdCQUFBO0FkclZKO0Fjd1ZFOzs7O0VBR0ksWUFBQTtBZHJWTjtBZW5ESTs7OztFQUNFLGFBQUE7QWZ3RE47QWdCL0JFO0VaVEUsd0NBQUE7RVlxQkEsOENBQUE7RUFDQSwrQ0FBQTtFQUNBLFlBQUE7QWhCdUJKO0FlL0RJO0VBQ0UsYUFBQTtBZmlFTjtBaUI2YkU7RWI5ZUUsWUFBQTtBSm9ESjtBaUJnY0U7RWJwZkUsZ0JBQUE7QUp1REo7QWlCNmFFO0VicGVFLFlBQUE7QUowREo7QWtCeERJO0VBQ0UsWUFMZTtBbEIrRHJCO0FrQnhETTtFQUNFLFlBVlk7QWxCb0VwQjtBbUJRSTtFQUNFLFlBTks7QW5CQVg7QW1CU0k7O0VBRUUsa0JBQUE7QW5CUE47QW1CWUk7RUFDRSxVQUFBO0VBQ0EsYUFBQTtBbkJWTjtBbUJlTTtFQUNFLFNBQUE7QW5CYlI7QW1Ca0JJO0VBQ0UsU0FBQTtBbkJoQk47QW9CdEpFO0VBQ0UsZ0JBNkVlO0FwQjJFbkI7QW9CdEpFO0VBQ0UsWUEwRWU7QXBCOEVuQjtBb0JsRUk7RUExRkY7SUFDRSxnQkErRWM7RXBCZ0ZoQjtFb0I3SkE7SUFDRSxZQTRFYztFcEJtRmhCO0FBQ0Y7QXFCbklJO0VBQ0UsZ0JBTEs7QXJCMElYO0FzQmhFSTtFQUNFLGlCQUxjO0F0QnVFcEI7QUExS0U7RUFDRSxpQkFBQTtBQTRLSiIsInNvdXJjZXNDb250ZW50IjpbIlxuQHVzZSAnQGFuZ3VsYXIvbWF0ZXJpYWwnIGFzIG1hdDtcblxuOjpuZy1kZWVwe1xuICAuc2VhcmNoYmFye1xuICAgIEBpbmNsdWRlIG1hdC5hbGwtY29tcG9uZW50LWRlbnNpdGllcygtMik7XG4gICAgcGFkZGluZy1sZWZ0OjgwcHg7XG4gIH1cblxuICAubG9nbyB7XG4gICAgcGFkZGluZzowcHggMzJweFxuICB9XG59XG4iLCJAdXNlICdzYXNzOm1hcCc7XG5AdXNlICdzYXNzOm1hdGgnO1xuQHVzZSAnQG1hdGVyaWFsL2RlbnNpdHknIGFzIG1kYy1kZW5zaXR5O1xuQHVzZSAnQG1hdGVyaWFsL3RleHRmaWVsZCcgYXMgbWRjLXRleHRmaWVsZDtcbkB1c2UgJy4uL2NvcmUvdGhlbWluZy90aGVtaW5nJztcblxuQHVzZSAnLi9mb3JtLWZpZWxkLXNpemluZyc7XG5cbi8vIE1peGluIHRoYXQgc2V0cyB0aGUgdmVydGljYWwgc3BhY2luZyBmb3IgdGhlIGluZml4IGNvbnRhaW5lciBvZiBmaWxsZWQgZm9ybSBmaWVsZHMuXG4vLyBXZSBuZWVkIHRvIGFwcGx5IHNwYWNpbmcgdG8gdGhlIGluZml4IGNvbnRhaW5lciBiZWNhdXNlIHdlIHJlbW92ZWQgdGhlIGlucHV0IHBhZGRpbmdcbi8vIHByb3ZpZGVkIGJ5IE1EQyBpbiBvcmRlciB0byBzdXBwb3J0IGFyYml0cmFyeSBmb3JtLWZpZWxkIGNvbnRyb2xzLlxuQG1peGluIF9pbmZpeC12ZXJ0aWNhbC1zcGFjaW5nLWZpbGxlZCgkd2l0aC1sYWJlbC1wYWRkaW5nLCAkbm8tbGFiZWwtcGFkZGluZykge1xuICAubWF0LW1kYy10ZXh0LWZpZWxkLXdyYXBwZXI6bm90KC5tZGMtdGV4dC1maWVsZC0tb3V0bGluZWQpIC5tYXQtbWRjLWZvcm0tZmllbGQtaW5maXgge1xuICAgIHBhZGRpbmctdG9wOiBtYXAuZ2V0KCR3aXRoLWxhYmVsLXBhZGRpbmcsIHRvcCk7XG4gICAgcGFkZGluZy1ib3R0b206IG1hcC5nZXQoJHdpdGgtbGFiZWwtcGFkZGluZywgYm90dG9tKTtcbiAgfVxuXG4gIC5tZGMtdGV4dC1maWVsZC0tbm8tbGFiZWw6bm90KC5tZGMtdGV4dC1maWVsZC0tb3V0bGluZWQpOm5vdCgubWRjLXRleHQtZmllbGQtLXRleHRhcmVhKVxuICAubWF0LW1kYy1mb3JtLWZpZWxkLWluZml4IHtcbiAgICBwYWRkaW5nLXRvcDogbWFwLmdldCgkbm8tbGFiZWwtcGFkZGluZywgdG9wKTtcbiAgICBwYWRkaW5nLWJvdHRvbTogbWFwLmdldCgkbm8tbGFiZWwtcGFkZGluZywgYm90dG9tKTtcbiAgfVxufVxuXG4vLyBNaXhpbiB0aGF0IHNldHMgdGhlIHZlcnRpY2FsIHNwYWNpbmcgZm9yIHRoZSBpbmZpeCBjb250YWluZXIgb2Ygb3V0bGluZWQgZm9ybSBmaWVsZHMuXG4vLyBXZSBuZWVkIHRvIGFwcGx5IHNwYWNpbmcgdG8gdGhlIGluZml4IGNvbnRhaW5lciBiZWNhdXNlIHdlIHJlbW92ZWQgdGhlIGlucHV0IHBhZGRpbmdcbi8vIHByb3ZpZGVkIGJ5IE1EQyBpbiBvcmRlciB0byBzdXBwb3J0IGFyYml0cmFyeSBmb3JtLWZpZWxkIGNvbnRyb2xzLlxuQG1peGluIF9pbmZpeC12ZXJ0aWNhbC1zcGFjaW5nLW91dGxpbmVkKCRwYWRkaW5nKSB7XG4gIC5tYXQtbWRjLXRleHQtZmllbGQtd3JhcHBlci5tZGMtdGV4dC1maWVsZC0tb3V0bGluZWQgLm1hdC1tZGMtZm9ybS1maWVsZC1pbmZpeCB7XG4gICAgcGFkZGluZy10b3A6IG1hcC5nZXQoJHBhZGRpbmcsIHRvcCk7XG4gICAgcGFkZGluZy1ib3R0b206IG1hcC5nZXQoJHBhZGRpbmcsIGJvdHRvbSk7XG4gIH1cbn1cblxuLy8gTWl4aW4gdGhhdCBpbmNsdWRlcyB0aGUgZGVuc2l0eSBzdHlsZXMgZm9yIGZvcm0gZmllbGRzLiBNREMgcHJvdmlkZXMgdGhlaXIgb3duIGRlbnNpdHlcbi8vIHN0eWxlcyBmb3IgTURDIHRleHQtZmllbGQgd2hpY2ggd2UgY2Fubm90IHVzZS4gTURDIHJlbGllcyBvbiBpbnB1dCBlbGVtZW50cyB0byBzdHJldGNoXG4vLyB2ZXJ0aWNhbGx5IHdoZW4gdGhlIGhlaWdodCBpcyByZWR1Y2VkIGFzIHBlciBkZW5zaXR5IHNjYWxlLiBUaGlzIGRvZXNuJ3Qgd29yayBmb3Igb3VyXG4vLyBmb3JtIGZpZWxkIHNpbmNlIHdlIHN1cHBvcnQgY3VzdG9tIGZvcm0gZmllbGQgY29udHJvbHMgd2l0aG91dCBhIGZpeGVkIGhlaWdodC4gSW5zdGVhZCwgd2Vcbi8vIHByb3ZpZGUgc3BhY2luZyB0aGF0IG1ha2VzIGFyYml0cmFyeSBjb250cm9scyBhbGlnbiBhcyBzcGVjaWZpZWQgaW4gdGhlIE1hdGVyaWFsIERlc2lnblxuLy8gc3BlY2lmaWNhdGlvbi4gSW4gb3JkZXIgdG8gc3VwcG9ydCBkZW5zaXR5LCB3ZSBuZWVkIHRvIGFkanVzdCB0aGUgdmVydGljYWwgc3BhY2luZyB0byBiZVxuLy8gYmFzZWQgb24gdGhlIGRlbnNpdHkgc2NhbGUuXG5AbWl4aW4gcHJpdmF0ZS1mb3JtLWZpZWxkLWRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogdGhlbWluZy5nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC8vIEhlaWdodCBvZiB0aGUgZm9ybSBmaWVsZCB0aGF0IGlzIGJhc2VkIG9uIHRoZSBjdXJyZW50IGRlbnNpdHkgc2NhbGUuXG4gICRoZWlnaHQ6IG1kYy1kZW5zaXR5LnByb3AtdmFsdWUoXG4gICAgJGRlbnNpdHktY29uZmlnOiBtZGMtdGV4dGZpZWxkLiRkZW5zaXR5LWNvbmZpZyxcbiAgICAkZGVuc2l0eS1zY2FsZTogJGRlbnNpdHktc2NhbGUsXG4gICAgJHByb3BlcnR5LW5hbWU6IGhlaWdodCxcbiAgKTtcblxuICAvLyBXaGV0aGVyIGZsb2F0aW5nIGxhYmVscyBmb3IgZmlsbGVkIGZvcm0gZmllbGRzIHNob3VsZCBiZSBoaWRkZW4uIE1EQyBoaWRlcyB0aGUgbGFiZWwgaW5cbiAgLy8gdGhlaXIgZGVuc2l0eSBzdHlsZXMgd2hlbiB0aGUgaGVpZ2h0IGRlY3JlYXNlcyB0b28gbXVjaC4gV2UgbWF0Y2ggdGhlaXIgZGVuc2l0eSBzdHlsZXMuXG4gICRoaWRlLWZpbGxlZC1mbG9hdGluZy1sYWJlbDogJGhlaWdodCA8IG1kYy10ZXh0ZmllbGQuJG1pbmltdW0taGVpZ2h0LWZvci1maWxsZWQtbGFiZWw7XG4gIC8vIFdlIGNvbXB1dGVkIHRoZSBkZXNpcmVkIGhlaWdodCBvZiB0aGUgZm9ybS1maWVsZCB1c2luZyB0aGUgZGVuc2l0eSBjb25maWd1cmF0aW9uLiBUaGVcbiAgLy8gc3BlYyBvbmx5IGRlc2NyaWJlcyB2ZXJ0aWNhbCBzcGFjaW5nL2FsaWdubWVudCBpbiBub24tZGVuc2UgbW9kZS4gVGhpcyBtZWFucyB0aGF0IHdlXG4gIC8vIGNhbm5vdCB1cGRhdGUgdGhlIHNwYWNpbmcgdG8gZXhwbGljaXQgbnVtYmVycyBiYXNlZCBvbiB0aGUgZGVuc2l0eSBzY2FsZS4gSW5zdGVhZCwgd2VcbiAgLy8gZGV0ZXJtaW5lIHRoZSBoZWlnaHQgcmVkdWN0aW9uIGFuZCBlcXVhbGx5IHN1YnRyYWN0IGl0IGZyb20gdGhlIGRlZmF1bHQgYHRvcGAgYW5kIGBib3R0b21gXG4gIC8vIHBhZGRpbmcgdGhhdCBpcyBwcm92aWRlZCBieSB0aGUgTWF0ZXJpYWwgRGVzaWduIHNwZWNpZmljYXRpb24uXG4gICR2ZXJ0aWNhbC1kZWR1Y3Rpb246IG1hdGguZGl2KG1kYy10ZXh0ZmllbGQuJGhlaWdodCAtICRoZWlnaHQsIDIpO1xuICAvLyBNYXAgdGhhdCBkZXNjcmliZXMgdGhlIHBhZGRpbmcgZm9yIGZvcm0tZmllbGRzIHdpdGggbGFiZWwuXG4gICR3aXRoLWxhYmVsLXBhZGRpbmc6IChcbiAgICB0b3A6IGZvcm0tZmllbGQtc2l6aW5nLiRtYXQtZm9ybS1maWVsZC13aXRoLWxhYmVsLWlucHV0LXBhZGRpbmctdG9wIC0gJHZlcnRpY2FsLWRlZHVjdGlvbixcbiAgICBib3R0b206IGZvcm0tZmllbGQtc2l6aW5nLiRtYXQtZm9ybS1maWVsZC13aXRoLWxhYmVsLWlucHV0LXBhZGRpbmctYm90dG9tIC0gJHZlcnRpY2FsLWRlZHVjdGlvbixcbiAgKTtcbiAgLy8gTWFwIHRoYXQgZGVzY3JpYmVzIHRoZSBwYWRkaW5nIGZvciBmb3JtLWZpZWxkcyB3aXRob3V0IGxhYmVsLlxuICAkbm8tbGFiZWwtcGFkZGluZzogKFxuICAgIHRvcDogZm9ybS1maWVsZC1zaXppbmcuJG1hdC1mb3JtLWZpZWxkLW5vLWxhYmVsLXBhZGRpbmctdG9wIC0gJHZlcnRpY2FsLWRlZHVjdGlvbixcbiAgICBib3R0b206IGZvcm0tZmllbGQtc2l6aW5nLiRtYXQtZm9ybS1maWVsZC1uby1sYWJlbC1wYWRkaW5nLWJvdHRvbSAtICR2ZXJ0aWNhbC1kZWR1Y3Rpb24sXG4gICk7XG5cbiAgLy8gV2UgYWRkIGEgbWluaW11bSBoZWlnaHQgdG8gdGhlIGluZml4IGNvbnRhaW5lciBpbiBvcmRlciB0byBlbnN1cmUgdGhhdCBjdXN0b20gY29udHJvbHMgaGF2ZVxuICAvLyB0aGUgc2FtZSBkZWZhdWx0IHZlcnRpY2FsIHNwYWNlIGFzIHRleHQtZmllbGQgaW5wdXRzICh3aXRoIHJlc3BlY3QgdG8gdGhlIHZlcnRpY2FsIHBhZGRpbmcpLlxuICAubWF0LW1kYy1mb3JtLWZpZWxkLWluZml4IHtcbiAgICBtaW4taGVpZ2h0OiAkaGVpZ2h0O1xuICB9XG5cbiAgLy8gQnkgZGVmYXVsdCwgTURDIGFsaWducyB0aGUgbGFiZWwgdXNpbmcgcGVyY2VudGFnZS4gVGhpcyB3aWxsIGJlIG92ZXJ3cml0dGVuIGJhc2VkXG4gIC8vIG9uIHdoZXRoZXIgYSB0ZXh0YXJlYSBpcyB1c2VkLiBUaGlzIGlzIG5vdCBwb3NzaWJsZSBpbiBvdXIgaW1wbGVtZW50YXRpb24gb2YgdGhlXG4gIC8vIGZvcm0tZmllbGQgYmVjYXVzZSB3ZSBkbyBub3Qga25vdyB3aGF0IHR5cGUgb2YgZm9ybS1maWVsZCBjb250cm9sIGlzIHNldCB1cC4gSGVuY2VcbiAgLy8gd2UgYWx3YXlzIHVzZSBhIGZpeGVkIHBvc2l0aW9uIGZvciB0aGUgbGFiZWwuIFRoaXMgZG9lcyBub3QgaGF2ZSBhbnkgaW1wbGljYXRpb25zLlxuICAubWF0LW1kYy10ZXh0LWZpZWxkLXdyYXBwZXIgLm1hdC1tZGMtZm9ybS1maWVsZC1mbGV4IC5tYXQtbWRjLWZsb2F0aW5nLWxhYmVsIHtcbiAgICB0b3A6IG1hdGguZGl2KCRoZWlnaHQsIDIpO1xuICB9XG5cbiAgLy8gRm9yIHRoZSBvdXRsaW5lIGFwcGVhcmFuY2UsIHdlIHJlLWNyZWF0ZSB0aGUgYWN0aXZlIGZsb2F0aW5nIGxhYmVsIHRyYW5zZm9ybS4gVGhpcyBpc1xuICAvLyBuZWNlc3NhcnkgYmVjYXVzZSB0aGUgdHJhbnNmb3JtIGZvciBkb2NrZWQgZmxvYXRpbmcgbGFiZWxzIGNhbiBiZSB1cGRhdGVkIHRvIGFjY291bnQgZm9yXG4gIC8vIHRoZSB3aWR0aCBvZiBwcmVmaXggY29udGFpbmVyLlxuICAubWF0LW1kYy10ZXh0LWZpZWxkLXdyYXBwZXIubWRjLXRleHQtZmllbGQtLW91dGxpbmVkIC5tZGMtbm90Y2hlZC1vdXRsaW5lLS11cGdyYWRlZFxuICAubWRjLWZsb2F0aW5nLWxhYmVsLS1mbG9hdC1hYm92ZSB7XG4gICAgLS1tYXQtbWRjLWZvcm0tZmllbGQtbGFiZWwtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKFxuICAgICAgICAgICAgLSN7bWRjLXRleHRmaWVsZC5nZXQtb3V0bGluZWQtbGFiZWwtcG9zaXRpb24teSgkaGVpZ2h0KX0pXG4gICAgICAgICAgICBzY2FsZSh2YXIoLS1tYXQtbWRjLWZvcm0tZmllbGQtZmxvYXRpbmctbGFiZWwtc2NhbGUsIDAuNzUpKTtcbiAgICB0cmFuc2Zvcm06IHZhcigtLW1hdC1tZGMtZm9ybS1maWVsZC1sYWJlbC10cmFuc2Zvcm0pO1xuICB9XG5cbiAgLy8gQWRkIHZlcnRpY2FsIHNwYWNpbmcgdG8gdGhlIGluZml4IHRvIGVuc3VyZSB0aGF0IG91dGxpbmVkIGZvcm0gZmllbGRzIGhhdmUgdGhlaXIgY29udHJvbHNcbiAgLy8gYWxpZ25lZCBhcyBpZiB0aGVyZSBpcyBubyBsYWJlbC4gVGhpcyBpcyBkb25lIHNpbWlsYXJseSBpbiBNREMgYW5kIGlzIHNwZWNpZmllZCBpbiB0aGVcbiAgLy8gTWF0ZXJpYWwgRGVzaWduIHNwZWNpZmljYXRpb24uIE91dGxpbmUgZm9ybSBmaWVsZHMgcG9zaXRpb24gdGhlIGNvbnRyb2wgYXMgaWYgdGhlcmUgaXMgbm9cbiAgLy8gbGFiZWwuIFRoaXMgaXMgYmVjYXVzZSB0aGUgbGFiZWwgb3ZlcmZsb3dzIHRoZSBmb3JtLWZpZWxkIGFuZCBkb2Vzbid0IG5lZWQgc3BhY2UgYXQgdGhlIHRvcC5cbiAgQGluY2x1ZGUgX2luZml4LXZlcnRpY2FsLXNwYWNpbmctb3V0bGluZWQoJG5vLWxhYmVsLXBhZGRpbmcpO1xuXG4gIC8vIE1EQyBoaWRlcyBsYWJlbHMgZm9yIGZpbGxlZCBmb3JtIGZpZWxkcyB3aGVuIHRoZSBmb3JtIGZpZWxkIGhlaWdodCBkZWNyZWFzZXMuIFdlIG1hdGNoXG4gIC8vIHRoaXMgYmVoYXZpb3IgaW4gb3VyIGN1c3RvbSBkZW5zaXR5IHN0eWxlcy5cbiAgQGlmICRoaWRlLWZpbGxlZC1mbG9hdGluZy1sYWJlbCB7XG4gICAgLy8gVXBkYXRlIHRoZSBzcGFjaW5nIGZvciBmaWxsZWQgZm9ybSBmaWVsZHMgdG8gYWNjb3VudCBmb3IgdGhlIGhpZGRlbiBmbG9hdGluZyBsYWJlbC5cbiAgICBAaW5jbHVkZSBfaW5maXgtdmVydGljYWwtc3BhY2luZy1maWxsZWQoXG4gICAgICAgICAgJG5vLWxhYmVsLXBhZGRpbmcsICRuby1sYWJlbC1wYWRkaW5nKTtcbiAgICAubWF0LW1kYy10ZXh0LWZpZWxkLXdyYXBwZXI6bm90KC5tZGMtdGV4dC1maWVsZC0tb3V0bGluZWQpIC5tYXQtbWRjLWZsb2F0aW5nLWxhYmVsIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIH1cbiAgQGVsc2Uge1xuICAgIC8vIEJ5IGRlZmF1bHQsIGZpbGxlZCBmb3JtIGZpZWxkcyBhbGlnbiB0aGVpciBjb250cm9scyBkaWZmZXJlbnRseSBiYXNlZCBvbiB3aGV0aGVyIHRoZXJlXG4gICAgLy8gaXMgYSBsYWJlbCBvciBub3QuIE1EQyBkb2VzIHRoaXMgdG9vLCBidXQgd2UgY2Fubm90IHJlbHkgb24gdGhlaXIgc3R5bGVzIGFzIHdlIHN1cHBvcnRcbiAgICAvLyBhcmJpdHJhcnkgZm9ybSBmaWVsZCBjb250cm9scyBhbmQgTURDIG9ubHkgYXBwbGllcyB0aGVpciBzcGFjaW5nIHRvIHRoZSBgPGlucHV0PmAgZWxlbWVudHMuXG4gICAgQGluY2x1ZGUgX2luZml4LXZlcnRpY2FsLXNwYWNpbmctZmlsbGVkKFxuICAgICAgICAgICR3aXRoLWxhYmVsLXBhZGRpbmcsICRuby1sYWJlbC1wYWRkaW5nKTtcbiAgfVxufVxuIiwiQHVzZSAnQG1hdGVyaWFsL3RoZW1lL3RoZW1lLWNvbG9yJyBhcyBtZGMtdGhlbWUtY29sb3I7XG5AdXNlICdAbWF0ZXJpYWwvbWVudS1zdXJmYWNlJyBhcyBtZGMtbWVudS1zdXJmYWNlO1xuQHVzZSAnQG1hdGVyaWFsL2xpc3QvZXZvbHV0aW9uLW1peGlucycgYXMgbWRjLWxpc3Q7XG5AdXNlICdAbWF0ZXJpYWwvdHlwb2dyYXBoeScgYXMgbWRjLXR5cG9ncmFwaHk7XG5AdXNlICdAbWF0ZXJpYWwvZGVuc2l0eScgYXMgbWRjLWRlbnNpdHk7XG5AdXNlICdAbWF0ZXJpYWwvdGV4dGZpZWxkJyBhcyBtZGMtdGV4dGZpZWxkO1xuXG5AdXNlICcuLi9jb3JlL3RoZW1pbmcvdGhlbWluZyc7XG5AdXNlICcuLi9jb3JlL3R5cG9ncmFwaHkvdHlwb2dyYXBoeSc7XG5AdXNlICcuLi9jb3JlL21kYy1oZWxwZXJzL21kYy1oZWxwZXJzJztcblxuXG4vLyBHZXRzIHRoZSBjb2xvciB0byB1c2UgZm9yIHNvbWUgdGV4dCB0aGF0IGlzIGhpZ2hsaWdodGVkIHdoaWxlIGEgc2VsZWN0IGhhcyBmb2N1cy5cbkBmdW5jdGlvbiBfZ2V0LW1kYy1mb2N1c2VkLXRleHQtY29sb3IoJHBhbGV0dGUpIHtcbiAgQHJldHVybiByZ2JhKG1kYy10aGVtZS1jb2xvci5wcm9wLXZhbHVlKCRwYWxldHRlKSwgMC44Nyk7XG59XG5cbkBtaXhpbiBjb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcblxuICBAaW5jbHVkZSBtZGMtaGVscGVycy51c2luZy1tZGMtdGhlbWUoJGNvbmZpZykge1xuICAgICRkaXNhYmxlZC1jb2xvcjogcmdiYShtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1zdXJmYWNlKSwgMC4zOCk7XG4gICAgQGluY2x1ZGUgbWRjLW1lbnUtc3VyZmFjZS5jb3JlLXN0eWxlcyhtZGMtaGVscGVycy4kbWRjLXRoZW1lLXN0eWxlcy1xdWVyeSk7XG4gICAgQGluY2x1ZGUgbWRjLWxpc3Qud2l0aG91dC1yaXBwbGUobWRjLWhlbHBlcnMuJG1kYy10aGVtZS1zdHlsZXMtcXVlcnkpO1xuXG4gICAgLm1hdC1tZGMtc2VsZWN0LXZhbHVlIHtcbiAgICAgIGNvbG9yOiByZ2JhKG1kYy10aGVtZS1jb2xvci5wcm9wLXZhbHVlKG9uLXN1cmZhY2UpLCAwLjg3KTtcbiAgICB9XG5cbiAgICAubWF0LW1kYy1zZWxlY3QtcGxhY2Vob2xkZXIge1xuICAgICAgY29sb3I6IHJnYmEobWRjLXRoZW1lLWNvbG9yLnByb3AtdmFsdWUob24tc3VyZmFjZSksIDAuNik7XG4gICAgfVxuXG4gICAgLm1hdC1tZGMtc2VsZWN0LWRpc2FibGVkIC5tYXQtbWRjLXNlbGVjdC12YWx1ZSB7XG4gICAgICBjb2xvcjogJGRpc2FibGVkLWNvbG9yO1xuICAgIH1cblxuICAgIC5tYXQtbWRjLXNlbGVjdC1hcnJvdyB7XG4gICAgICBjb2xvcjogcmdiYShtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1zdXJmYWNlKSwgMC41NCk7XG4gICAgfVxuXG4gICAgLm1hdC1tZGMtZm9ybS1maWVsZCB7XG4gICAgICAmLm1hdC1mb2N1c2VkIHtcbiAgICAgICAgJi5tYXQtcHJpbWFyeSAubWF0LW1kYy1zZWxlY3QtYXJyb3cge1xuICAgICAgICAgIGNvbG9yOiBfZ2V0LW1kYy1mb2N1c2VkLXRleHQtY29sb3IocHJpbWFyeSk7XG4gICAgICAgIH1cblxuICAgICAgICAmLm1hdC1hY2NlbnQgLm1hdC1tZGMtc2VsZWN0LWFycm93IHtcbiAgICAgICAgICBjb2xvcjogX2dldC1tZGMtZm9jdXNlZC10ZXh0LWNvbG9yKHNlY29uZGFyeSk7XG4gICAgICAgIH1cblxuICAgICAgICAmLm1hdC13YXJuIC5tYXQtbWRjLXNlbGVjdC1hcnJvdyB7XG4gICAgICAgICAgY29sb3I6IF9nZXQtbWRjLWZvY3VzZWQtdGV4dC1jb2xvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLm1hdC1tZGMtc2VsZWN0Lm1hdC1tZGMtc2VsZWN0LWludmFsaWQgLm1hdC1tZGMtc2VsZWN0LWFycm93IHtcbiAgICAgICAgY29sb3I6IF9nZXQtbWRjLWZvY3VzZWQtdGV4dC1jb2xvcihlcnJvcik7XG4gICAgICB9XG5cbiAgICAgIC5tYXQtbWRjLXNlbGVjdC5tYXQtbWRjLXNlbGVjdC1kaXNhYmxlZCAubWF0LW1kYy1zZWxlY3QtYXJyb3cge1xuICAgICAgICBjb2xvcjogJGRpc2FibGVkLWNvbG9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHR5cG9ncmFwaHkucHJpdmF0ZS10eXBvZ3JhcGh5LXRvLTIwMTgtY29uZmlnKFxuICAgICAgdGhlbWluZy5nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSkpO1xuICBAaW5jbHVkZSBtZGMtaGVscGVycy51c2luZy1tZGMtdHlwb2dyYXBoeSgkY29uZmlnKSB7XG4gICAgQGluY2x1ZGUgbWRjLW1lbnUtc3VyZmFjZS5jb3JlLXN0eWxlcyhtZGMtaGVscGVycy4kbWRjLXR5cG9ncmFwaHktc3R5bGVzLXF1ZXJ5KTtcblxuICAgIC5tYXQtbWRjLXNlbGVjdC1wYW5lbCB7XG4gICAgICBAaW5jbHVkZSBtZGMtbGlzdC5saXN0LWJhc2UobWRjLWhlbHBlcnMuJG1kYy10eXBvZ3JhcGh5LXN0eWxlcy1xdWVyeSk7XG4gICAgfVxuXG4gICAgLm1hdC1tZGMtc2VsZWN0IHtcbiAgICAgIEBpbmNsdWRlIG1kYy10eXBvZ3JhcGh5LnR5cG9ncmFwaHkoYm9keTEsICRxdWVyeTogbWRjLWhlbHBlcnMuJG1kYy10eXBvZ3JhcGh5LXN0eWxlcy1xdWVyeSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBkZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuXG4gIC8vIERlbnNpdHkgaXMgY2xhbXBlZCBhdCAtNSBoZXJlLCBiZWNhdXNlIE1EQydzIGZvcm0gZmllbGQgdGhyb3dzIGFuIGVycm9yIGZvciBhbnl0aGluZyBsb3dlci5cbiAgJGZvcm0tZmllbGQtaGVpZ2h0OiBtZGMtZGVuc2l0eS5wcm9wLXZhbHVlKFxuICAgICRkZW5zaXR5LWNvbmZpZzogbWRjLXRleHRmaWVsZC4kZGVuc2l0eS1jb25maWcsXG4gICAgJGRlbnNpdHktc2NhbGU6IHRoZW1pbmcuY2xhbXAtZGVuc2l0eSgkZGVuc2l0eS1zY2FsZSwgLTUpLFxuICAgICRwcm9wZXJ0eS1uYW1lOiBoZWlnaHQsXG4gICk7XG5cbiAgLy8gT24gbG93ZXIgZGVuc2l0aWVzIHRoZSBmaWxsZWQgZm9ybSBmaWVsZCBoaWRlcyBpdHMgbGFiZWwgd2hpY2ggY2F1c2VzIHRoZSBsYWJlbCB0b1xuICAvLyBiZSBtaXNhbGlnbmVkLiBSZW1vdmUgdGhlIGFkZGl0aW9uYWwgb2Zmc2V0IHRoYXQgd2FzIGFkZGVkIGJlY2F1c2Ugb2YgdGhlIGxhYmVsLlxuICBAaWYgKCRmb3JtLWZpZWxkLWhlaWdodCA8IG1kYy10ZXh0ZmllbGQuJG1pbmltdW0taGVpZ2h0LWZvci1maWxsZWQtbGFiZWwpIHtcbiAgICAubWF0LWZvcm0tZmllbGQtYXBwZWFyYW5jZS1maWxsIC5tYXQtbWRjLXNlbGVjdC1hcnJvdy13cmFwcGVyIHtcbiAgICAgIHRyYW5zZm9ybTogbm9uZTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIHRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiB0aGVtaW5nLnByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgdGhlbWluZy5wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LXNlbGVjdCcpIHtcbiAgICAkY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiB0aGVtaW5nLmdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSB0eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cbiIsIi8vIEluY2x1ZGUgY29udGVudCB1bmRlciB0aGUgY3VycmVudCBzZWxlY3RvciAoJikgb3IgdGhlIGRvY3VtZW50IHJvb3QgaWYgdGhlcmUgaXMgbm8gY3VycmVudFxuLy8gc2VsZWN0b3IuXG5AbWl4aW4gY3VycmVudC1zZWxlY3Rvci1vci1yb290KCRyb290OiBodG1sKSB7XG4gIEBhdC1yb290ICN7JiBvciAkcm9vdH0ge1xuICAgIEBjb250ZW50O1xuICB9XG59XG4iLCIvL1xuLy8gQ29weXJpZ2h0IDIwMjAgR29vZ2xlIEluYy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuLy9cblxuQHVzZSAnc2FzczpsaXN0JztcbkB1c2UgJ3Nhc3M6bWFwJztcbkB1c2UgJ3Nhc3M6bWV0YSc7XG5AdXNlICcuL2dzcyc7XG5cbi8vLyBXaGVuIHRydWUsIGFkZCBhbiBhZGRpdGlvbmFsIHByb3BlcnR5L3ZhbHVlIGRlY2xhcmF0aW9uIGJlZm9yZSBkZWNsYXJhdGlvbnNcbi8vLyB0aGF0IHVzZSBhZHZhbmNlZCBmZWF0dXJlcyBzdWNoIGFzIGN1c3RvbSBwcm9wZXJ0aWVzIG9yIENTUyBmdW5jdGlvbnMuIFRoaXNcbi8vLyBhZGRzIGZhbGxiYWNrIHN1cHBvcnQgZm9yIG9sZGVyIGJyb3dzZXJzIHN1Y2ggYXMgSUUxMSB0aGF0IGRvIG5vdCBzdXBwb3J0XG4vLy8gdGhlc2UgZmVhdHVyZXMgYXQgdGhlIGNvc3Qgb2YgYWRkaXRpb25hbCBDU1MuIFNldCB0aGlzIHZhcmlhYmxlIHRvIGZhbHNlIHRvXG4vLy8gZGlzYWJsZSBnZW5lcmF0aW5nIGZhbGxiYWNrIGRlY2xhcmF0aW9ucy5cbiRlbmFibGUtZmFsbGJhY2stZGVjbGFyYXRpb25zOiB0cnVlICFkZWZhdWx0O1xuXG4vLy8gV3JpdGVzIGEgQ1NTIHByb3BlcnR5L3ZhbHVlIGRlY2xhcmF0aW9uLiBUaGlzIG1peGluIGlzIHVzZWQgdGhyb3VnaG91dCB0aGVcbi8vLyB0aGVtZSBwYWNrYWdlIGZvciBjb25zaXN0ZW5jeSBmb3IgZHluYW1pY2FsbHkgc2V0dGluZyBDU1MgcHJvcGVydHkgdmFsdWVzLlxuLy8vXG4vLy8gVGhpcyBtaXhpbiBtYXkgb3B0aW9uYWxseSB0YWtlIGEgZmFsbGJhY2sgdmFsdWUuIEZvciBhZHZhbmNlZCBmZWF0dXJlcyBzdWNoXG4vLy8gYXMgY3VzdG9tIHByb3BlcnRpZXMgb3IgQ1NTIGZ1bmN0aW9ucyBsaWtlIG1pbiBhbmQgbWF4LCBhIGZhbGxiYWNrIHZhbHVlIGlzXG4vLy8gcmVjb21tZW5kZWQgdG8gc3VwcG9ydCBvbGRlciBicm93c2Vycy5cbi8vL1xuLy8vIEBwYXJhbSB7U3RyaW5nfSAkcHJvcGVydHkgLSBUaGUgQ1NTIHByb3BlcnR5IG9mIHRoZSBkZWNsYXJhdGlvbi5cbi8vLyBAcGFyYW0geyp9ICR2YWx1ZSAtIFRoZSB2YWx1ZSBvZiB0aGUgQ1NTIGRlY2xhcmF0aW9uLiBUaGUgdmFsdWUgc2hvdWxkIGJlXG4vLy8gICAgIHJlc29sdmVkIGJ5IG90aGVyIHRoZW1lIGZ1bmN0aW9ucyBmaXJzdCAoaS5lLiBjdXN0b20gcHJvcGVydHkgTWFwcyBhbmRcbi8vLyAgICAgTWF0ZXJpYWwgdGhlbWUga2V5cyBhcmUgbm90IHN1cHBvcnRlZCBpbiB0aGlzIG1peGluKS4gSWYgdGhlIHZhbHVlIGlzXG4vLy8gICAgIG51bGwsIG5vIGRlY2xhcmF0aW9ucyB3aWxsIGJlIGVtaXR0ZWQuXG4vLy8gQHBhcmFtIHsqfSAkZmFsbGJhY2sgLSBBbiBvcHRpb25hbCBmYWxsYmFjayB2YWx1ZSBmb3Igb2xkZXIgYnJvd3NlcnMuIElmXG4vLy8gICAgIHByb3ZpZGVkLCBhIHNlY29uZCBwcm9wZXJ0eS92YWx1ZSBkZWNsYXJhdGlvbiB3aWxsIGJlIGFkZGVkIGJlZm9yZSB0aGVcbi8vLyAgICAgbWFpbiBwcm9wZXJ0eS92YWx1ZSBkZWNsYXJhdGlvbi5cbi8vLyBAcGFyYW0ge01hcH0gJGdzcyAtIEFuIG9wdGlvbmFsIE1hcCBvZiBHU1MgYW5ub3RhdGlvbnMgdG8gYWRkLlxuLy8vIEBwYXJhbSB7Qm9vbH0gJGltcG9ydGFudCAtIElmIHRydWUsIGFkZCBgIWltcG9ydGFudGAgdG8gdGhlIGRlY2xhcmF0aW9uLlxuQG1peGluIGRlY2xhcmF0aW9uKFxuICAkcHJvcGVydHksXG4gICR2YWx1ZSxcbiAgJGZhbGxiYWNrLXZhbHVlOiBudWxsLFxuICAkZ3NzOiAoKSxcbiAgJGltcG9ydGFudDogZmFsc2Vcbikge1xuICAvLyBOb3JtYWxseSBzZXR0aW5nIGEgbnVsbCB2YWx1ZSB0byBhIHByb3BlcnR5IHdpbGwgbm90IGVtaXQgQ1NTLCBzbyBtaXhpbnNcbiAgLy8gd291bGRuJ3QgbmVlZCB0byBjaGVjayB0aGlzLiBIb3dldmVyLCBTYXNzIHdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlXG4gIC8vIGludGVycG9sYXRlZCBwcm9wZXJ0eSBpcyBhIGN1c3RvbSBwcm9wZXJ0eS5cbiAgQGlmICR2YWx1ZSAhPSBudWxsIHtcbiAgICAkaW1wb3J0YW50LXJ1bGU6IGlmKCRpbXBvcnRhbnQsICcgIWltcG9ydGFudCcsICcnKTtcblxuICAgIEBpZiAkZmFsbGJhY2stdmFsdWUgYW5kICRlbmFibGUtZmFsbGJhY2stZGVjbGFyYXRpb25zIHtcbiAgICAgIEBpbmNsdWRlIGdzcy5hbm5vdGF0ZSgkZ3NzKTtcbiAgICAgICN7JHByb3BlcnR5fTogI3skZmFsbGJhY2stdmFsdWV9ICN7JGltcG9ydGFudC1ydWxlfTtcblxuICAgICAgLy8gQWRkIEBhbHRlcm5hdGUgdG8gYW5ub3RhdGlvbnMuXG4gICAgICAkZ3NzOiBtYXAubWVyZ2UoXG4gICAgICAgICRnc3MsXG4gICAgICAgIChcbiAgICAgICAgICBhbHRlcm5hdGU6IHRydWUsXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgZ3NzLmFubm90YXRlKCRnc3MpO1xuICAgICN7JHByb3BlcnR5fTogI3skdmFsdWV9I3skaW1wb3J0YW50LXJ1bGV9O1xuICB9XG59XG5cbi8vLyBVbnBhY2tzIHNob3J0aGFuZCB2YWx1ZXMgZm9yIENTUyBwcm9wZXJ0aWVzIChpLmUuIGxpc3RzIG9mIDEtMyB2YWx1ZXMpLlxuLy8vIElmIGEgbGlzdCBvZiA0IHZhbHVlcyBpcyBnaXZlbiwgaXQgaXMgcmV0dXJuZWQgYXMtaXMuXG4vLy9cbi8vLyBFeGFtcGxlczpcbi8vL1xuLy8vIHVucGFjay12YWx1ZSg0cHgpID0+IDRweCA0cHggNHB4IDRweFxuLy8vIHVucGFjay12YWx1ZSg0cHggMnB4KSA9PiA0cHggMnB4IDRweCAycHhcbi8vLyB1bnBhY2stdmFsdWUoNHB4IDJweCAycHgpID0+IDRweCAycHggMnB4IDJweFxuLy8vIHVucGFjay12YWx1ZSg0cHggMnB4IDAgMnB4KSA9PiA0cHggMnB4IDAgMnB4XG4vLy9cbi8vLyBAcGFyYW0ge051bWJlciB8IE1hcCB8IExpc3R9ICR2YWx1ZSAtIExpc3Qgb2YgMSB0byA0IHZhbHVlIG51bWJlcnMuXG4vLy8gQHJldHVybiB7TGlzdH0gYSBMaXN0IG9mIDQgdmFsdWUgbnVtYmVycy5cbkBmdW5jdGlvbiB1bnBhY2stdmFsdWUoJHZhbHVlKSB7XG4gIEBpZiBtZXRhLnR5cGUtb2YoJHZhbHVlKSA9PSAnbWFwJyBvciBsaXN0Lmxlbmd0aCgkdmFsdWUpID09IDEge1xuICAgIEByZXR1cm4gJHZhbHVlICR2YWx1ZSAkdmFsdWUgJHZhbHVlO1xuICB9IEBlbHNlIGlmIGxpc3QubGVuZ3RoKCR2YWx1ZSkgPT0gNCB7XG4gICAgQHJldHVybiAkdmFsdWU7XG4gIH0gQGVsc2UgaWYgbGlzdC5sZW5ndGgoJHZhbHVlKSA9PSAzIHtcbiAgICBAcmV0dXJuIGxpc3QubnRoKCR2YWx1ZSwgMSkgbGlzdC5udGgoJHZhbHVlLCAyKSBsaXN0Lm50aCgkdmFsdWUsIDMpXG4gICAgICBsaXN0Lm50aCgkdmFsdWUsIDIpO1xuICB9IEBlbHNlIGlmIGxpc3QubGVuZ3RoKCR2YWx1ZSkgPT0gMiB7XG4gICAgQHJldHVybiBsaXN0Lm50aCgkdmFsdWUsIDEpIGxpc3QubnRoKCR2YWx1ZSwgMikgbGlzdC5udGgoJHZhbHVlLCAxKVxuICAgICAgbGlzdC5udGgoJHZhbHVlLCAyKTtcbiAgfVxuXG4gIEBlcnJvciBcIkludmFsaWQgQ1NTIHByb3BlcnR5IHZhbHVlOiAnI3skdmFsdWV9JyBpcyBtb3JlIHRoYW4gNCB2YWx1ZXNcIjtcbn1cbiIsIkB1c2UgJ3Nhc3M6bWFwJztcbkB1c2UgJ0BtYXRlcmlhbC9jaGVja2JveC9jaGVja2JveC10aGVtZScgYXMgbWRjLWNoZWNrYm94LXRoZW1lO1xuQHVzZSAnQG1hdGVyaWFsL2Zvcm0tZmllbGQnIGFzIG1kYy1mb3JtLWZpZWxkO1xuQHVzZSAnLi4vY29yZS9zdHlsZS9zYXNzLXV0aWxzJztcbkB1c2UgJy4uL2NvcmUvdGhlbWluZy90aGVtaW5nJztcbkB1c2UgJy4uL2NvcmUvdHlwb2dyYXBoeS90eXBvZ3JhcGh5JztcbkB1c2UgJy4uL2NvcmUvbWRjLWhlbHBlcnMvbWRjLWhlbHBlcnMnO1xuQHVzZSAnLi4vY29yZS90b2tlbnMvbTIvbWRjL2NoZWNrYm94JyBhcyB0b2tlbnMtbWRjLWNoZWNrYm94O1xuXG5AbWl4aW4gY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiB0aGVtaW5nLmdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAuZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkd2FybjogbWFwLmdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGZvcmVncm91bmQ6IG1hcC5nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgQGluY2x1ZGUgc2Fzcy11dGlscy5jdXJyZW50LXNlbGVjdG9yLW9yLXJvb3QoKSB7XG4gICAgQGluY2x1ZGUgbWRjLWNoZWNrYm94LXRoZW1lLnRoZW1lKHRva2Vucy1tZGMtY2hlY2tib3guZ2V0LWNvbG9yLXRva2VucygkY29uZmlnKSk7XG4gIH1cblxuICAubWF0LW1kYy1jaGVja2JveCB7XG4gICAgJi5tYXQtcHJpbWFyeSB7XG4gICAgICAkcHJpbWFyeS1jb25maWc6IG1hcC5tZXJnZSgkY29uZmlnLCAoYWNjZW50OiAkcHJpbWFyeSkpO1xuICAgICAgQGluY2x1ZGUgbWRjLWNoZWNrYm94LXRoZW1lLnRoZW1lKHRva2Vucy1tZGMtY2hlY2tib3guZ2V0LWNvbG9yLXRva2VucygkcHJpbWFyeS1jb25maWcpKTtcbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIHtcbiAgICAgICR3YXJuLWNvbmZpZzogbWFwLm1lcmdlKCRjb25maWcsIChhY2NlbnQ6ICR3YXJuKSk7XG4gICAgICBAaW5jbHVkZSBtZGMtY2hlY2tib3gtdGhlbWUudGhlbWUodG9rZW5zLW1kYy1jaGVja2JveC5nZXQtY29sb3ItdG9rZW5zKCR3YXJuLWNvbmZpZykpO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIG1kYy1oZWxwZXJzLnVzaW5nLW1kYy10aGVtZSgkY29uZmlnKSB7XG4gICAgICAvLyBUT0RPKG1tYWxlcmJhKTogU3dpdGNoIHRvIHN0YXRpYy1zdHlsZXMsIHRoZW1lLXN0eWxlcywgYW5kIHRoZW1lIG9uY2UgdGhleSdyZSBhdmFpbGFibGUuXG4gICAgICBAaW5jbHVkZSBtZGMtZm9ybS1maWVsZC5jb3JlLXN0eWxlcygkcXVlcnk6IG1kYy1oZWxwZXJzLiRtZGMtdGhlbWUtc3R5bGVzLXF1ZXJ5KTtcbiAgICB9XG5cbiAgICAmLm1hdC1tZGMtY2hlY2tib3gtZGlzYWJsZWQgbGFiZWwge1xuICAgICAgLy8gTURDIHNob3VsZCBzZXQgdGhlIGRpc2FibGVkIGNvbG9yIG9uIHRoZSBsYWJlbCwgYnV0IGRvZXNuJ3QsIHNvIHdlIGRvIGl0IGhlcmUgaW5zdGVhZC5cbiAgICAgIGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGZvcmVncm91bmQsIGRpc2FibGVkLXRleHQpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHR5cG9ncmFwaHkucHJpdmF0ZS10eXBvZ3JhcGh5LXRvLTIwMTgtY29uZmlnKFxuICAgICAgICAgIHRoZW1pbmcuZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpKTtcblxuICBAaW5jbHVkZSBzYXNzLXV0aWxzLmN1cnJlbnQtc2VsZWN0b3Itb3Itcm9vdCgpIHtcbiAgICBAaW5jbHVkZSBtZGMtY2hlY2tib3gtdGhlbWUudGhlbWUodG9rZW5zLW1kYy1jaGVja2JveC5nZXQtdHlwb2dyYXBoeS10b2tlbnMoJGNvbmZpZykpO1xuICB9XG5cbiAgLm1hdC1tZGMtY2hlY2tib3gge1xuICAgIEBpbmNsdWRlIG1kYy1oZWxwZXJzLnVzaW5nLW1kYy10eXBvZ3JhcGh5KCRjb25maWcpIHtcbiAgICAgIC8vIFRPRE8obW1hbGVyYmEpOiBTd2l0Y2ggdG8gc3RhdGljLXN0eWxlcywgdGhlbWUtc3R5bGVzLCBhbmQgdGhlbWUgb25jZSB0aGV5J3JlIGF2YWlsYWJsZS5cbiAgICAgIEBpbmNsdWRlIG1kYy1mb3JtLWZpZWxkLmNvcmUtc3R5bGVzKCRxdWVyeTogbWRjLWhlbHBlcnMuJG1kYy10eXBvZ3JhcGh5LXN0eWxlcy1xdWVyeSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBkZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuXG4gIEBpbmNsdWRlIHNhc3MtdXRpbHMuY3VycmVudC1zZWxlY3Rvci1vci1yb290KCkge1xuICAgIEBpbmNsdWRlIG1kYy1jaGVja2JveC10aGVtZS50aGVtZSh0b2tlbnMtbWRjLWNoZWNrYm94LmdldC1kZW5zaXR5LXRva2VucygkZGVuc2l0eS1zY2FsZSkpO1xuICB9XG5cbiAgQGluY2x1ZGUgbWRjLWhlbHBlcnMuaWYtdG91Y2gtdGFyZ2V0cy11bnN1cHBvcnRlZCgkZGVuc2l0eS1zY2FsZSkge1xuICAgIC5tYXQtbWRjLWNoZWNrYm94LXRvdWNoLXRhcmdldCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IHRoZW1pbmcucHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSB0aGVtaW5nLnByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtY2hlY2tib3gnKSB7XG4gICAgJGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogdGhlbWluZy5nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogdGhlbWluZy5nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBjb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBkZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG4iLCJAdXNlICdzYXNzOmNvbG9yJztcbkB1c2UgJ3Nhc3M6bWFwJztcbkB1c2UgJ3Nhc3M6bWV0YSc7XG5AdXNlICdAbWF0ZXJpYWwvY2hpcHMvY2hpcC10aGVtZScgYXMgbWRjLWNoaXAtdGhlbWU7XG5AdXNlICdAbWF0ZXJpYWwvY2hpcHMvY2hpcC1zZXQnIGFzIG1kYy1jaGlwLXNldDtcbkB1c2UgJ0BtYXRlcmlhbC90aGVtZS90aGVtZS1jb2xvcicgYXMgbWRjLXRoZW1lLWNvbG9yO1xuQHVzZSAnQG1hdGVyaWFsL3RoZW1lL2NvbG9yLXBhbGV0dGUnIGFzIG1kYy1jb2xvci1wYWxldHRlO1xuQHVzZSAnQG1hdGVyaWFsL3R5cG9ncmFwaHknIGFzIG1kYy10eXBvZ3JhcGh5O1xuQHVzZSAnLi4vY29yZS9tZGMtaGVscGVycy9tZGMtaGVscGVycyc7XG5AdXNlICcuLi9jb3JlL3RoZW1pbmcvdGhlbWluZyc7XG5AdXNlICcuLi9jb3JlL3R5cG9ncmFwaHkvdHlwb2dyYXBoeSc7XG5cbkBtaXhpbiBfY2hpcC12YXJpYW50KCRiYWNrZ3JvdW5kLCAkZm9yZWdyb3VuZCkge1xuICBAaW5jbHVkZSBtZGMtY2hpcC10aGVtZS50aGVtZSgoXG4gICAgZWxldmF0ZWQtY29udGFpbmVyLWNvbG9yOiAkYmFja2dyb3VuZCxcbiAgICBlbGV2YXRlZC1kaXNhYmxlZC1jb250YWluZXItY29sb3I6ICRiYWNrZ3JvdW5kLFxuICAgIGxhYmVsLXRleHQtY29sb3I6ICRmb3JlZ3JvdW5kLFxuICAgIGRpc2FibGVkLWxhYmVsLXRleHQtY29sb3I6ICRmb3JlZ3JvdW5kLFxuICAgIHdpdGgtaWNvbi1pY29uLWNvbG9yOiAkZm9yZWdyb3VuZCxcbiAgICB3aXRoLWljb24tZGlzYWJsZWQtaWNvbi1jb2xvcjogJGZvcmVncm91bmQsXG4gICAgd2l0aC10cmFpbGluZy1pY29uLWRpc2FibGVkLXRyYWlsaW5nLWljb24tY29sb3I6ICRmb3JlZ3JvdW5kLFxuICAgIHdpdGgtdHJhaWxpbmctaWNvbi10cmFpbGluZy1pY29uLWNvbG9yOiAkZm9yZWdyb3VuZCxcbiAgICB3aXRoLWljb24tc2VsZWN0ZWQtaWNvbi1jb2xvcjogJGZvcmVncm91bmQsXG4gICkpO1xufVxuXG5AbWl4aW4gX2NvbG9yZWQtY2hpcCgkcGFsZXR0ZSkge1xuICAkYmFja2dyb3VuZDogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRwYWxldHRlKTtcbiAgJGZvcmVncm91bmQ6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkcGFsZXR0ZSwgZGVmYXVsdC1jb250cmFzdCk7XG5cbiAgJi5tYXQtbWRjLWNoaXAtc2VsZWN0ZWQsXG4gICYubWF0LW1kYy1jaGlwLWhpZ2hsaWdodGVkIHtcbiAgICBAaW5jbHVkZSBfY2hpcC12YXJpYW50KCRiYWNrZ3JvdW5kLCAkZm9yZWdyb3VuZCk7XG4gIH1cbn1cblxuQG1peGluIGNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLmdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLmdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLmdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGZvcmVncm91bmQ6IG1hcC5nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG4gICRpcy1kYXJrOiBtYXAuZ2V0KCRjb25maWcsIGlzLWRhcmspO1xuXG4gIEBpbmNsdWRlIG1kYy1oZWxwZXJzLnVzaW5nLW1kYy10aGVtZSgkY29uZmlnKSB7XG4gICAgJG9uLXN1cmZhY2U6IG1kYy10aGVtZS1jb2xvci5wcm9wLXZhbHVlKG9uLXN1cmZhY2UpO1xuICAgICRzdXJmYWNlOiBtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShzdXJmYWNlKTtcblxuICAgIC5tYXQtbWRjLXN0YW5kYXJkLWNoaXAge1xuICAgICAgJHN0YW5kYXJkLWJhY2tncm91bmQ6IGlmKFxuICAgICAgICBtZXRhLnR5cGUtb2YoJG9uLXN1cmZhY2UpID09IGNvbG9yIGFuZCBtZXRhLnR5cGUtb2YoJHN1cmZhY2UpID09IGNvbG9yLFxuICAgICAgICBjb2xvci5taXgoJG9uLXN1cmZhY2UsICRzdXJmYWNlLCAxMiUpLFxuICAgICAgICAkb24tc3VyZmFjZVxuICAgICAgKTtcblxuICAgICAgQGluY2x1ZGUgX2NoaXAtdmFyaWFudChcbiAgICAgICAgJHN0YW5kYXJkLWJhY2tncm91bmQsXG4gICAgICAgIGlmKCRpcy1kYXJrLCBtZGMtY29sb3ItcGFsZXR0ZS4kZ3JleS01MCwgbWRjLWNvbG9yLXBhbGV0dGUuJGdyZXktOTAwKVxuICAgICAgKTtcblxuICAgICAgJi5tYXQtcHJpbWFyeSB7XG4gICAgICAgIEBpbmNsdWRlIF9jb2xvcmVkLWNoaXAoJHByaW1hcnkpO1xuICAgICAgfVxuXG4gICAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgICBAaW5jbHVkZSBfY29sb3JlZC1jaGlwKCRhY2NlbnQpO1xuICAgICAgfVxuXG4gICAgICAmLm1hdC13YXJuIHtcbiAgICAgICAgQGluY2x1ZGUgX2NvbG9yZWQtY2hpcCgkd2Fybik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLm1hdC1tZGMtY2hpcC1mb2N1cy1vdmVybGF5IHtcbiAgICBiYWNrZ3JvdW5kOiBtYXAuZ2V0KCRmb3JlZ3JvdW5kLCBiYXNlKTtcbiAgfVxufVxuXG5AbWl4aW4gdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHR5cG9ncmFwaHkucHJpdmF0ZS10eXBvZ3JhcGh5LXRvLTIwMTgtY29uZmlnKFxuICAgICAgdGhlbWluZy5nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSkpO1xuICBAaW5jbHVkZSBtZGMtY2hpcC1zZXQuY29yZS1zdHlsZXMoJHF1ZXJ5OiBtZGMtaGVscGVycy4kbWRjLXR5cG9ncmFwaHktc3R5bGVzLXF1ZXJ5KTtcbiAgQGluY2x1ZGUgbWRjLWhlbHBlcnMudXNpbmctbWRjLXR5cG9ncmFwaHkoJGNvbmZpZykge1xuICAgIC8vIE5vdGUgdGhhdCB3ZSBkb24ndCBnbyB0aHJvdWdoIE1EQydzIHR5cG9ncmFwaHkgbWl4aW4sIGJlY2F1c2UgaXQgYXNzaWducyB0aGUgc3R5bGVzIHRvXG4gICAgLy8gYW4gaW5uZXIgZWxlbWVudCB3aGljaCBtYWtlcyBpdCBkaWZmaWN1bHQgZm9yIGNsaWVudHMgdG8gY3VzdG9taXplLiBJbnN0ZWFkIHdlIGFwcGx5IHRoZVxuICAgIC8vIHNhbWUgc3R5bGVzIG91cnNlbHZlcyB0byB0aGUgcm9vdC5cbiAgICAubWF0LW1kYy1zdGFuZGFyZC1jaGlwIHtcbiAgICAgIEBpbmNsdWRlIG1kYy10eXBvZ3JhcGh5LnR5cG9ncmFwaHkoYm9keTIsICRxdWVyeTogbWRjLWhlbHBlcnMuJG1kYy10eXBvZ3JhcGh5LXN0eWxlcy1xdWVyeSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBkZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZGVuc2l0eS1zY2FsZTogdGhlbWluZy5jbGFtcC1kZW5zaXR5KCRkZW5zaXR5LXNjYWxlLCAtMik7XG4gIC5tYXQtbWRjLWNoaXAubWF0LW1kYy1zdGFuZGFyZC1jaGlwIHtcbiAgICBAaW5jbHVkZSBtZGMtY2hpcC10aGVtZS5kZW5zaXR5KCRkZW5zaXR5LXNjYWxlLCAkcXVlcnk6IG1kYy1oZWxwZXJzLiRtZGMtYmFzZS1zdHlsZXMtcXVlcnkpO1xuICB9XG59XG5cbkBtaXhpbiB0aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogdGhlbWluZy5wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIHRoZW1pbmcucHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1jaGlwcycpIHtcbiAgICAkY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiB0aGVtaW5nLmdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSB0eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cbiIsIi8vXG4vLyBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4vLyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4vLyBUSEUgU09GVFdBUkUuXG4vL1xuXG4vLyBTZWxlY3RvciAnLm1kYy0qJyBzaG91bGQgb25seSBiZSB1c2VkIGluIHRoaXMgcHJvamVjdC5cbi8vIHN0eWxlbGludC1kaXNhYmxlIHNlbGVjdG9yLWNsYXNzLXBhdHRlcm4gLS1cbi8vIEludGVybmFsIHN0eWxpbmcgZm9yIENoaXAgTURDIGNvbXBvbmVudC5cblxuQHVzZSAnc2FzczptYXAnO1xuQHVzZSAnc2FzczptZXRhJztcbkB1c2UgJ3Nhc3M6bWF0aCc7XG5AdXNlICdzYXNzOmNvbG9yJztcbkB1c2UgJ0BtYXRlcmlhbC9kb20vZG9tJztcbkB1c2UgJ0BtYXRlcmlhbC9kZW5zaXR5L2RlbnNpdHknO1xuQHVzZSAnQG1hdGVyaWFsL2ZlYXR1cmUtdGFyZ2V0aW5nL2ZlYXR1cmUtdGFyZ2V0aW5nJztcbkB1c2UgJ0BtYXRlcmlhbC9zaGFwZS9zaGFwZSc7XG5AdXNlICdAbWF0ZXJpYWwvcmlwcGxlL3JpcHBsZS10aGVtZSc7XG5AdXNlICdAbWF0ZXJpYWwvcnRsL3J0bCc7XG5AdXNlICdAbWF0ZXJpYWwvdGhlbWUvdGhlbWUnO1xuQHVzZSAnQG1hdGVyaWFsL3RoZW1lL2tleXMnO1xuQHVzZSAnQG1hdGVyaWFsL2VsZXZhdGlvbi9lbGV2YXRpb24tdGhlbWUnO1xuQHVzZSAnQG1hdGVyaWFsL3Rva2Vucy9yZXNvbHZlcnMnO1xuQHVzZSAnQG1hdGVyaWFsL3RoZW1lL3N0YXRlJztcbkB1c2UgJ0BtYXRlcmlhbC90aGVtZS90aGVtZS1jb2xvcic7XG5AdXNlICdAbWF0ZXJpYWwvdHlwb2dyYXBoeS90eXBvZ3JhcGh5JztcblxuJGhlaWdodDogMzJweDtcbiRtaW5pbXVtLWhlaWdodDogMjRweDtcbiRtYXhpbXVtLWhlaWdodDogJGhlaWdodDtcbiRkZW5zaXR5LXNjYWxlOiBkZW5zaXR5LiRkZWZhdWx0LXNjYWxlO1xuJGRlbnNpdHktY29uZmlnOiAoXG4gIGhlaWdodDogKFxuICAgIGRlZmF1bHQ6ICRoZWlnaHQsXG4gICAgbWF4aW11bTogJG1heGltdW0taGVpZ2h0LFxuICAgIG1pbmltdW06ICRtaW5pbXVtLWhlaWdodCxcbiAgKSxcbik7XG4kcmFkaXVzOiBtYXRoLmRpdigkaGVpZ2h0LCAyKTtcbiR0eXBlLXNjYWxlOiBib2R5MjtcbiRjb250YWluZXItY29sb3I6IGNvbG9yLm1peChcbiAgdGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1zdXJmYWNlKSxcbiAgdGhlbWUtY29sb3IucHJvcC12YWx1ZShzdXJmYWNlKSxcbiAgMTIlXG4pO1xuJHRleHQtbGFiZWwtY29sb3I6IHJnYmEodGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1zdXJmYWNlKSwgMC44Nyk7XG4kaWNvbi1jb2xvcjogcmdiYSh0aGVtZS1jb2xvci5wcm9wLXZhbHVlKG9uLXN1cmZhY2UpLCAwLjg3KTtcbiRjaGVja21hcmstY29sb3I6IHJnYmEodGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1zdXJmYWNlKSwgMC44Nyk7XG4kdHJhaWxpbmctYWN0aW9uLWNvbG9yOiByZ2JhKHRoZW1lLWNvbG9yLnByb3AtdmFsdWUob24tc3VyZmFjZSksIDAuODcpO1xuJHJpcHBsZS1jb2xvcjogb24tc3VyZmFjZTtcbiRjaGVja21hcmstc2l6ZTogMjBweDtcbiRsZWFkaW5nLWljb24tc2l6ZTogMjBweDtcbiR0cmFpbGluZy1hY3Rpb24tc2l6ZTogMThweDtcbiRsZWFkaW5nLXBhZGRpbmc6IDEycHg7XG4kdHJhaWxpbmctcGFkZGluZzogMTJweDtcbiRhdmF0YXItc2l6ZTogMjRweDtcbiRhdmF0YXItbGVhZGluZy1wYWRkaW5nOiA0cHg7XG4kYXZhdGFyLXRyYWlsaW5nLXBhZGRpbmc6IDhweDtcbiRncmFwaGljLWxlYWRpbmctcGFkZGluZzogNnB4O1xuJGdyYXBoaWMtdHJhaWxpbmctcGFkZGluZzogNnB4O1xuJHRyYWlsaW5nLWFjdGlvbi1sZWFkaW5nLXBhZGRpbmc6IDhweDtcbiR0cmFpbGluZy1hY3Rpb24tdHJhaWxpbmctcGFkZGluZzogOHB4O1xuJHJpcHBsZS10YXJnZXQ6ICcubWRjLWV2b2x1dGlvbi1jaGlwX19yaXBwbGUnO1xuJHJpcHBsZS10YXJnZXQtcHJpbWFyeTogJy5tZGMtZXZvbHV0aW9uLWNoaXBfX3JpcHBsZS0tcHJpbWFyeSc7XG4kcmlwcGxlLXRhcmdldC10cmFpbGluZzogJy5tZGMtZXZvbHV0aW9uLWNoaXBfX3JpcHBsZS0tdHJhaWxpbmcnO1xuXG4vLyBGaWx0ZXIgY2hpcCBjb2xvcnNcbiRmaWx0ZXItc2VsZWN0ZWQtY29udGFpbmVyLWNvbG9yOiBjb2xvci5taXgoXG4gIHRoZW1lLWNvbG9yLnByb3AtdmFsdWUob24tc3VyZmFjZSksXG4gICRjb250YWluZXItY29sb3IsXG4gIDglXG4pO1xuXG4kbGlnaHQtdGhlbWU6IChcbiAgY29udGFpbmVyLWVsZXZhdGlvbjogbnVsbCxcbiAgY29udGFpbmVyLWhlaWdodDogbnVsbCxcbiAgY29udGFpbmVyLXNoYWRvdy1jb2xvcjogbnVsbCxcbiAgY29udGFpbmVyLXNoYXBlOiBudWxsLFxuICBkaXNhYmxlZC1sYWJlbC10ZXh0LWNvbG9yOiBudWxsLFxuICBkaXNhYmxlZC1sYWJlbC10ZXh0LW9wYWNpdHk6IG51bGwsXG4gIGRpc2FibGVkLW91dGxpbmUtY29sb3I6IG51bGwsXG4gIGRpc2FibGVkLW91dGxpbmUtb3BhY2l0eTogbnVsbCxcbiAgZWxldmF0ZWQtY29udGFpbmVyLWNvbG9yOiBudWxsLFxuICBlbGV2YXRlZC1jb250YWluZXItZWxldmF0aW9uOiBudWxsLFxuICBlbGV2YXRlZC1jb250YWluZXItc2hhZG93LWNvbG9yOiBudWxsLFxuICBjb250YWluZXItc3VyZmFjZS10aW50LWxheWVyLWNvbG9yOiBudWxsLFxuICBlbGV2YXRlZC1kaXNhYmxlZC1jb250YWluZXItY29sb3I6IG51bGwsXG4gIGVsZXZhdGVkLWRpc2FibGVkLWNvbnRhaW5lci1lbGV2YXRpb246IG51bGwsXG4gIGVsZXZhdGVkLWRpc2FibGVkLWNvbnRhaW5lci1vcGFjaXR5OiBudWxsLFxuICBlbGV2YXRlZC1mb2N1cy1jb250YWluZXItZWxldmF0aW9uOiBudWxsLFxuICBlbGV2YXRlZC1ob3Zlci1jb250YWluZXItZWxldmF0aW9uOiBudWxsLFxuICBlbGV2YXRlZC1wcmVzc2VkLWNvbnRhaW5lci1lbGV2YXRpb246IG51bGwsXG4gIGVsZXZhdGVkLXNlbGVjdGVkLWNvbnRhaW5lci1jb2xvcjogbnVsbCxcbiAgZWxldmF0ZWQtc2VsZWN0ZWQtY29udGFpbmVyLWVsZXZhdGlvbjogbnVsbCxcbiAgZWxldmF0ZWQtdW5zZWxlY3RlZC1jb250YWluZXItY29sb3I6IG51bGwsXG4gIGZsYXQtY29udGFpbmVyLWVsZXZhdGlvbjogbnVsbCxcbiAgZmxhdC1kaXNhYmxlZC1vdXRsaW5lLWNvbG9yOiBudWxsLFxuICBmbGF0LWRpc2FibGVkLW91dGxpbmUtb3BhY2l0eTogbnVsbCxcbiAgZmxhdC1kaXNhYmxlZC1zZWxlY3RlZC1jb250YWluZXItY29sb3I6IG51bGwsXG4gIGZsYXQtZGlzYWJsZWQtc2VsZWN0ZWQtY29udGFpbmVyLW9wYWNpdHk6IG51bGwsXG4gIGZsYXQtZGlzYWJsZWQtc2VsZWN0ZWQtb3V0bGluZS1jb2xvcjogbnVsbCxcbiAgZmxhdC1kaXNhYmxlZC1zZWxlY3RlZC1vdXRsaW5lLW9wYWNpdHk6IG51bGwsXG4gIGZsYXQtZGlzYWJsZWQtdW5zZWxlY3RlZC1vdXRsaW5lLWNvbG9yOiBudWxsLFxuICBmbGF0LWRpc2FibGVkLXVuc2VsZWN0ZWQtb3V0bGluZS1vcGFjaXR5OiBudWxsLFxuICBmbGF0LWZvY3VzLW91dGxpbmUtY29sb3I6IG51bGwsXG4gIGZsYXQtb3V0bGluZS1jb2xvcjogbnVsbCxcbiAgZmxhdC1vdXRsaW5lLXdpZHRoOiBudWxsLFxuICBmbGF0LXNlbGVjdGVkLWNvbnRhaW5lci1jb2xvcjogbnVsbCxcbiAgZmxhdC1zZWxlY3RlZC1mb2N1cy1jb250YWluZXItZWxldmF0aW9uOiBudWxsLFxuICBmbGF0LXNlbGVjdGVkLWhvdmVyLWNvbnRhaW5lci1lbGV2YXRpb246IG51bGwsXG4gIGZsYXQtc2VsZWN0ZWQtb3V0bGluZS1jb2xvcjogbnVsbCxcbiAgZmxhdC1zZWxlY3RlZC1vdXRsaW5lLXdpZHRoOiBudWxsLFxuICBmbGF0LXNlbGVjdGVkLXByZXNzZWQtY29udGFpbmVyLWVsZXZhdGlvbjogbnVsbCxcbiAgZmxhdC11bnNlbGVjdGVkLWZvY3VzLWNvbnRhaW5lci1lbGV2YXRpb246IG51bGwsXG4gIGZsYXQtdW5zZWxlY3RlZC1mb2N1cy1vdXRsaW5lLWNvbG9yOiBudWxsLFxuICBmbGF0LXVuc2VsZWN0ZWQtaG92ZXItY29udGFpbmVyLWVsZXZhdGlvbjogbnVsbCxcbiAgZmxhdC11bnNlbGVjdGVkLW91dGxpbmUtY29sb3I6IG51bGwsXG4gIGZsYXQtdW5zZWxlY3RlZC1vdXRsaW5lLXdpZHRoOiBudWxsLFxuICBmbGF0LXVuc2VsZWN0ZWQtcHJlc3NlZC1jb250YWluZXItZWxldmF0aW9uOiBudWxsLFxuICBmb2N1cy1sYWJlbC10ZXh0LWNvbG9yOiBudWxsLFxuICBmb2N1cy1vdXRsaW5lLWNvbG9yOiBudWxsLFxuICBmb2N1cy1zdGF0ZS1sYXllci1jb2xvcjogbnVsbCxcbiAgZm9jdXMtc3RhdGUtbGF5ZXItb3BhY2l0eTogbnVsbCxcbiAgaG92ZXItbGFiZWwtdGV4dC1jb2xvcjogbnVsbCxcbiAgaG92ZXItc3RhdGUtbGF5ZXItY29sb3I6IG51bGwsXG4gIGhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHk6IG51bGwsXG4gIGxhYmVsLXRleHQtY29sb3I6IG51bGwsXG4gIGxhYmVsLXRleHQtZm9udDogbnVsbCxcbiAgbGFiZWwtdGV4dC1saW5lLWhlaWdodDogbnVsbCxcbiAgbGFiZWwtdGV4dC1zaXplOiBudWxsLFxuICBsYWJlbC10ZXh0LXRyYWNraW5nOiBudWxsLFxuICBsYWJlbC10ZXh0LXdlaWdodDogbnVsbCxcbiAgb3V0bGluZS1jb2xvcjogbnVsbCxcbiAgb3V0bGluZS13aWR0aDogbnVsbCxcbiAgcHJlc3NlZC1sYWJlbC10ZXh0LWNvbG9yOiBudWxsLFxuICBwcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yOiBudWxsLFxuICBwcmVzc2VkLXN0YXRlLWxheWVyLW9wYWNpdHk6IG51bGwsXG4gIHNlbGVjdGVkLWZvY3VzLWxhYmVsLXRleHQtY29sb3I6IG51bGwsXG4gIHNlbGVjdGVkLWZvY3VzLXN0YXRlLWxheWVyLWNvbG9yOiBudWxsLFxuICBzZWxlY3RlZC1mb2N1cy1zdGF0ZS1sYXllci1vcGFjaXR5OiBudWxsLFxuICBzZWxlY3RlZC1ob3Zlci1sYWJlbC10ZXh0LWNvbG9yOiBudWxsLFxuICBzZWxlY3RlZC1ob3Zlci1zdGF0ZS1sYXllci1jb2xvcjogbnVsbCxcbiAgc2VsZWN0ZWQtaG92ZXItc3RhdGUtbGF5ZXItb3BhY2l0eTogbnVsbCxcbiAgc2VsZWN0ZWQtbGFiZWwtdGV4dC1jb2xvcjogbnVsbCxcbiAgc2VsZWN0ZWQtcHJlc3NlZC1sYWJlbC10ZXh0LWNvbG9yOiBudWxsLFxuICBzZWxlY3RlZC1wcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yOiBudWxsLFxuICBzZWxlY3RlZC1wcmVzc2VkLXN0YXRlLWxheWVyLW9wYWNpdHk6IG51bGwsXG4gIHVuc2VsZWN0ZWQtZm9jdXMtbGFiZWwtdGV4dC1jb2xvcjogbnVsbCxcbiAgdW5zZWxlY3RlZC1mb2N1cy1zdGF0ZS1sYXllci1jb2xvcjogbnVsbCxcbiAgdW5zZWxlY3RlZC1mb2N1cy1zdGF0ZS1sYXllci1vcGFjaXR5OiBudWxsLFxuICB1bnNlbGVjdGVkLWhvdmVyLWxhYmVsLXRleHQtY29sb3I6IG51bGwsXG4gIHVuc2VsZWN0ZWQtaG92ZXItc3RhdGUtbGF5ZXItY29sb3I6IG51bGwsXG4gIHVuc2VsZWN0ZWQtaG92ZXItc3RhdGUtbGF5ZXItb3BhY2l0eTogbnVsbCxcbiAgdW5zZWxlY3RlZC1sYWJlbC10ZXh0LWNvbG9yOiBudWxsLFxuICB1bnNlbGVjdGVkLXByZXNzZWQtbGFiZWwtdGV4dC1jb2xvcjogbnVsbCxcbiAgdW5zZWxlY3RlZC1wcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yOiBudWxsLFxuICB1bnNlbGVjdGVkLXByZXNzZWQtc3RhdGUtbGF5ZXItb3BhY2l0eTogbnVsbCxcbiAgd2l0aC1hdmF0YXItYXZhdGFyLXNoYXBlOiBudWxsLFxuICB3aXRoLWF2YXRhci1hdmF0YXItc2l6ZTogbnVsbCxcbiAgd2l0aC1hdmF0YXItZGlzYWJsZWQtYXZhdGFyLW9wYWNpdHk6IG51bGwsXG4gIHdpdGgtaWNvbi1kaXNhYmxlZC1pY29uLWNvbG9yOiBudWxsLFxuICB3aXRoLWljb24tZGlzYWJsZWQtaWNvbi1vcGFjaXR5OiBudWxsLFxuICB3aXRoLWljb24tZm9jdXMtaWNvbi1jb2xvcjogbnVsbCxcbiAgd2l0aC1pY29uLWhvdmVyLWljb24tY29sb3I6IG51bGwsXG4gIHdpdGgtaWNvbi1pY29uLWNvbG9yOiBudWxsLFxuICB3aXRoLWljb24taWNvbi1zaXplOiBudWxsLFxuICB3aXRoLWljb24tcHJlc3NlZC1pY29uLWNvbG9yOiBudWxsLFxuICB3aXRoLWljb24tc2VsZWN0ZWQtZm9jdXMtaWNvbi1jb2xvcjogbnVsbCxcbiAgd2l0aC1pY29uLXNlbGVjdGVkLWhvdmVyLWljb24tY29sb3I6IG51bGwsXG4gIHdpdGgtaWNvbi1zZWxlY3RlZC1pY29uLWNvbG9yOiBudWxsLFxuICB3aXRoLWljb24tc2VsZWN0ZWQtcHJlc3NlZC1pY29uLWNvbG9yOiBudWxsLFxuICB3aXRoLWljb24tdW5zZWxlY3RlZC1mb2N1cy1pY29uLWNvbG9yOiBudWxsLFxuICB3aXRoLWljb24tdW5zZWxlY3RlZC1ob3Zlci1pY29uLWNvbG9yOiBudWxsLFxuICB3aXRoLWljb24tdW5zZWxlY3RlZC1pY29uLWNvbG9yOiBudWxsLFxuICB3aXRoLWljb24tdW5zZWxlY3RlZC1wcmVzc2VkLWljb24tY29sb3I6IG51bGwsXG4gIHdpdGgtbGVhZGluZy1pY29uLWRpc2FibGVkLWxlYWRpbmctaWNvbi1jb2xvcjogbnVsbCxcbiAgd2l0aC1sZWFkaW5nLWljb24tZGlzYWJsZWQtbGVhZGluZy1pY29uLW9wYWNpdHk6IG51bGwsXG4gIHdpdGgtbGVhZGluZy1pY29uLWZvY3VzLWxlYWRpbmctaWNvbi1jb2xvcjogbnVsbCxcbiAgd2l0aC1sZWFkaW5nLWljb24taG92ZXItbGVhZGluZy1pY29uLWNvbG9yOiBudWxsLFxuICB3aXRoLWxlYWRpbmctaWNvbi1sZWFkaW5nLWljb24tY29sb3I6IG51bGwsXG4gIHdpdGgtbGVhZGluZy1pY29uLWxlYWRpbmctaWNvbi1zaXplOiBudWxsLFxuICB3aXRoLWxlYWRpbmctaWNvbi1wcmVzc2VkLWxlYWRpbmctaWNvbi1jb2xvcjogbnVsbCxcbiAgd2l0aC10cmFpbGluZy1pY29uLWRpc2FibGVkLXRyYWlsaW5nLWljb24tY29sb3I6IG51bGwsXG4gIHdpdGgtdHJhaWxpbmctaWNvbi1kaXNhYmxlZC10cmFpbGluZy1pY29uLW9wYWNpdHk6IG51bGwsXG4gIHdpdGgtdHJhaWxpbmctaWNvbi1mb2N1cy10cmFpbGluZy1pY29uLWNvbG9yOiBudWxsLFxuICB3aXRoLXRyYWlsaW5nLWljb24taG92ZXItdHJhaWxpbmctaWNvbi1jb2xvcjogbnVsbCxcbiAgd2l0aC10cmFpbGluZy1pY29uLXByZXNzZWQtdHJhaWxpbmctaWNvbi1jb2xvcjogbnVsbCxcbiAgd2l0aC10cmFpbGluZy1pY29uLXRyYWlsaW5nLWljb24tY29sb3I6IG51bGwsXG4gIHdpdGgtdHJhaWxpbmctaWNvbi10cmFpbGluZy1pY29uLXNpemU6IG51bGwsXG4pO1xuJF9jdXN0b20tcHJvcGVydHktcHJlZml4OiAnY2hpcCc7XG5cbi8vIFRPRE8oYi8yNTk1MTMxMzEpOiBNb3ZlIHRoZW1lIHJlc29sdXRpb24gdG8gdmFyaWFudCB0aGVtZVxuLy8gYW5kIHJlbW92ZSBjdXN0b20gcHJvcGVydHkgZGVjbGFyYXRpb24gd2hlbiBhbGwgY3VzdG9tZXJzIGFyZSByZWFkeSB0byBiZSBtaWdyYXRlZFxuQG1peGluIHRoZW1lKCR0aGVtZSwgJHJlc29sdmVyczogcmVzb2x2ZXJzLiRtYXRlcmlhbCkge1xuICBAaW5jbHVkZSB0aGVtZS52YWxpZGF0ZS10aGVtZSgkbGlnaHQtdGhlbWUsICR0aGVtZSk7XG4gICR0aGVtZTogcmVzb2x2ZS10aGVtZSgkdGhlbWUsICRyZXNvbHZlcnM6ICRyZXNvbHZlcnMpO1xuICBAaW5jbHVkZSBrZXlzLmRlY2xhcmUtY3VzdG9tLXByb3BlcnRpZXMoXG4gICAgJHRoZW1lLFxuICAgICRwcmVmaXg6ICRfY3VzdG9tLXByb3BlcnR5LXByZWZpeFxuICApO1xufVxuXG4vLyBUT0RPKGIvMjU5NTEzMTMxKTogTW92ZSB0aGVtZSByZXNvbHV0aW9uIHRvIHZhcmlhbnQgdGhlbWVcbi8vIGFuZCByZW1vdmUgY3VzdG9tIHByb3BlcnR5IGRlY2xhcmF0aW9uIHdoZW4gYWxsIGN1c3RvbWVycyBhcmUgcmVhZHkgdG8gYmUgbWlncmF0ZWRcbkBtaXhpbiB0aGVtZS1zdHlsZXMoJHRoZW1lLCAkcmVzb2x2ZXJzOiByZXNvbHZlcnMuJG1hdGVyaWFsKSB7XG4gIEBpbmNsdWRlIHRoZW1lLnZhbGlkYXRlLXRoZW1lLXN0eWxlcygkbGlnaHQtdGhlbWUsICR0aGVtZSk7XG4gICR0aGVtZTogcmVzb2x2ZS10aGVtZSgkdGhlbWUsICRyZXNvbHZlcnM6ICRyZXNvbHZlcnMpO1xuICAkdGhlbWU6IGtleXMuY3JlYXRlLXRoZW1lLXByb3BlcnRpZXMoXG4gICAgJHRoZW1lLFxuICAgICRwcmVmaXg6ICRfY3VzdG9tLXByb3BlcnR5LXByZWZpeFxuICApO1xuXG4gIEBpbmNsdWRlIF9jb250YWluZXItc2hhcGUobWFwLmdldCgkdGhlbWUsIGNvbnRhaW5lci1zaGFwZSkpO1xuICAubWRjLWV2b2x1dGlvbi1jaGlwX19pY29uLS1wcmltYXJ5IHtcbiAgICBAaW5jbHVkZSBzaGFwZS5yYWRpdXMobWFwLmdldCgkdGhlbWUsIHdpdGgtYXZhdGFyLWF2YXRhci1zaGFwZSkpO1xuICB9XG4gIEBpbmNsdWRlIGdyYXBoaWMtc2l6ZShtYXAuZ2V0KCR0aGVtZSwgd2l0aC1hdmF0YXItYXZhdGFyLXNpemUpKTtcbiAgQGluY2x1ZGUgaGVpZ2h0KG1hcC5nZXQoJHRoZW1lLCBjb250YWluZXItaGVpZ2h0KSk7XG4gIEBpbmNsdWRlIGVsZXZhdGlvbi10aGVtZS5vdmVybGF5LWNvbnRhaW5lci1jb2xvcihcbiAgICBtYXAuZ2V0KCR0aGVtZSwgY29udGFpbmVyLXN1cmZhY2UtdGludC1sYXllci1jb2xvcilcbiAgKTtcbiAgQGluY2x1ZGUgX2NvbnRhaW5lci1lbGV2YXRpb24oXG4gICAgJG1hcDogKFxuICAgICAgZGVmYXVsdDogbWFwLmdldCgkdGhlbWUsIGNvbnRhaW5lci1lbGV2YXRpb24pLFxuICAgIClcbiAgKTtcbiAgQGluY2x1ZGUgX2NvbnRhaW5lci1lbGV2YXRpb24oXG4gICAgJG1hcDogKFxuICAgICAgZW5hYmxlZDogbWFwLmdldCgkdGhlbWUsIGZsYXQtY29udGFpbmVyLWVsZXZhdGlvbiksXG4gICAgKVxuICApO1xuICBAaW5jbHVkZSBfY29udGFpbmVyLWVsZXZhdGlvbihcbiAgICAkbWFwOiAoXG4gICAgICBlbmFibGVkOiBtYXAuZ2V0KCR0aGVtZSwgZWxldmF0ZWQtY29udGFpbmVyLWVsZXZhdGlvbiksXG4gICAgICBkaXNhYmxlZDogbWFwLmdldCgkdGhlbWUsIGVsZXZhdGVkLWRpc2FibGVkLWNvbnRhaW5lci1lbGV2YXRpb24pLFxuICAgICAgaG92ZXI6IG1hcC5nZXQoJHRoZW1lLCBlbGV2YXRlZC1ob3Zlci1jb250YWluZXItZWxldmF0aW9uKSxcbiAgICAgIGZvY3VzOiBtYXAuZ2V0KCR0aGVtZSwgZWxldmF0ZWQtZm9jdXMtY29udGFpbmVyLWVsZXZhdGlvbiksXG4gICAgICBwcmVzc2VkOiBtYXAuZ2V0KCR0aGVtZSwgZWxldmF0ZWQtcHJlc3NlZC1jb250YWluZXItZWxldmF0aW9uKSxcbiAgICApXG4gICk7XG4gICYubWRjLWV2b2x1dGlvbi1jaGlwLS1zZWxlY3RlZCB7XG4gICAgQGluY2x1ZGUgX2NvbnRhaW5lci1lbGV2YXRpb24oXG4gICAgICAoXG4gICAgICAgIGVuYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBlbGV2YXRlZC1zZWxlY3RlZC1jb250YWluZXItZWxldmF0aW9uKSxcbiAgICAgICAgZGlzYWJsZWQ6XG4gICAgICAgICAgbWFwLmdldCgkdGhlbWUsIGVsZXZhdGVkLXNlbGVjdGVkLWRpc2FibGVkLWNvbnRhaW5lci1lbGV2YXRpb24pLFxuICAgICAgICBob3ZlcjogbWFwLmdldCgkdGhlbWUsIGVsZXZhdGVkLXNlbGVjdGVkLWhvdmVyLWNvbnRhaW5lci1lbGV2YXRpb24pLFxuICAgICAgICBmb2N1czogbWFwLmdldCgkdGhlbWUsIGVsZXZhdGVkLXNlbGVjdGVkLWZvY3VzLWNvbnRhaW5lci1lbGV2YXRpb24pLFxuICAgICAgICBwcmVzc2VkOiBtYXAuZ2V0KCR0aGVtZSwgZWxldmF0ZWQtc2VsZWN0ZWQtcHJlc3NlZC1jb250YWluZXItZWxldmF0aW9uKSxcbiAgICAgIClcbiAgICApO1xuICAgIEBpbmNsdWRlIF9jb250YWluZXItZWxldmF0aW9uKFxuICAgICAgKFxuICAgICAgICBlbmFibGVkOiBtYXAuZ2V0KCR0aGVtZSwgZmxhdC1zZWxlY3RlZC1jb250YWluZXItZWxldmF0aW9uKSxcbiAgICAgICAgZGlzYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBmbGF0LXNlbGVjdGVkLWRpc2FibGVkLWNvbnRhaW5lci1lbGV2YXRpb24pLFxuICAgICAgICBob3ZlcjogbWFwLmdldCgkdGhlbWUsIGZsYXQtc2VsZWN0ZWQtaG92ZXItY29udGFpbmVyLWVsZXZhdGlvbiksXG4gICAgICAgIGZvY3VzOiBtYXAuZ2V0KCR0aGVtZSwgZmxhdC1zZWxlY3RlZC1mb2N1cy1jb250YWluZXItZWxldmF0aW9uKSxcbiAgICAgICAgcHJlc3NlZDogbWFwLmdldCgkdGhlbWUsIGZsYXQtc2VsZWN0ZWQtcHJlc3NlZC1jb250YWluZXItZWxldmF0aW9uKSxcbiAgICAgIClcbiAgICApO1xuICB9XG4gICY6bm90KC5tZGMtZXZvbHV0aW9uLWNoaXAtLXNlbGVjdGVkKSB7XG4gICAgQGluY2x1ZGUgX2NvbnRhaW5lci1lbGV2YXRpb24oXG4gICAgICAoXG4gICAgICAgIGVuYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBmbGF0LXVuc2VsZWN0ZWQtY29udGFpbmVyLWVsZXZhdGlvbiksXG4gICAgICAgIGRpc2FibGVkOiBtYXAuZ2V0KCR0aGVtZSwgZmxhdC11bnNlbGVjdGVkLWRpc2FibGVkLWNvbnRhaW5lci1lbGV2YXRpb24pLFxuICAgICAgICBob3ZlcjogbWFwLmdldCgkdGhlbWUsIGZsYXQtdW5zZWxlY3RlZC1ob3Zlci1jb250YWluZXItZWxldmF0aW9uKSxcbiAgICAgICAgZm9jdXM6IG1hcC5nZXQoJHRoZW1lLCBmbGF0LXVuc2VsZWN0ZWQtZm9jdXMtY29udGFpbmVyLWVsZXZhdGlvbiksXG4gICAgICAgIHByZXNzZWQ6IG1hcC5nZXQoJHRoZW1lLCBmbGF0LXVuc2VsZWN0ZWQtcHJlc3NlZC1jb250YWluZXItZWxldmF0aW9uKSxcbiAgICAgIClcbiAgICApO1xuICB9XG4gIEBpbmNsdWRlIG91dGxpbmUtY29sb3IoXG4gICAgKFxuICAgICAgZW5hYmxlZDogbWFwLmdldCgkdGhlbWUsIG91dGxpbmUtY29sb3IpLFxuICAgICAgZm9jdXM6IG1hcC5nZXQoJHRoZW1lLCBmb2N1cy1vdXRsaW5lLWNvbG9yKSxcbiAgICAgIGRpc2FibGVkOiBtYXAuZ2V0KCR0aGVtZSwgZGlzYWJsZWQtb3V0bGluZS1jb2xvciksXG4gICAgKVxuICApO1xuICBAaW5jbHVkZSBvdXRsaW5lLWNvbG9yKFxuICAgIChcbiAgICAgIGVuYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBmbGF0LW91dGxpbmUtY29sb3IpLFxuICAgICAgZm9jdXM6IG1hcC5nZXQoJHRoZW1lLCBmbGF0LWZvY3VzLW91dGxpbmUtY29sb3IpLFxuICAgICAgZGlzYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBmbGF0LWRpc2FibGVkLW91dGxpbmUtY29sb3IpLFxuICAgIClcbiAgKTtcbiAgQGluY2x1ZGUgc2VsZWN0ZWQtb3V0bGluZS1jb2xvcihcbiAgICAoXG4gICAgICBlbmFibGVkOiBtYXAuZ2V0KCR0aGVtZSwgZmxhdC1zZWxlY3RlZC1vdXRsaW5lLWNvbG9yKSxcbiAgICAgIGRpc2FibGVkOiBtYXAuZ2V0KCR0aGVtZSwgZmxhdC1kaXNhYmxlZC1zZWxlY3RlZC1vdXRsaW5lLWNvbG9yKSxcbiAgICApXG4gICk7XG4gICY6bm90KC5tZGMtZXZvbHV0aW9uLWNoaXAtLXNlbGVjdGVkKSB7XG4gICAgQGluY2x1ZGUgb3V0bGluZS1jb2xvcihcbiAgICAgIChcbiAgICAgICAgZGlzYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBmbGF0LWRpc2FibGVkLXVuc2VsZWN0ZWQtb3V0bGluZS1jb2xvciksXG4gICAgICAgIGZvY3VzOiBtYXAuZ2V0KCR0aGVtZSwgZmxhdC11bnNlbGVjdGVkLWZvY3VzLW91dGxpbmUtY29sb3IpLFxuICAgICAgICBlbmFibGVkOiBtYXAuZ2V0KCR0aGVtZSwgZmxhdC11bnNlbGVjdGVkLW91dGxpbmUtY29sb3IpLFxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgQGluY2x1ZGUgb3V0bGluZS13aWR0aChtYXAuZ2V0KCR0aGVtZSwgb3V0bGluZS13aWR0aCkpO1xuICBAaW5jbHVkZSBvdXRsaW5lLXdpZHRoKG1hcC5nZXQoJHRoZW1lLCBmbGF0LW91dGxpbmUtd2lkdGgpKTtcbiAgJi5tZGMtZXZvbHV0aW9uLWNoaXAtLXNlbGVjdGVkIHtcbiAgICBAaW5jbHVkZSBvdXRsaW5lLXdpZHRoKG1hcC5nZXQoJHRoZW1lLCBmbGF0LXNlbGVjdGVkLW91dGxpbmUtd2lkdGgpKTtcbiAgfVxuICAmOm5vdCgubWRjLWV2b2x1dGlvbi1jaGlwLS1zZWxlY3RlZCkge1xuICAgIEBpbmNsdWRlIG91dGxpbmUtd2lkdGgobWFwLmdldCgkdGhlbWUsIGZsYXQtdW5zZWxlY3RlZC1vdXRsaW5lLXdpZHRoKSk7XG4gIH1cbiAgQGluY2x1ZGUgY29udGFpbmVyLWNvbG9yKFxuICAgIChcbiAgICAgIGVuYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBlbGV2YXRlZC1jb250YWluZXItY29sb3IpLFxuICAgICAgZGlzYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBlbGV2YXRlZC1kaXNhYmxlZC1jb250YWluZXItY29sb3IpLFxuICAgIClcbiAgKTtcbiAgQGluY2x1ZGUgc2VsZWN0ZWQtY29udGFpbmVyLWNvbG9yKFxuICAgIChcbiAgICAgIGVuYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBlbGV2YXRlZC1zZWxlY3RlZC1jb250YWluZXItY29sb3IpLFxuICAgICAgZGlzYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBlbGV2YXRlZC1kaXNhYmxlZC1jb250YWluZXItY29sb3IpLFxuICAgIClcbiAgKTtcbiAgLy8gVE9ETyhiLzI1NTcxNjE2NykgU2VwYXJhdGUgdGhlbWUtc3R5bGVzIG1peGluIGZvciBoYWlybGluZSBhbmQgZWxldmF0ZWQgY2hpcCB2YXJpYW50cy5cbiAgQGluY2x1ZGUgc2VsZWN0ZWQtY29udGFpbmVyLWNvbG9yKFxuICAgIChcbiAgICAgIGVuYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBmbGF0LXNlbGVjdGVkLWNvbnRhaW5lci1jb2xvciksXG4gICAgICBkaXNhYmxlZDogbWFwLmdldCgkdGhlbWUsIGZsYXQtZGlzYWJsZWQtc2VsZWN0ZWQtY29udGFpbmVyLWNvbG9yKSxcbiAgICApXG4gICk7XG4gICY6bm90KC5tZGMtZXZvbHV0aW9uLWNoaXAtLXNlbGVjdGVkKSB7XG4gICAgQGluY2x1ZGUgY29udGFpbmVyLWNvbG9yKFxuICAgICAgKFxuICAgICAgICBlbmFibGVkOiBtYXAuZ2V0KCR0aGVtZSwgZWxldmF0ZWQtdW5zZWxlY3RlZC1jb250YWluZXItY29sb3IpLFxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fdGV4dC1sYWJlbCB7XG4gICAgQGluY2x1ZGUgdHlwb2dyYXBoeS50aGVtZS1zdHlsZXMoXG4gICAgICAoXG4gICAgICAgIGZvbnQ6IG1hcC5nZXQoJHRoZW1lLCBsYWJlbC10ZXh0LWZvbnQpLFxuICAgICAgICBsaW5lLWhlaWdodDogbWFwLmdldCgkdGhlbWUsIGxhYmVsLXRleHQtbGluZS1oZWlnaHQpLFxuICAgICAgICBzaXplOiBtYXAuZ2V0KCR0aGVtZSwgbGFiZWwtdGV4dC1zaXplKSxcbiAgICAgICAgd2VpZ2h0OiBtYXAuZ2V0KCR0aGVtZSwgbGFiZWwtdGV4dC13ZWlnaHQpLFxuICAgICAgICB0cmFja2luZzogbWFwLmdldCgkdGhlbWUsIGxhYmVsLXRleHQtdHJhY2tpbmcpLFxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgQGluY2x1ZGUgdGV4dC1sYWJlbC1jb2xvcihcbiAgICAoXG4gICAgICBlbmFibGVkOiBtYXAuZ2V0KCR0aGVtZSwgbGFiZWwtdGV4dC1jb2xvciksXG4gICAgICBob3ZlcjogbWFwLmdldCgkdGhlbWUsIGhvdmVyLWxhYmVsLXRleHQtY29sb3IpLFxuICAgICAgZm9jdXM6IG1hcC5nZXQoJHRoZW1lLCBmb2N1cy1sYWJlbC10ZXh0LWNvbG9yKSxcbiAgICAgIHByZXNzZWQ6IG1hcC5nZXQoJHRoZW1lLCBwcmVzc2VkLWxhYmVsLXRleHQtY29sb3IpLFxuICAgICAgZGlzYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBkaXNhYmxlZC1sYWJlbC10ZXh0LWNvbG9yKSxcbiAgICApXG4gICk7XG4gIEBpbmNsdWRlIHNlbGVjdGVkLXRleHQtbGFiZWwtY29sb3IoXG4gICAgKFxuICAgICAgZW5hYmxlZDogbWFwLmdldCgkdGhlbWUsIHNlbGVjdGVkLWxhYmVsLXRleHQtY29sb3IpLFxuICAgICAgaG92ZXI6IG1hcC5nZXQoJHRoZW1lLCBzZWxlY3RlZC1ob3Zlci1sYWJlbC10ZXh0LWNvbG9yKSxcbiAgICAgIGZvY3VzOiBtYXAuZ2V0KCR0aGVtZSwgc2VsZWN0ZWQtZm9jdXMtbGFiZWwtdGV4dC1jb2xvciksXG4gICAgICBwcmVzc2VkOiBtYXAuZ2V0KCR0aGVtZSwgc2VsZWN0ZWQtcHJlc3NlZC1sYWJlbC10ZXh0LWNvbG9yKSxcbiAgICAgIGRpc2FibGVkOiBtYXAuZ2V0KCR0aGVtZSwgZGlzYWJsZWQtbGFiZWwtdGV4dC1jb2xvciksXG4gICAgKVxuICApO1xuICAmOm5vdCgubWRjLWV2b2x1dGlvbi1jaGlwLS1zZWxlY3RlZCkge1xuICAgIEBpbmNsdWRlIHRleHQtbGFiZWwtY29sb3IoXG4gICAgICAoXG4gICAgICAgIGVuYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCB1bnNlbGVjdGVkLWxhYmVsLXRleHQtY29sb3IpLFxuICAgICAgICBob3ZlcjogbWFwLmdldCgkdGhlbWUsIHVuc2VsZWN0ZWQtaG92ZXItbGFiZWwtdGV4dC1jb2xvciksXG4gICAgICAgIGZvY3VzOiBtYXAuZ2V0KCR0aGVtZSwgdW5zZWxlY3RlZC1mb2N1cy1sYWJlbC10ZXh0LWNvbG9yKSxcbiAgICAgICAgcHJlc3NlZDogbWFwLmdldCgkdGhlbWUsIHVuc2VsZWN0ZWQtcHJlc3NlZC1sYWJlbC10ZXh0LWNvbG9yKSxcbiAgICAgICAgZGlzYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCB1bnNlbGVjdGVkLWRpc2FibGVkLWxhYmVsLXRleHQtY29sb3IpLFxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBAaW5jbHVkZSBpY29uLXNpemUobWFwLmdldCgkdGhlbWUsIHdpdGgtaWNvbi1pY29uLXNpemUpKTtcbiAgQGluY2x1ZGUgaWNvbi1jb2xvcihcbiAgICAoXG4gICAgICBlbmFibGVkOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC1pY29uLWljb24tY29sb3IpLFxuICAgICAgZGlzYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCB3aXRoLWljb24tZGlzYWJsZWQtaWNvbi1jb2xvciksXG4gICAgICBob3ZlcjogbWFwLmdldCgkdGhlbWUsIHdpdGgtaWNvbi1ob3Zlci1pY29uLWNvbG9yKSxcbiAgICAgIGZvY3VzOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC1pY29uLWZvY3VzLWljb24tY29sb3IpLFxuICAgICAgcHJlc3NlZDogbWFwLmdldCgkdGhlbWUsIHdpdGgtaWNvbi1wcmVzc2VkLWljb24tY29sb3IpLFxuICAgIClcbiAgKTtcbiAgQGluY2x1ZGUgY2hlY2ttYXJrLWNvbG9yKFxuICAgIChcbiAgICAgIGVuYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCB3aXRoLWljb24tc2VsZWN0ZWQtaWNvbi1jb2xvciksXG4gICAgICBkaXNhYmxlZDogbWFwLmdldCgkdGhlbWUsIHdpdGgtaWNvbi1kaXNhYmxlZC1pY29uLWNvbG9yKSxcbiAgICAgIGhvdmVyOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC1pY29uLXNlbGVjdGVkLWhvdmVyLWljb24tY29sb3IpLFxuICAgICAgZm9jdXM6IG1hcC5nZXQoJHRoZW1lLCB3aXRoLWljb24tc2VsZWN0ZWQtZm9jdXMtaWNvbi1jb2xvciksXG4gICAgICBwcmVzc2VkOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC1pY29uLXNlbGVjdGVkLXByZXNzZWQtaWNvbi1jb2xvciksXG4gICAgKVxuICApO1xuICAmOm5vdCgubWRjLWV2b2x1dGlvbi1jaGlwLS1zZWxlY3RlZCkge1xuICAgIEBpbmNsdWRlIGljb24tY29sb3IoXG4gICAgICAoXG4gICAgICAgIGVuYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCB3aXRoLWljb24tdW5zZWxlY3RlZC1pY29uLWNvbG9yKSxcbiAgICAgICAgZGlzYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCB3aXRoLWljb24tdW5zZWxlY3RlZC1kaXNhYmxlZC1pY29uLWNvbG9yKSxcbiAgICAgICAgaG92ZXI6IG1hcC5nZXQoJHRoZW1lLCB3aXRoLWljb24tdW5zZWxlY3RlZC1ob3Zlci1pY29uLWNvbG9yKSxcbiAgICAgICAgZm9jdXM6IG1hcC5nZXQoJHRoZW1lLCB3aXRoLWljb24tdW5zZWxlY3RlZC1mb2N1cy1pY29uLWNvbG9yKSxcbiAgICAgICAgcHJlc3NlZDogbWFwLmdldCgkdGhlbWUsIHdpdGgtaWNvbi11bnNlbGVjdGVkLXByZXNzZWQtaWNvbi1jb2xvciksXG4gICAgICApXG4gICAgKTtcbiAgfVxuICBAaW5jbHVkZSBpY29uLWNvbG9yKFxuICAgIChcbiAgICAgIGRpc2FibGVkOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC1sZWFkaW5nLWljb24tZGlzYWJsZWQtbGVhZGluZy1pY29uLWNvbG9yKSxcbiAgICAgIGZvY3VzOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC1sZWFkaW5nLWljb24tZm9jdXMtbGVhZGluZy1pY29uLWNvbG9yKSxcbiAgICAgIGhvdmVyOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC1sZWFkaW5nLWljb24taG92ZXItbGVhZGluZy1pY29uLWNvbG9yKSxcbiAgICAgIGVuYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCB3aXRoLWxlYWRpbmctaWNvbi1sZWFkaW5nLWljb24tY29sb3IpLFxuICAgICAgcHJlc3NlZDogbWFwLmdldCgkdGhlbWUsIHdpdGgtbGVhZGluZy1pY29uLXByZXNzZWQtbGVhZGluZy1pY29uLWNvbG9yKSxcbiAgICApXG4gICk7XG4gIEBpbmNsdWRlIHRyYWlsaW5nLWFjdGlvbi1jb2xvcihcbiAgICAoXG4gICAgICBkaXNhYmxlZDogbWFwLmdldCgkdGhlbWUsIHdpdGgtdHJhaWxpbmctaWNvbi1kaXNhYmxlZC10cmFpbGluZy1pY29uLWNvbG9yKSxcbiAgICAgIGZvY3VzOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC10cmFpbGluZy1pY29uLWZvY3VzLXRyYWlsaW5nLWljb24tY29sb3IpLFxuICAgICAgaG92ZXI6IG1hcC5nZXQoJHRoZW1lLCB3aXRoLXRyYWlsaW5nLWljb24taG92ZXItdHJhaWxpbmctaWNvbi1jb2xvciksXG4gICAgICBlbmFibGVkOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC10cmFpbGluZy1pY29uLXRyYWlsaW5nLWljb24tY29sb3IpLFxuICAgICAgcHJlc3NlZDogbWFwLmdldCgkdGhlbWUsIHdpdGgtdHJhaWxpbmctaWNvbi1wcmVzc2VkLXRyYWlsaW5nLWljb24tY29sb3IpLFxuICAgIClcbiAgKTtcbiAgQGluY2x1ZGUgX3JpcHBsZS10aGVtZShcbiAgICAoXG4gICAgICBmb2N1cy1zdGF0ZS1sYXllci1jb2xvcjogbWFwLmdldCgkdGhlbWUsIGZvY3VzLXN0YXRlLWxheWVyLWNvbG9yKSxcbiAgICAgIGZvY3VzLXN0YXRlLWxheWVyLW9wYWNpdHk6IG1hcC5nZXQoJHRoZW1lLCBmb2N1cy1zdGF0ZS1sYXllci1vcGFjaXR5KSxcbiAgICAgIGhvdmVyLXN0YXRlLWxheWVyLWNvbG9yOiBtYXAuZ2V0KCR0aGVtZSwgaG92ZXItc3RhdGUtbGF5ZXItY29sb3IpLFxuICAgICAgaG92ZXItc3RhdGUtbGF5ZXItb3BhY2l0eTogbWFwLmdldCgkdGhlbWUsIGhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHkpLFxuICAgICAgcHJlc3NlZC1zdGF0ZS1sYXllci1jb2xvcjogbWFwLmdldCgkdGhlbWUsIHByZXNzZWQtc3RhdGUtbGF5ZXItY29sb3IpLFxuICAgICAgcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5OiBtYXAuZ2V0KCR0aGVtZSwgcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5KSxcbiAgICApXG4gICk7XG4gICYubWRjLWV2b2x1dGlvbi1jaGlwLS1zZWxlY3RlZCB7XG4gICAgQGluY2x1ZGUgX3JpcHBsZS10aGVtZShcbiAgICAgIChcbiAgICAgICAgZm9jdXMtc3RhdGUtbGF5ZXItY29sb3I6XG4gICAgICAgICAgbWFwLmdldCgkdGhlbWUsIHNlbGVjdGVkLWZvY3VzLXN0YXRlLWxheWVyLWNvbG9yKSxcbiAgICAgICAgZm9jdXMtc3RhdGUtbGF5ZXItb3BhY2l0eTpcbiAgICAgICAgICBtYXAuZ2V0KCR0aGVtZSwgc2VsZWN0ZWQtZm9jdXMtc3RhdGUtbGF5ZXItb3BhY2l0eSksXG4gICAgICAgIGhvdmVyLXN0YXRlLWxheWVyLWNvbG9yOlxuICAgICAgICAgIG1hcC5nZXQoJHRoZW1lLCBzZWxlY3RlZC1ob3Zlci1zdGF0ZS1sYXllci1jb2xvciksXG4gICAgICAgIGhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHk6XG4gICAgICAgICAgbWFwLmdldCgkdGhlbWUsIHNlbGVjdGVkLWhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHkpLFxuICAgICAgICBwcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yOlxuICAgICAgICAgIG1hcC5nZXQoJHRoZW1lLCBzZWxlY3RlZC1wcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yKSxcbiAgICAgICAgcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5OlxuICAgICAgICAgIG1hcC5nZXQoJHRoZW1lLCBzZWxlY3RlZC1wcmVzc2VkLXN0YXRlLWxheWVyLW9wYWNpdHkpLFxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgJjpub3QoLm1kYy1ldm9sdXRpb24tY2hpcC0tc2VsZWN0ZWQpIHtcbiAgICBAaW5jbHVkZSBfcmlwcGxlLXRoZW1lKFxuICAgICAgKFxuICAgICAgICBmb2N1cy1zdGF0ZS1sYXllci1jb2xvcjpcbiAgICAgICAgICBtYXAuZ2V0KCR0aGVtZSwgdW5zZWxlY3RlZC1mb2N1cy1zdGF0ZS1sYXllci1jb2xvciksXG4gICAgICAgIGZvY3VzLXN0YXRlLWxheWVyLW9wYWNpdHk6XG4gICAgICAgICAgbWFwLmdldCgkdGhlbWUsIHVuc2VsZWN0ZWQtZm9jdXMtc3RhdGUtbGF5ZXItb3BhY2l0eSksXG4gICAgICAgIGhvdmVyLXN0YXRlLWxheWVyLWNvbG9yOlxuICAgICAgICAgIG1hcC5nZXQoJHRoZW1lLCB1bnNlbGVjdGVkLWhvdmVyLXN0YXRlLWxheWVyLWNvbG9yKSxcbiAgICAgICAgaG92ZXItc3RhdGUtbGF5ZXItb3BhY2l0eTpcbiAgICAgICAgICBtYXAuZ2V0KCR0aGVtZSwgdW5zZWxlY3RlZC1ob3Zlci1zdGF0ZS1sYXllci1vcGFjaXR5KSxcbiAgICAgICAgcHJlc3NlZC1zdGF0ZS1sYXllci1jb2xvcjpcbiAgICAgICAgICBtYXAuZ2V0KCR0aGVtZSwgdW5zZWxlY3RlZC1wcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yKSxcbiAgICAgICAgcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5OlxuICAgICAgICAgIG1hcC5nZXQoJHRoZW1lLCB1bnNlbGVjdGVkLXByZXNzZWQtc3RhdGUtbGF5ZXItb3BhY2l0eSksXG4gICAgICApXG4gICAgKTtcbiAgfVxufVxuXG5AZnVuY3Rpb24gcmVzb2x2ZS10aGVtZSgkdGhlbWUsICRyZXNvbHZlcnMpIHtcbiAgJGVsZXZhdGlvbi1yZXNvbHZlcjogbWFwLmdldCgkcmVzb2x2ZXJzLCBlbGV2YXRpb24pO1xuICBAaWYgJGVsZXZhdGlvbi1yZXNvbHZlciA9PSBudWxsIHtcbiAgICBAcmV0dXJuICR0aGVtZTtcbiAgfVxuXG4gICRlbGV2YXRpb24tcGFpcnM6IChcbiAgICBjb250YWluZXItc2hhZG93LWNvbG9yOiAoXG4gICAgICBjb250YWluZXItZWxldmF0aW9uLFxuICAgICksXG4gICAgZmxhdC1jb250YWluZXItc2hhZG93LWNvbG9yOiAoXG4gICAgICBmbGF0LWNvbnRhaW5lci1lbGV2YXRpb24sXG4gICAgKSxcbiAgICBlbGV2YXRlZC1jb250YWluZXItc2hhZG93LWNvbG9yOiAoXG4gICAgICBlbGV2YXRlZC1jb250YWluZXItZWxldmF0aW9uLFxuICAgICAgZWxldmF0ZWQtZGlzYWJsZWQtY29udGFpbmVyLWVsZXZhdGlvbixcbiAgICAgIGVsZXZhdGVkLWZvY3VzLWNvbnRhaW5lci1lbGV2YXRpb24sXG4gICAgICBlbGV2YXRlZC1ob3Zlci1jb250YWluZXItZWxldmF0aW9uLFxuICAgICAgZWxldmF0ZWQtcHJlc3NlZC1jb250YWluZXItZWxldmF0aW9uLFxuICAgICAgZWxldmF0ZWQtc2VsZWN0ZWQtY29udGFpbmVyLWVsZXZhdGlvbixcbiAgICAgIGVsZXZhdGVkLXNlbGVjdGVkLWRpc2FibGVkLWNvbnRhaW5lci1lbGV2YXRpb24sXG4gICAgICBlbGV2YXRlZC1zZWxlY3RlZC1mb2N1cy1jb250YWluZXItZWxldmF0aW9uLFxuICAgICAgZWxldmF0ZWQtc2VsZWN0ZWQtaG92ZXItY29udGFpbmVyLWVsZXZhdGlvbixcbiAgICAgIGVsZXZhdGVkLXNlbGVjdGVkLXByZXNzZWQtY29udGFpbmVyLWVsZXZhdGlvbixcbiAgICAgIGZsYXQtc2VsZWN0ZWQtZm9jdXMtY29udGFpbmVyLWVsZXZhdGlvbixcbiAgICAgIGZsYXQtc2VsZWN0ZWQtaG92ZXItY29udGFpbmVyLWVsZXZhdGlvbixcbiAgICAgIGZsYXQtc2VsZWN0ZWQtcHJlc3NlZC1jb250YWluZXItZWxldmF0aW9uLFxuICAgICAgZmxhdC11bnNlbGVjdGVkLWZvY3VzLWNvbnRhaW5lci1lbGV2YXRpb24sXG4gICAgICBmbGF0LXVuc2VsZWN0ZWQtaG92ZXItY29udGFpbmVyLWVsZXZhdGlvbixcbiAgICAgIGZsYXQtdW5zZWxlY3RlZC1wcmVzc2VkLWNvbnRhaW5lci1lbGV2YXRpb24sXG4gICAgKSxcbiAgKTtcblxuICBAZWFjaCAkc2hhZG93LWNvbG9yLWtleSwgJGVsZXZhdGlvbi1rZXlzIGluICRlbGV2YXRpb24tcGFpcnMge1xuICAgICRzaGFkb3ctY29sb3I6IG1hcC5nZXQoJHRoZW1lLCAkc2hhZG93LWNvbG9yLWtleSk7XG4gICAgQGlmICRzaGFkb3ctY29sb3IgIT0gbnVsbCB7XG4gICAgICBAZWFjaCAka2V5IGluICRlbGV2YXRpb24ta2V5cyB7XG4gICAgICAgICRlbGV2YXRpb246IG1hcC5nZXQoJHRoZW1lLCAka2V5KTtcbiAgICAgICAgQGlmICRlbGV2YXRpb24gIT0gbnVsbCB7XG4gICAgICAgICAgJHJlc29sdmVkLXZhbHVlOiBtZXRhLmNhbGwoXG4gICAgICAgICAgICAkZWxldmF0aW9uLXJlc29sdmVyLFxuICAgICAgICAgICAgJGVsZXZhdGlvbjogJGVsZXZhdGlvbixcbiAgICAgICAgICAgICRzaGFkb3ctY29sb3I6ICRzaGFkb3ctY29sb3JcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUga2V5IHdpdGggdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAgICAgICR0aGVtZTogbWFwLnNldCgkdGhlbWUsICRrZXksICRyZXNvbHZlZC12YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgQHJldHVybiAkdGhlbWU7XG59XG5cbkBtaXhpbiBfcmlwcGxlLXRoZW1lKCRyaXBwbGUtdGhlbWUpIHtcbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmltYXJ5IHtcbiAgICBAaW5jbHVkZSByaXBwbGUtdGhlbWUuaW50ZXJuYWwtdGhlbWUtc3R5bGVzKFxuICAgICAgKFxuICAgICAgICBmb2N1cy1zdGF0ZS1sYXllci1jb2xvcjogbWFwLmdldCgkcmlwcGxlLXRoZW1lLCBmb2N1cy1zdGF0ZS1sYXllci1jb2xvciksXG4gICAgICAgIGZvY3VzLXN0YXRlLWxheWVyLW9wYWNpdHk6XG4gICAgICAgICAgbWFwLmdldCgkcmlwcGxlLXRoZW1lLCBmb2N1cy1zdGF0ZS1sYXllci1vcGFjaXR5KSxcbiAgICAgICAgaG92ZXItc3RhdGUtbGF5ZXItY29sb3I6IG1hcC5nZXQoJHJpcHBsZS10aGVtZSwgaG92ZXItc3RhdGUtbGF5ZXItY29sb3IpLFxuICAgICAgICBob3Zlci1zdGF0ZS1sYXllci1vcGFjaXR5OlxuICAgICAgICAgIG1hcC5nZXQoJHJpcHBsZS10aGVtZSwgaG92ZXItc3RhdGUtbGF5ZXItb3BhY2l0eSksXG4gICAgICAgIHByZXNzZWQtc3RhdGUtbGF5ZXItY29sb3I6XG4gICAgICAgICAgbWFwLmdldCgkcmlwcGxlLXRoZW1lLCBwcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yKSxcbiAgICAgICAgcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5OlxuICAgICAgICAgIG1hcC5nZXQoJHJpcHBsZS10aGVtZSwgcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5KSxcbiAgICAgICksXG4gICAgICAkcmlwcGxlLXRhcmdldDogJHJpcHBsZS10YXJnZXRcbiAgICApO1xuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgdGhlIHJpcHBsZSBjb2xvciBvZiB0aGUgY2hpcC5cbi8vLyBAcGFyYW0ge0NvbG9yfSAkY29sb3IgLSBUaGUgY29sb3Igb2YgdGhlIHJpcHBsZS5cbi8vLyBAcGFyYW0ge01hcH0gJG9wYWNpdHktbWFwIFtudWxsXSAtIFRoZSBvcHRpb25hbCBvcGFjaXR5IG1hcCBmb3IgdGhlIHN0YXRlcy5cbi8vL1xuQG1peGluIHJpcHBsZS1jb2xvcihcbiAgJGNvbG9yLFxuICAkb3BhY2l0eS1tYXA6IG51bGwsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICBAaW5jbHVkZSBfcmlwcGxlLWNvbG9yKCRjb2xvciwgJG9wYWNpdHktbWFwLCAkcXVlcnkpO1xufVxuXG4vLy9cbi8vLyBTZXRzIHRoZSBzZWxlY3RlZCByaXBwbGUgY29sb3Igb2YgdGhlIGNoaXAuXG4vLy8gQHBhcmFtIHtDb2xvcn0gJGNvbG9yIC0gVGhlIGNvbG9yIG9mIHRoZSByaXBwbGUuXG4vLy8gQHBhcmFtIHtNYXB9ICRvcGFjaXR5LW1hcCBbbnVsbF0gLSBUaGUgb3B0aW9uYWwgb3BhY2l0eSBtYXAgZm9yIHRoZSBzdGF0ZXMuXG4vLy9cbkBtaXhpbiBzZWxlY3RlZC1yaXBwbGUtY29sb3IoXG4gICRjb2xvcixcbiAgJG9wYWNpdHktbWFwOiBudWxsLFxuICAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpXG4pIHtcbiAgJi5tZGMtZXZvbHV0aW9uLWNoaXAtLXNlbGVjdGVkIHtcbiAgICBAaW5jbHVkZSByaXBwbGUtY29sb3IoJGNvbG9yLCAkb3BhY2l0eS1tYXAsICRxdWVyeTogJHF1ZXJ5KTtcbiAgfVxufVxuXG5AbWl4aW4gX3JpcHBsZS1jb2xvcigkY29sb3IsICRvcGFjaXR5LW1hcCwgJHF1ZXJ5KSB7XG4gIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2FjdGlvbi0tcHJpbWFyeSB7XG4gICAgQGluY2x1ZGUgcmlwcGxlLXRoZW1lLnN0YXRlcyhcbiAgICAgICRjb2xvcjogJGNvbG9yLFxuICAgICAgJG9wYWNpdHktbWFwOiAkb3BhY2l0eS1tYXAsXG4gICAgICAkcXVlcnk6ICRxdWVyeSxcbiAgICAgICRyaXBwbGUtdGFyZ2V0OiAkcmlwcGxlLXRhcmdldFxuICAgICk7XG4gIH1cbn1cblxuLy8vXG4vLy8gU2V0cyB0aGUgcmlwcGxlIGNvbG9yIG9mIHRoZSBjaGlwJ3MgdHJhaWxpbmcgYWN0aW9uLlxuLy8vIEBwYXJhbSB7Q29sb3J9ICRjb2xvciAtIFRoZSBjb2xvciBvZiB0aGUgcmlwcGxlLlxuLy8vIEBwYXJhbSB7TWFwfSAkb3BhY2l0eS1tYXAgW251bGxdIC0gVGhlIG9wdGlvbmFsIG9wYWNpdHkgbWFwIGZvciB0aGUgc3RhdGVzLlxuLy8vXG5AbWl4aW4gdHJhaWxpbmctYWN0aW9uLXJpcHBsZS1jb2xvcihcbiAgJGNvbG9yLFxuICAkb3BhY2l0eS1tYXA6IG51bGwsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICAubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXRyYWlsaW5nIHtcbiAgICBAaW5jbHVkZSByaXBwbGUtdGhlbWUuc3RhdGVzKFxuICAgICAgJGNvbG9yOiAkY29sb3IsXG4gICAgICAkb3BhY2l0eS1tYXA6ICRvcGFjaXR5LW1hcCxcbiAgICAgICRxdWVyeTogJHF1ZXJ5LFxuICAgICAgJHJpcHBsZS10YXJnZXQ6ICRyaXBwbGUtdGFyZ2V0XG4gICAgKTtcbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIHRoZSBzaXplIG9mIHRoZSB0cmFpbGluZyBhY3Rpb24ncyByaXBwbGUuXG4vLy8gQHBhcmFtIHtOdW1iZXJ9ICRzaXplIC0gVGhlIHNpemUgb2YgdGhlIHJpcHBsZS5cbi8vL1xuQG1peGluIHRyYWlsaW5nLWFjdGlvbi1yaXBwbGUtc2l6ZSgkc2l6ZSwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1zdHJ1Y3R1cmU6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBzdHJ1Y3R1cmUpO1xuICAubWRjLWV2b2x1dGlvbi1jaGlwX19yaXBwbGUtLXRyYWlsaW5nIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoaGVpZ2h0LCAkc2l6ZSk7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSh3aWR0aCwgJHNpemUpO1xuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIHRoZSBkZW5zaXR5IHNjYWxlIGZvciB0aGUgY2hpcC5cbi8vLyBAcGFyYW0ge051bWJlciB8IFN0cmluZ30gJGRlbnNpdHktc2NhbGUgLSBEZW5zaXR5IHNjYWxlIHZhbHVlIGZvciBjb21wb25lbnQuXG4vLy8gICAgIFN1cHBvcnRlZCBkZW5zaXR5IHNjYWxlIHZhbHVlcyBhcmUgYC0yYCwgYC0xYCwgYDBgLlxuLy8vXG5AbWl4aW4gZGVuc2l0eSgkZGVuc2l0eS1zY2FsZSwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkaGVpZ2h0OiBkZW5zaXR5LnByb3AtdmFsdWUoXG4gICAgJGRlbnNpdHktY29uZmlnOiAkZGVuc2l0eS1jb25maWcsXG4gICAgJGRlbnNpdHktc2NhbGU6ICRkZW5zaXR5LXNjYWxlLFxuICAgICRwcm9wZXJ0eS1uYW1lOiBoZWlnaHQsXG4gICk7XG5cbiAgQGluY2x1ZGUgaGVpZ2h0KCRoZWlnaHQsICRxdWVyeTogJHF1ZXJ5KTtcblxuICBAaWYgJGRlbnNpdHktc2NhbGUgIT0gMCB7XG4gICAgQGluY2x1ZGUgX3Jlc2V0LXRvdWNoLXRhcmdldCgkcXVlcnk6ICRxdWVyeSk7XG4gIH1cbn1cblxuLy8vXG4vLy8gUmVzZXRzIHRvdWNoIHRhcmdldC1yZWxhdGVkIHN0eWxlcy4gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgZGVuc2l0eSBtaXhpbiB0b1xuLy8vIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBpbmNyZWFzZWQgdG91Y2ggdGFyZ2V0LCBzaW5jZSBkZW5zZSBjb21wb25lbnRzXG4vLy8gZG9uJ3QgaGF2ZSB0aGUgc2FtZSBkZWZhdWx0IGExMXkgcmVxdWlyZW1lbnRzLlxuLy8vIEBhY2Nlc3MgcHJpdmF0ZVxuLy8vXG5AbWl4aW4gX3Jlc2V0LXRvdWNoLXRhcmdldCgkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LXN0cnVjdHVyZTogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIHN0cnVjdHVyZSk7XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLXRvdWNoIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIH1cbn1cblxuLy8vXG4vLy8gU2V0cyBjdXN0b20gaGVpZ2h0IGZvciB0aGUgY2hpcC5cbi8vLyBAcGFyYW0ge051bWJlcn0gJGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIGNoaXAuXG4vLy9cbkBtaXhpbiBoZWlnaHQoJGhlaWdodCwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1zdHJ1Y3R1cmU6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBzdHJ1Y3R1cmUpO1xuXG4gIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoaGVpZ2h0LCAkaGVpZ2h0KTtcbiAgfVxufVxuXG5AbWl4aW4gX2NvbnRhaW5lci1zaGFwZSgkcmFkaXVzKSB7XG4gIEBpbmNsdWRlIHNoYXBlLnJhZGl1cygkcmFkaXVzKTtcblxuICAjeyRyaXBwbGUtdGFyZ2V0fSB7XG4gICAgQGluY2x1ZGUgc2hhcGUucmFkaXVzKCRyYWRpdXMpO1xuICB9XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmltYXJ5OmJlZm9yZSB7XG4gICAgQGluY2x1ZGUgc2hhcGUucmFkaXVzKCRyYWRpdXMpO1xuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgdGhlIHNoYXBlIHJhZGl1cyBvZiB0aGUgY2hpcC5cbi8vLyBAcGFyYW0ge051bWJlcnxMaXN0fSAkcmFkaXVzIC0gU2hhcGUgcmFkaXVzIGluIGBib3JkZXItcmFkaXVzYCBDU1MgZm9ybWF0LlxuLy8vIEBwYXJhbSB7Qm9vbGVhbn0gJHJ0bC1yZWZsZXhpdmUgLSBUcnVlIGZsaXBzIHJhZGl1cyBjb3JuZXJzIGluIFJUTC5cbi8vL1xuQG1peGluIHNoYXBlLXJhZGl1cyhcbiAgJHJhZGl1cyxcbiAgJHJ0bC1yZWZsZXhpdmU6IGZhbHNlLFxuICAkZGVuc2l0eS1zY2FsZTogJGRlbnNpdHktc2NhbGUsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICAkaGVpZ2h0OiBkZW5zaXR5LnByb3AtdmFsdWUoXG4gICAgJGRlbnNpdHktY29uZmlnOiAkZGVuc2l0eS1jb25maWcsXG4gICAgJGRlbnNpdHktc2NhbGU6ICRkZW5zaXR5LXNjYWxlLFxuICAgICRwcm9wZXJ0eS1uYW1lOiBoZWlnaHQsXG4gICk7XG5cbiAgQGluY2x1ZGUgc2hhcGUucmFkaXVzKFxuICAgICRyYWRpdXMsXG4gICAgJHJ0bC1yZWZsZXhpdmUsXG4gICAgJGNvbXBvbmVudC1oZWlnaHQ6ICRoZWlnaHQsXG4gICAgJHF1ZXJ5OiAkcXVlcnlcbiAgKTtcblxuICAjeyRyaXBwbGUtdGFyZ2V0fSB7XG4gICAgQGluY2x1ZGUgc2hhcGUucmFkaXVzKFxuICAgICAgJHJhZGl1cyxcbiAgICAgICRydGwtcmVmbGV4aXZlLFxuICAgICAgJGNvbXBvbmVudC1oZWlnaHQ6ICRoZWlnaHQsXG4gICAgICAkcXVlcnk6ICRxdWVyeVxuICAgICk7XG4gIH1cblxuICAubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByaW1hcnk6YmVmb3JlIHtcbiAgICBAaW5jbHVkZSBzaGFwZS5yYWRpdXMoXG4gICAgICAkcmFkaXVzLFxuICAgICAgJHJ0bC1yZWZsZXhpdmUsXG4gICAgICAkY29tcG9uZW50LWhlaWdodDogJGhlaWdodCxcbiAgICAgICRxdWVyeTogJHF1ZXJ5XG4gICAgKTtcbiAgfVxuXG4gIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2ljb24tLXByaW1hcnkge1xuICAgIEBpbmNsdWRlIHNoYXBlLnJhZGl1cyhcbiAgICAgICRyYWRpdXMsXG4gICAgICAkcnRsLXJlZmxleGl2ZSxcbiAgICAgICRjb21wb25lbnQtaGVpZ2h0OiAkaGVpZ2h0LFxuICAgICAgJHF1ZXJ5OiAkcXVlcnlcbiAgICApO1xuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgdGhlIHdpZHRoIG9mIHRoZSBjaGlwIG91dGxpbmUuXG4vLy8gQHBhcmFtIHtOdW1iZXJ9ICR3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgY2hpcCBvdXRsaW5lLlxuLy8vXG5AbWl4aW4gb3V0bGluZS13aWR0aCgkd2lkdGgsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtc3RydWN0dXJlOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgc3RydWN0dXJlKTtcblxuICAubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByaW1hcnk6YmVmb3JlIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoYm9yZGVyLXdpZHRoLCAkd2lkdGgpO1xuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBDdXN0b21pemVzIHRoZSBvdXRsaW5lIGNvbG9yLCB1c2luZyBhIENvbG9yIG9yIHN0YXRlIE1hcC5cbi8vLyAtIFRvIHNldCBvbmx5IHRoZSBkZWZhdWx0IGNvbG9yLCBwcm92aWRlIGEgc2luZ2xlIENvbG9yLlxuLy8vIC0gVG8gc2V0IG9uZSBvciBtb3JlIHN0YXRlIGNvbG9ycywgcHJvdmlkZSBhIHN0YXRlIE1hcCB3aXRoIG9wdGlvbmFsIGtleXMuXG4vLy8gLSBTdXBwb3J0ZWQgc3RhdGUgTWFwIGtleXM6IGBkZWZhdWx0YCwgYGVuYWJsZWRgLCBgZm9jdXNgLCBgZGlzYWJsZWRgLlxuLy8vXG4vLy8gQGV4YW1wbGVcbi8vLyAgIEBpbmNsdWRlIG91dGxpbmUtY29sb3IoYmx1ZSk7XG4vLy8gICBAaW5jbHVkZSBvdXRsaW5lLWNvbG9yKChkaXNhYmxlZDogZ3JheSkpO1xuLy8vXG4vLy8gQHBhcmFtIHtDb2xvciB8IE1hcH0gJGNvbG9yLW9yLW1hcCAtIFRoZSBvdXRsaW5lJ3MgY29sb3Igb3IgYSBzdGF0ZSBNYXBcbi8vL1xuQG1peGluIG91dGxpbmUtY29sb3IoJGNvbG9yLW9yLW1hcCwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICBAaW5jbHVkZSBfb3V0bGluZS1jb2xvcihzdGF0ZS5nZXQtZGVmYXVsdC1zdGF0ZSgkY29sb3Itb3ItbWFwKSwgJHF1ZXJ5KTtcbiAgJjpub3QoLm1kYy1ldm9sdXRpb24tY2hpcC0tZGlzYWJsZWQpIHtcbiAgICBAaW5jbHVkZSBfb3V0bGluZS1jb2xvcihzdGF0ZS5nZXQtZW5hYmxlZC1zdGF0ZSgkY29sb3Itb3ItbWFwKSwgJHF1ZXJ5KTtcbiAgfVxuICBAaW5jbHVkZSBfZm9jdXMtb3V0bGluZS1jb2xvcihzdGF0ZS5nZXQtZm9jdXMtc3RhdGUoJGNvbG9yLW9yLW1hcCksICRxdWVyeSk7XG4gICYubWRjLWV2b2x1dGlvbi1jaGlwLS1kaXNhYmxlZCB7XG4gICAgQGluY2x1ZGUgX291dGxpbmUtY29sb3Ioc3RhdGUuZ2V0LWRpc2FibGVkLXN0YXRlKCRjb2xvci1vci1tYXApLCAkcXVlcnkpO1xuICB9XG59XG5cbi8vL1xuLy8vIEN1c3RvbWl6ZXMgdGhlIHNlbGVjdGVkIG91dGxpbmUgY29sb3IsIHVzaW5nIGEgQ29sb3Igb3Igc3RhdGUgTWFwLlxuLy8vIC0gVG8gc2V0IG9ubHkgdGhlIGRlZmF1bHQgY29sb3IsIHByb3ZpZGUgYSBzaW5nbGUgQ29sb3IuXG4vLy8gLSBUbyBzZXQgb25lIG9yIG1vcmUgc3RhdGUgY29sb3JzLCBwcm92aWRlIGEgc3RhdGUgTWFwIHdpdGggb3B0aW9uYWwga2V5cy5cbi8vLyAtIFN1cHBvcnRlZCBzdGF0ZSBNYXAga2V5czogYGRlZmF1bHRgLCBgZW5hYmxlZGAsIGBmb2N1c2AsIGBkaXNhYmxlZGAuXG4vLy9cbi8vLyBAZXhhbXBsZVxuLy8vICAgQGluY2x1ZGUgc2VsZWN0ZWQtb3V0bGluZS1jb2xvcihibHVlKTtcbi8vLyAgIEBpbmNsdWRlIHNlbGVjdGVkLW91dGxpbmUtY29sb3IoKGRpc2FibGVkOiBncmF5KSk7XG4vLy9cbi8vLyBAcGFyYW0ge0NvbG9yIHwgTWFwfSAkY29sb3Itb3ItbWFwIC0gVGhlIG91dGxpbmUncyBjb2xvciBvciBhIHN0YXRlIE1hcFxuLy8vXG5AbWl4aW4gc2VsZWN0ZWQtb3V0bGluZS1jb2xvcigkY29sb3Itb3ItbWFwLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICYubWRjLWV2b2x1dGlvbi1jaGlwLS1zZWxlY3RlZCB7XG4gICAgQGluY2x1ZGUgb3V0bGluZS1jb2xvcigkY29sb3Itb3ItbWFwLCAkcXVlcnk6ICRxdWVyeSk7XG4gIH1cbn1cblxuQG1peGluIF9vdXRsaW5lLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1jb2xvcjogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIGNvbG9yKTtcblxuICAubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByaW1hcnk6YmVmb3JlIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LWNvbG9yKSB7XG4gICAgICBAaWYgJGNvbG9yIHtcbiAgICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoYm9yZGVyLWNvbG9yLCAkY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPKGIvMjA2Njk0NzQyKTogRmluZCBhIGJldHRlciBzb2x1dGlvbi5cbiAgICAgIEBpZiAkY29sb3IgPT0gdHJhbnNwYXJlbnQge1xuICAgICAgICBAaW5jbHVkZSBkb20uZm9yY2VkLWNvbG9ycy1tb2RlKCRleGNsdWRlLWllMTE6IHRydWUpIHtcbiAgICAgICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShib3JkZXItY29sb3IsIENhbnZhc1RleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBfZm9jdXMtb3V0bGluZS1jb2xvcigkY29sb3IsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtY29sb3I6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBjb2xvcik7XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmltYXJ5Om5vdCgubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByZXNlbnRhdGlvbmFsKSB7XG4gICAgQGluY2x1ZGUgcmlwcGxlLXRoZW1lLmZvY3VzKCkge1xuICAgICAgJjpiZWZvcmUge1xuICAgICAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LWNvbG9yKSB7XG4gICAgICAgICAgQGlmICRjb2xvciB7XG4gICAgICAgICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShib3JkZXItY29sb3IsICRjb2xvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgdGhlIHN0eWxlIG9mIHRoZSBjaGlwIG91dGxpbmUuXG4vLy8gQHBhcmFtIHtTdHJpbmd9ICRzdHlsZSAtIFRoZSBzdHlsZSBvZiB0aGUgY2hpcCBvdXRsaW5lLlxuLy8vXG5AbWl4aW4gb3V0bGluZS1zdHlsZSgkc3R5bGUsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtc3RydWN0dXJlOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgc3RydWN0dXJlKTtcblxuICAubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByaW1hcnk6YmVmb3JlIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoYm9yZGVyLXN0eWxlLCAkc3R5bGUpO1xuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBDdXN0b21pemVzIHRoZSBjb250YWluZXIgY29sb3IsIHVzaW5nIGEgQ29sb3Igb3Igc3RhdGUgTWFwLlxuLy8vIC0gVG8gc2V0IG9ubHkgdGhlIGRlZmF1bHQgY29sb3IsIHByb3ZpZGUgYSBzaW5nbGUgQ29sb3IuXG4vLy8gLSBUbyBzZXQgb25lIG9yIG1vcmUgc3RhdGUgY29sb3JzLCBwcm92aWRlIGEgc3RhdGUgTWFwIHdpdGggb3B0aW9uYWwga2V5cy5cbi8vLyAtIFN1cHBvcnRlZCBzdGF0ZSBNYXAga2V5czogYGRlZmF1bHRgLCBgZW5hYmxlZGAsIGBkaXNhYmxlZGAuXG4vLy9cbi8vLyBAZXhhbXBsZVxuLy8vICAgQGluY2x1ZGUgY29udGFpbmVyLWNvbG9yKGJsdWUpO1xuLy8vICAgQGluY2x1ZGUgY29udGFpbmVyLWNvbG9yKChkaXNhYmxlZDogZ3JheSkpO1xuLy8vXG4vLy8gQHBhcmFtIHtDb2xvciB8IE1hcH0gJGNvbG9yLW9yLW1hcCAtIFRoZSBjb250YWluZXIncyBjb2xvciBvciBhIHN0YXRlIE1hcFxuLy8vXG5AbWl4aW4gY29udGFpbmVyLWNvbG9yKCRjb2xvci1vci1tYXAsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgQGluY2x1ZGUgX2NvbnRhaW5lci1jb2xvcihzdGF0ZS5nZXQtZGVmYXVsdC1zdGF0ZSgkY29sb3Itb3ItbWFwKSwgJHF1ZXJ5KTtcbiAgJjpub3QoLm1kYy1ldm9sdXRpb24tY2hpcC0tZGlzYWJsZWQpIHtcbiAgICBAaW5jbHVkZSBfY29udGFpbmVyLWNvbG9yKHN0YXRlLmdldC1lbmFibGVkLXN0YXRlKCRjb2xvci1vci1tYXApLCAkcXVlcnkpO1xuICB9XG4gICYubWRjLWV2b2x1dGlvbi1jaGlwLS1kaXNhYmxlZCB7XG4gICAgQGluY2x1ZGUgX2NvbnRhaW5lci1jb2xvcihzdGF0ZS5nZXQtZGlzYWJsZWQtc3RhdGUoJGNvbG9yLW9yLW1hcCksICRxdWVyeSk7XG4gIH1cbn1cblxuLy8vXG4vLy8gQ3VzdG9taXplcyB0aGUgc2VsZWN0ZWQgY29udGFpbmVyIGNvbG9yLCB1c2luZyBhIENvbG9yIG9yIHN0YXRlIE1hcC5cbi8vLyAtIFRvIHNldCBvbmx5IHRoZSBkZWZhdWx0IGNvbG9yLCBwcm92aWRlIGEgc2luZ2xlIENvbG9yLlxuLy8vIC0gVG8gc2V0IG9uZSBvciBtb3JlIHN0YXRlIGNvbG9ycywgcHJvdmlkZSBhIHN0YXRlIE1hcCB3aXRoIG9wdGlvbmFsIGtleXMuXG4vLy8gLSBTdXBwb3J0ZWQgc3RhdGUgTWFwIGtleXM6IGBkZWZhdWx0YCwgYGVuYWJsZWRgLCBgZGlzYWJsZWRgLlxuLy8vXG4vLy8gQGV4YW1wbGVcbi8vLyAgIEBpbmNsdWRlIHNlbGVjdGVkLWNvbnRhaW5lci1jb2xvcihibHVlKTtcbi8vLyAgIEBpbmNsdWRlIHNlbGVjdGVkLWNvbnRhaW5lci1jb2xvcigoZGlzYWJsZWQ6IGdyYXkpKTtcbi8vL1xuLy8vIEBwYXJhbSB7Q29sb3IgfCBNYXB9ICRjb2xvci1vci1tYXAgLSBUaGUgY29udGFpbmVyJ3MgY29sb3Igb3IgYSBzdGF0ZSBNYXBcbi8vL1xuQG1peGluIHNlbGVjdGVkLWNvbnRhaW5lci1jb2xvcihcbiAgJGNvbG9yLW9yLW1hcCxcbiAgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKVxuKSB7XG4gICYubWRjLWV2b2x1dGlvbi1jaGlwLS1zZWxlY3RlZCB7XG4gICAgQGluY2x1ZGUgY29udGFpbmVyLWNvbG9yKCRjb2xvci1vci1tYXAsICRxdWVyeTogJHF1ZXJ5KTtcbiAgfVxufVxuXG5AbWl4aW4gX2NvbnRhaW5lci1jb2xvcigkY29sb3IsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtY29sb3I6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBjb2xvcik7XG5cbiAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgIEBpZiAkY29sb3Ige1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoYmFja2dyb3VuZC1jb2xvciwgJGNvbG9yKTtcbiAgICB9XG4gIH1cbn1cblxuLy8vXG4vLy8gQ3VzdG9taXplcyB0aGUgdGV4dCBsYWJlbCBjb2xvciwgdXNpbmcgYSBDb2xvciBvciBzdGF0ZSBNYXAuXG4vLy8gLSBUbyBzZXQgb25seSB0aGUgZGVmYXVsdCBjb2xvciwgcHJvdmlkZSBhIHNpbmdsZSBDb2xvci5cbi8vLyAtIFRvIHNldCBvbmUgb3IgbW9yZSBzdGF0ZSBjb2xvcnMsIHByb3ZpZGUgYSBzdGF0ZSBNYXAgd2l0aCBvcHRpb25hbCBrZXlzLlxuLy8vIC0gU3VwcG9ydGVkIHN0YXRlIE1hcCBrZXlzOiBgZGVmYXVsdGAsIGBlbmFibGVkYCwgYGhvdmVyYCwgYGZvY3VzYCwgYGRpc2FibGVkYC5cbi8vL1xuLy8vIEBleGFtcGxlXG4vLy8gICBAaW5jbHVkZSB0ZXh0LWxhYmVsLWNvbG9yKGJsdWUpO1xuLy8vICAgQGluY2x1ZGUgdGV4dC1sYWJlbC1jb2xvcigoZGlzYWJsZWQ6IGdyYXkpKTtcbi8vL1xuLy8vIEBwYXJhbSB7Q29sb3IgfCBNYXB9ICRjb2xvci1vci1tYXAgLSBUaGUgbGFiZWwncyBjb2xvciBvciBhIHN0YXRlIE1hcFxuLy8vXG5AbWl4aW4gdGV4dC1sYWJlbC1jb2xvcigkY29sb3Itb3ItbWFwLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gIEBpbmNsdWRlIF90ZXh0LWxhYmVsLWNvbG9yKHN0YXRlLmdldC1kZWZhdWx0LXN0YXRlKCRjb2xvci1vci1tYXApLCAkcXVlcnkpO1xuICAmOm5vdCgubWRjLWV2b2x1dGlvbi1jaGlwLS1kaXNhYmxlZCkge1xuICAgIEBpbmNsdWRlIF90ZXh0LWxhYmVsLWNvbG9yKHN0YXRlLmdldC1lbmFibGVkLXN0YXRlKCRjb2xvci1vci1tYXApLCAkcXVlcnkpO1xuICB9XG4gIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2FjdGlvbi0tcHJpbWFyeTpub3QoLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmVzZW50YXRpb25hbCk6aG92ZXIge1xuICAgIEBpbmNsdWRlIF90ZXh0LWxhYmVsLWNvbG9yKHN0YXRlLmdldC1ob3Zlci1zdGF0ZSgkY29sb3Itb3ItbWFwKSwgJHF1ZXJ5KTtcbiAgfVxuXG4gIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2FjdGlvbi0tcHJpbWFyeTpub3QoLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmVzZW50YXRpb25hbCkge1xuICAgIEBpbmNsdWRlIHJpcHBsZS10aGVtZS5mb2N1cygpIHtcbiAgICAgIEBpbmNsdWRlIF90ZXh0LWxhYmVsLWNvbG9yKHN0YXRlLmdldC1mb2N1cy1zdGF0ZSgkY29sb3Itb3ItbWFwKSwgJHF1ZXJ5KTtcbiAgICB9XG4gIH1cblxuICAmLm1kYy1ldm9sdXRpb24tY2hpcC0tZGlzYWJsZWQge1xuICAgIEBpbmNsdWRlIF90ZXh0LWxhYmVsLWNvbG9yKHN0YXRlLmdldC1kaXNhYmxlZC1zdGF0ZSgkY29sb3Itb3ItbWFwKSwgJHF1ZXJ5KTtcbiAgfVxufVxuXG4vLy9cbi8vLyBDdXN0b21pemVzIHRoZSBzZWxlY3RlZCB0ZXh0IGxhYmVsIGNvbG9yLCB1c2luZyBhIENvbG9yIG9yIHN0YXRlIE1hcC5cbi8vLyAtIFRvIHNldCBvbmx5IHRoZSBkZWZhdWx0IGNvbG9yLCBwcm92aWRlIGEgc2luZ2xlIENvbG9yLlxuLy8vIC0gVG8gc2V0IG9uZSBvciBtb3JlIHN0YXRlIGNvbG9ycywgcHJvdmlkZSBhIHN0YXRlIE1hcCB3aXRoIG9wdGlvbmFsIGtleXMuXG4vLy8gLSBTdXBwb3J0ZWQgc3RhdGUgTWFwIGtleXM6IGBkZWZhdWx0YCwgYGhvdmVyYCwgYGZvY3VzYCwgYGRpc2FibGVkYC5cbi8vL1xuLy8vIEBleGFtcGxlXG4vLy8gICBAaW5jbHVkZSBzZWxlY3RlZC10ZXh0LWxhYmVsLWNvbG9yKGJsdWUpO1xuLy8vICAgQGluY2x1ZGUgc2VsZWN0ZWQtdGV4dC1sYWJlbC1jb2xvcigoZGlzYWJsZWQ6IGdyYXkpKTtcbi8vL1xuLy8vIEBwYXJhbSB7Q29sb3IgfCBNYXB9ICRjb2xvci1vci1tYXAgLSBUaGUgbGFiZWwncyBjb2xvciBvciBhIHN0YXRlIE1hcFxuLy8vXG5AbWl4aW4gc2VsZWN0ZWQtdGV4dC1sYWJlbC1jb2xvcihcbiAgJGNvbG9yLW9yLW1hcCxcbiAgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKVxuKSB7XG4gICYubWRjLWV2b2x1dGlvbi1jaGlwLS1zZWxlY3RlZCB7XG4gICAgQGluY2x1ZGUgdGV4dC1sYWJlbC1jb2xvcigkY29sb3Itb3ItbWFwLCAkcXVlcnk6ICRxdWVyeSk7XG4gIH1cbn1cblxuQG1peGluIF90ZXh0LWxhYmVsLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1jb2xvcjogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIGNvbG9yKTtcblxuICAubWRjLWV2b2x1dGlvbi1jaGlwX190ZXh0LWxhYmVsIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LWNvbG9yKSB7XG4gICAgICBAaWYgJGNvbG9yIHtcbiAgICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoY29sb3IsICRjb2xvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgdGhlIHR5cGUgc2NhbGUgb2YgdGhlIHRleHQgbGFiZWwuXG4vLy8gQHBhcmFtIHtTdHJpbmd9ICR0eXBlLXNjYWxlIC0gVGhlIHR5cGUgc2NhbGUgb2YgdGhlIHRleHQgbGFiZWwuXG4vLy9cbkBtaXhpbiB0ZXh0LWxhYmVsLXR5cGUtc2NhbGUoJHR5cGUtc2NhbGUsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fdGV4dC1sYWJlbCB7XG4gICAgQGluY2x1ZGUgdHlwb2dyYXBoeS50eXBvZ3JhcGh5KCR0eXBlLXNjYWxlLCAkcXVlcnk6ICRxdWVyeSk7XG4gIH1cbn1cblxuLy8vXG4vLy8gU2V0cyB0aGUgc2l6ZSBvZiB0aGUgZ3JhcGhpYy5cbi8vLyBAcGFyYW0ge051bWJlcn0gJHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgZ3JhcGhpYy5cbi8vL1xuQG1peGluIGdyYXBoaWMtc2l6ZSgkc2l6ZSwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1zdHJ1Y3R1cmU6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBzdHJ1Y3R1cmUpO1xuXG4gIC8vIEV4cG9zZSB0aGUgd2lkdGggYXMgYSByZWFkYWJsZSBjdXN0b20gcHJvcGVydHkgdGhhdCBjYW4gYmUgdXNlZCB3aGVuXG4gIC8vIGNvbXB1dGluZyB0aGUgY2hpcCBib3VuZGluZyBjbGllbnQgcmVjdCBhcyBhbiBhZGRpdGl2ZSB2YWx1ZSBmb3IgdGhlIGNoaXBcbiAgLy8gd2lkdGguIFRoaXMgc29sdmVzIGZvciBzZWxlY3RhYmxlIGNoaXBzIHdpdGhvdXQgaWNvbnMgZ3Jvd2luZy9zaHJpbmtpbmcgYXNcbiAgLy8gdGhleSB0b2dnbGUgdGhlaXIgc2VsZWN0ZWQgc3RhdGUuIFRoZSByaXBwbGUgZGltZW5zaW9ucyB3aWxsIGhhdmUgYmVlblxuICAvLyBjb21wdXRlZCBiYXNlZCBvbiB0aGUgdW5zZWxlY3RlZCBib3VuZGluZyBjbGllbnQgcmVhY3Qgd2hpY2ggd2lsbCBub3QgaGF2ZVxuICAvLyBlbm91Z2ggaG9yaXpvbnRhbCBzcGFjZSB0byBhY2NvdW50IGZvciB0aGUgZ3Jvd3RoIGluIHdpZHRoLlxuICAmLm1kYy1ldm9sdXRpb24tY2hpcC0tc2VsZWN0YWJsZTpub3QoLm1kYy1ldm9sdXRpb24tY2hpcC0td2l0aC1wcmltYXJ5LWljb24pIHtcbiAgICBAaWYgJHNpemUge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoLS1tZGMtY2hpcC1ncmFwaGljLXNlbGVjdGVkLXdpZHRoLCAkc2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fZ3JhcGhpYyB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGhlaWdodCwgJHNpemUpO1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkod2lkdGgsICRzaXplKTtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGZvbnQtc2l6ZSwgJHNpemUpO1xuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBDdXN0b21pemVzIHRoZSBpY29uIGNvbG9yLCB1c2luZyBhIENvbG9yIG9yIHN0YXRlIE1hcC5cbi8vLyAtIFRvIHNldCBvbmx5IHRoZSBkZWZhdWx0IGNvbG9yLCBwcm92aWRlIGEgc2luZ2xlIENvbG9yLlxuLy8vIC0gVG8gc2V0IG9uZSBvciBtb3JlIHN0YXRlIGNvbG9ycywgcHJvdmlkZSBhIHN0YXRlIE1hcCB3aXRoIG9wdGlvbmFsIGtleXMuXG4vLy8gLSBTdXBwb3J0ZWQgc3RhdGUgTWFwIGtleXM6IGBkZWZhdWx0YCwgYGVuYWJsZWRgLCBgZm9jdXNgLCBgZGlzYWJsZWRgLlxuLy8vXG4vLy8gQGV4YW1wbGVcbi8vLyAgIEBpbmNsdWRlIGljb24tY29sb3IoYmx1ZSk7XG4vLy8gICBAaW5jbHVkZSBpY29uLWNvbG9yKChkaXNhYmxlZDogZ3JheSkpO1xuLy8vXG4vLy8gQHBhcmFtIHtDb2xvciB8IE1hcH0gJGNvbG9yLW9yLW1hcCAtIFRoZSBpY29uJ3MgY29sb3Igb3IgYSBzdGF0ZSBNYXBcbi8vL1xuQG1peGluIGljb24tY29sb3IoJGNvbG9yLW9yLW1hcCwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICBAaW5jbHVkZSBfaWNvbi1jb2xvcihzdGF0ZS5nZXQtZGVmYXVsdC1zdGF0ZSgkY29sb3Itb3ItbWFwKSwgJHF1ZXJ5KTtcblxuICAmOm5vdCgubWRjLWV2b2x1dGlvbi1jaGlwLS1kaXNhYmxlZCkge1xuICAgIEBpbmNsdWRlIF9pY29uLWNvbG9yKHN0YXRlLmdldC1lbmFibGVkLXN0YXRlKCRjb2xvci1vci1tYXApLCAkcXVlcnkpO1xuICB9XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmltYXJ5Om5vdCgubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByZXNlbnRhdGlvbmFsKTpob3ZlciB7XG4gICAgQGluY2x1ZGUgX2ljb24tY29sb3Ioc3RhdGUuZ2V0LWhvdmVyLXN0YXRlKCRjb2xvci1vci1tYXApLCAkcXVlcnkpO1xuICB9XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmltYXJ5Om5vdCgubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByZXNlbnRhdGlvbmFsKSB7XG4gICAgQGluY2x1ZGUgcmlwcGxlLXRoZW1lLmZvY3VzKCkge1xuICAgICAgQGluY2x1ZGUgX2ljb24tY29sb3Ioc3RhdGUuZ2V0LWZvY3VzLXN0YXRlKCRjb2xvci1vci1tYXApLCAkcXVlcnkpO1xuICAgIH1cbiAgfVxuXG4gICYubWRjLWV2b2x1dGlvbi1jaGlwLS1kaXNhYmxlZCB7XG4gICAgQGluY2x1ZGUgX2ljb24tY29sb3Ioc3RhdGUuZ2V0LWRpc2FibGVkLXN0YXRlKCRjb2xvci1vci1tYXApLCAkcXVlcnkpO1xuICB9XG59XG5cbkBtaXhpbiBfaWNvbi1jb2xvcigkY29sb3IsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtY29sb3I6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBjb2xvcik7XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9faWNvbi0tcHJpbWFyeSB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgICAgQGlmICRjb2xvciB7XG4gICAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGNvbG9yLCAkY29sb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBDdXN0b21pemVzIHRoZSBpY29uIGNvbnRhaW5lciBjb2xvciwgdXNpbmcgYSBDb2xvciBvciBzdGF0ZSBNYXAuXG4vLy8gLSBUbyBzZXQgb25seSB0aGUgZGVmYXVsdCBjb2xvciwgcHJvdmlkZSBhIHNpbmdsZSBDb2xvci5cbi8vLyAtIFRvIHNldCBvbmUgb3IgbW9yZSBzdGF0ZSBjb2xvcnMsIHByb3ZpZGUgYSBzdGF0ZSBNYXAgd2l0aCBvcHRpb25hbCBrZXlzLlxuLy8vIC0gU3VwcG9ydGVkIHN0YXRlIE1hcCBrZXlzOiBgZGVmYXVsdGAsIGBob3ZlcmAsIGBmb2N1c2AsIGBkaXNhYmxlZGAuXG4vLy9cbi8vLyBAZXhhbXBsZVxuLy8vICAgQGluY2x1ZGUgaWNvbi1jb250YWluZXItY29sb3IoYmx1ZSk7XG4vLy8gICBAaW5jbHVkZSBpY29uLWNvbnRhaW5lci1jb2xvcigoZGlzYWJsZWQ6IGdyYXkpKTtcbi8vL1xuLy8vIEBwYXJhbSB7Q29sb3IgfCBNYXB9ICRjb2xvci1vci1tYXAgLSBUaGUgaWNvbidzIGNvbnRhaW5lciBjb2xvciBvciBhIHN0YXRlIE1hcFxuLy8vXG5AbWl4aW4gaWNvbi1jb250YWluZXItY29sb3IoJGNvbG9yLW9yLW1hcCwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICBAaW5jbHVkZSBfaWNvbi1jb250YWluZXItY29sb3IoXG4gICAgc3RhdGUuZ2V0LWRlZmF1bHQtc3RhdGUoJGNvbG9yLW9yLW1hcCksXG4gICAgJHF1ZXJ5XG4gICk7XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmltYXJ5Om5vdCgubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByZXNlbnRhdGlvbmFsKTpob3ZlciB7XG4gICAgQGluY2x1ZGUgX2ljb24tY29udGFpbmVyLWNvbG9yKFxuICAgICAgc3RhdGUuZ2V0LWhvdmVyLXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICAgJHF1ZXJ5XG4gICAgKTtcbiAgfVxuXG4gIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2FjdGlvbi0tcHJpbWFyeTpub3QoLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmVzZW50YXRpb25hbCkge1xuICAgIEBpbmNsdWRlIHJpcHBsZS10aGVtZS5mb2N1cygpIHtcbiAgICAgIEBpbmNsdWRlIF9pY29uLWNvbnRhaW5lci1jb2xvcihcbiAgICAgICAgc3RhdGUuZ2V0LWZvY3VzLXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICAgICAkcXVlcnlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgJi5tZGMtZXZvbHV0aW9uLWNoaXAtLWRpc2FibGVkIHtcbiAgICBAaW5jbHVkZSBfaWNvbi1jb250YWluZXItY29sb3IoXG4gICAgICBzdGF0ZS5nZXQtZGlzYWJsZWQtc3RhdGUoJGNvbG9yLW9yLW1hcCksXG4gICAgICAkcXVlcnlcbiAgICApO1xuICB9XG59XG5cbkBtaXhpbiBfaWNvbi1jb250YWluZXItY29sb3IoJGNvbG9yLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LWNvbG9yOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgY29sb3IpO1xuXG4gIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2ljb24tLXByaW1hcnkge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtY29sb3IpIHtcbiAgICAgIEBpZiAkY29sb3Ige1xuICAgICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShiYWNrZ3JvdW5kLWNvbG9yLCAkY29sb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIHRoZSBzaXplIG9mIHRoZSBpY29uLlxuLy8vIEBwYXJhbSB7TnVtYmVyfSAkc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBpY29uLlxuLy8vXG5AbWl4aW4gaWNvbi1zaXplKCRzaXplLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LXN0cnVjdHVyZTogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIHN0cnVjdHVyZSk7XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9faWNvbi0tcHJpbWFyeSB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGhlaWdodCwgJHNpemUpO1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkod2lkdGgsICRzaXplKTtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGZvbnQtc2l6ZSwgJHNpemUpO1xuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIHRoZSBzaXplIG9mIHRoZSB0cmFpbGluZyBhY3Rpb24uXG4vLy8gQHBhcmFtIHtOdW1iZXJ9ICRzaXplIC0gVGhlIHNpemUgb2YgdGhlIHRyYWlsaW5nIGFjdGlvbi5cbi8vL1xuQG1peGluIHRyYWlsaW5nLWFjdGlvbi1zaXplKCRzaXplLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LXN0cnVjdHVyZTogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIHN0cnVjdHVyZSk7XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9faWNvbi0tdHJhaWxpbmcge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShoZWlnaHQsICRzaXplKTtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KHdpZHRoLCAkc2l6ZSk7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShmb250LXNpemUsICRzaXplKTtcbiAgICB9XG4gIH1cbn1cblxuLy8vXG4vLy8gQ3VzdG9taXplcyB0aGUgdHJhaWxpbmcgYWN0aW9uIGNvbG9yLCB1c2luZyBhIENvbG9yIG9yIHN0YXRlIE1hcC5cbi8vLyAtIFRvIHNldCBvbmx5IHRoZSBkZWZhdWx0IGNvbG9yLCBwcm92aWRlIGEgc2luZ2xlIENvbG9yLlxuLy8vIC0gVG8gc2V0IG9uZSBvciBtb3JlIHN0YXRlIGNvbG9ycywgcHJvdmlkZSBhIHN0YXRlIE1hcCB3aXRoIG9wdGlvbmFsIGtleXMuXG4vLy8gLSBTdXBwb3J0ZWQgc3RhdGUgTWFwIGtleXM6IGBkZWZhdWx0YCwgYGhvdmVyYCwgYGZvY3VzYCwgYGRpc2FibGVkYC5cbi8vL1xuLy8vIEBleGFtcGxlXG4vLy8gICBAaW5jbHVkZSB0cmFpbGluZy1hY3Rpb24tY29sb3IoYmx1ZSk7XG4vLy8gICBAaW5jbHVkZSB0cmFpbGluZy1hY3Rpb24tY29sb3IoKGRpc2FibGVkOiBncmF5KSk7XG4vLy9cbi8vLyBAcGFyYW0ge0NvbG9yIHwgTWFwfSAkY29sb3Itb3ItbWFwIC0gVGhlIHRyYWlsaW5nIGFjdGlvbidzIGNvbG9yIG9yIGEgc3RhdGUgTWFwXG4vLy9cbkBtaXhpbiB0cmFpbGluZy1hY3Rpb24tY29sb3IoJGNvbG9yLW9yLW1hcCwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICBAaW5jbHVkZSBfdHJhaWxpbmctYWN0aW9uLWNvbG9yKFxuICAgIHN0YXRlLmdldC1kZWZhdWx0LXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICRxdWVyeVxuICApO1xuXG4gICY6bm90KC5tZGMtZXZvbHV0aW9uLWNoaXAtLWRpc2FibGVkKSB7XG4gICAgQGluY2x1ZGUgX3RyYWlsaW5nLWFjdGlvbi1jb2xvcihcbiAgICAgIHN0YXRlLmdldC1lbmFibGVkLXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICAgJHF1ZXJ5XG4gICAgKTtcbiAgfVxuXG4gIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2FjdGlvbi0tdHJhaWxpbmc6aG92ZXIge1xuICAgIEBpbmNsdWRlIF90cmFpbGluZy1hY3Rpb24tY29sb3IoXG4gICAgICBzdGF0ZS5nZXQtaG92ZXItc3RhdGUoJGNvbG9yLW9yLW1hcCksXG4gICAgICAkcXVlcnlcbiAgICApO1xuICB9XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS10cmFpbGluZyB7XG4gICAgQGluY2x1ZGUgcmlwcGxlLXRoZW1lLmZvY3VzKCkge1xuICAgICAgQGluY2x1ZGUgX3RyYWlsaW5nLWFjdGlvbi1jb2xvcihcbiAgICAgICAgc3RhdGUuZ2V0LWZvY3VzLXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICAgICAkcXVlcnlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgJi5tZGMtZXZvbHV0aW9uLWNoaXAtLWRpc2FibGVkIHtcbiAgICBAaW5jbHVkZSBfdHJhaWxpbmctYWN0aW9uLWNvbG9yKFxuICAgICAgc3RhdGUuZ2V0LWRpc2FibGVkLXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICAgJHF1ZXJ5XG4gICAgKTtcbiAgfVxufVxuXG5AbWl4aW4gX3RyYWlsaW5nLWFjdGlvbi1jb2xvcigkY29sb3IsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtY29sb3I6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBjb2xvcik7XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9faWNvbi0tdHJhaWxpbmcge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtY29sb3IpIHtcbiAgICAgIEBpZiAkY29sb3Ige1xuICAgICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShjb2xvciwgJGNvbG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8vXG4vLy8gU2V0cyB0aGUgc2l6ZSBvZiB0aGUgY2hlY2ttYXJrLlxuLy8vIEBwYXJhbSB7TnVtYmVyfSAkc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBjaGVja21hcmsuXG4vLy9cbkBtaXhpbiBjaGVja21hcmstc2l6ZSgkc2l6ZSwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1zdHJ1Y3R1cmU6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBzdHJ1Y3R1cmUpO1xuXG4gIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2NoZWNrbWFyayB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGhlaWdodCwgJHNpemUpO1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkod2lkdGgsICRzaXplKTtcbiAgICB9XG4gIH1cbn1cblxuLy8vXG4vLy8gQ3VzdG9taXplcyB0aGUgY2hlY2ttYXJrIGNvbG9yLCB1c2luZyBhIENvbG9yIG9yIHN0YXRlIE1hcC5cbi8vLyAtIFRvIHNldCBvbmx5IHRoZSBkZWZhdWx0IGNvbG9yLCBwcm92aWRlIGEgc2luZ2xlIENvbG9yLlxuLy8vIC0gVG8gc2V0IG9uZSBvciBtb3JlIHN0YXRlIGNvbG9ycywgcHJvdmlkZSBhIHN0YXRlIE1hcCB3aXRoIG9wdGlvbmFsIGtleXMuXG4vLy8gLSBTdXBwb3J0ZWQgc3RhdGUgTWFwIGtleXM6IGBkZWZhdWx0YCwgYGVuYWJsZWRgLCBgaG92ZXJgLCBgZm9jdXNgLCBgZGlzYWJsZWRgLlxuLy8vXG4vLy8gQGV4YW1wbGVcbi8vLyAgIEBpbmNsdWRlIGNoZWNrbWFyay1jb2xvcihibHVlKTtcbi8vLyAgIEBpbmNsdWRlIGNoZWNrbWFyay1jb2xvcigoZGlzYWJsZWQ6IGdyYXkpKTtcbi8vL1xuLy8vIEBwYXJhbSB7Q29sb3IgfCBNYXB9ICRjb2xvci1vci1tYXAgLSBUaGUgY2hlY2ttYXJrJ3MgY29sb3Igb3IgYSBzdGF0ZSBNYXBcbi8vL1xuQG1peGluIGNoZWNrbWFyay1jb2xvcigkY29sb3Itb3ItbWFwLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gIEBpbmNsdWRlIF9jaGVja21hcmstY29sb3Ioc3RhdGUuZ2V0LWRlZmF1bHQtc3RhdGUoJGNvbG9yLW9yLW1hcCksICRxdWVyeSk7XG5cbiAgJjpub3QoLm1kYy1ldm9sdXRpb24tY2hpcC0tZGlzYWJsZWQpIHtcbiAgICBAaW5jbHVkZSBfY2hlY2ttYXJrLWNvbG9yKHN0YXRlLmdldC1lbmFibGVkLXN0YXRlKCRjb2xvci1vci1tYXApLCAkcXVlcnkpO1xuICB9XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmltYXJ5Om5vdCgubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByZXNlbnRhdGlvbmFsKTpob3ZlciB7XG4gICAgQGluY2x1ZGUgX2NoZWNrbWFyay1jb2xvcihzdGF0ZS5nZXQtaG92ZXItc3RhdGUoJGNvbG9yLW9yLW1hcCksICRxdWVyeSk7XG4gIH1cblxuICAubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByaW1hcnkge1xuICAgIEBpbmNsdWRlIHJpcHBsZS10aGVtZS5mb2N1cygpIHtcbiAgICAgIEBpbmNsdWRlIF9jaGVja21hcmstY29sb3Ioc3RhdGUuZ2V0LWZvY3VzLXN0YXRlKCRjb2xvci1vci1tYXApLCAkcXVlcnkpO1xuICAgIH1cbiAgfVxuXG4gICYubWRjLWV2b2x1dGlvbi1jaGlwLS1kaXNhYmxlZCB7XG4gICAgQGluY2x1ZGUgX2NoZWNrbWFyay1jb2xvcihzdGF0ZS5nZXQtZGlzYWJsZWQtc3RhdGUoJGNvbG9yLW9yLW1hcCksICRxdWVyeSk7XG4gIH1cbn1cblxuQG1peGluIF9jaGVja21hcmstY29sb3IoJGNvbG9yLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LWNvbG9yOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgY29sb3IpO1xuXG4gIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2NoZWNrbWFyayB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgICAgQGlmICRjb2xvciB7XG4gICAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGNvbG9yLCAkY29sb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBDdXN0b21pemVzIHRoZSBjaGVja21hcmsgY29udGFpbmVyIGNvbG9yLCB1c2luZyBhIENvbG9yIG9yIHN0YXRlIE1hcC5cbi8vLyAtIFRvIHNldCBvbmx5IHRoZSBkZWZhdWx0IGNvbG9yLCBwcm92aWRlIGEgc2luZ2xlIENvbG9yLlxuLy8vIC0gVG8gc2V0IG9uZSBvciBtb3JlIHN0YXRlIGNvbG9ycywgcHJvdmlkZSBhIHN0YXRlIE1hcCB3aXRoIG9wdGlvbmFsIGtleXMuXG4vLy8gLSBTdXBwb3J0ZWQgc3RhdGUgTWFwIGtleXM6IGBkZWZhdWx0YCwgYGhvdmVyYCwgYGZvY3VzYCwgYGRpc2FibGVkYC5cbi8vL1xuLy8vIEBleGFtcGxlXG4vLy8gICBAaW5jbHVkZSBjaGVja21hcmstY29udGFpbmVyLWNvbG9yKGJsdWUpO1xuLy8vICAgQGluY2x1ZGUgY2hlY2ttYXJrLWNvbnRhaW5lci1jb2xvcigoZGlzYWJsZWQ6IGdyYXkpKTtcbi8vL1xuLy8vIEBwYXJhbSB7Q29sb3IgfCBNYXB9ICRjb2xvci1vci1tYXAgLSBUaGUgY2hlY2ttYXJrIGNvbnRhaW5lcidzIGNvbG9yIG9yIGEgc3RhdGUgTWFwXG4vLy9cbkBtaXhpbiBjaGVja21hcmstY29udGFpbmVyLWNvbG9yKFxuICAkY29sb3Itb3ItbWFwLFxuICAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpXG4pIHtcbiAgQGluY2x1ZGUgX2NoZWNrbWFyay1jb250YWluZXItY29sb3IoXG4gICAgc3RhdGUuZ2V0LWRlZmF1bHQtc3RhdGUoJGNvbG9yLW9yLW1hcCksXG4gICAgJHF1ZXJ5XG4gICk7XG5cbiAgJi5tZGMtZXZvbHV0aW9uLWNoaXAtLWRpc2FibGVkIHtcbiAgICBAaW5jbHVkZSBfY2hlY2ttYXJrLWNvbnRhaW5lci1jb2xvcihcbiAgICAgIHN0YXRlLmdldC1kaXNhYmxlZC1zdGF0ZSgkY29sb3Itb3ItbWFwKSxcbiAgICAgICRxdWVyeVxuICAgICk7XG4gIH1cbn1cblxuQG1peGluIF9jaGVja21hcmstY29udGFpbmVyLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1jb2xvcjogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIGNvbG9yKTtcblxuICAubWRjLWV2b2x1dGlvbi1jaGlwX19jaGVja21hcmstYmFja2dyb3VuZCB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgICAgQGlmICRjb2xvciB7XG4gICAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGJhY2tncm91bmQtY29sb3IsICRjb2xvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgdGhlIGhvcml6b250YWwgcGFkZGluZyBmb3IgdGhlIGNoaXAuXG4vLy8gQHBhcmFtIHtOdW1iZXJ9ICRsZWFkaW5nIC0gVGhlIGxlYWRpbmcgcGFkZGluZyBmb3IgdGhlIGNoaXAuXG4vLy8gQHBhcmFtIHtOdW1iZXJ9ICR0cmFpbGluZyBbJGxlYWRpbmddIC0gVGhlIHRyYWlsaW5nIHBhZGRpbmcgZm9yIHRoZSBjaGlwLlxuLy8vXG5AbWl4aW4gaG9yaXpvbnRhbC1wYWRkaW5nKFxuICAkbGVhZGluZyxcbiAgJHRyYWlsaW5nOiAkbGVhZGluZyxcbiAgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKVxuKSB7XG4gICRmZWF0LXN0cnVjdHVyZTogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIHN0cnVjdHVyZSk7XG5cbiAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmltYXJ5IHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgQGluY2x1ZGUgcnRsLnJlZmxleGl2ZS1wcm9wZXJ0eShwYWRkaW5nLCAkbGVhZGluZywgJHRyYWlsaW5nKTtcbiAgICB9XG4gIH1cbn1cblxuLy8vXG4vLy8gU2V0cyB0aGUgaG9yaXpvbnRhbCBwYWRkaW5nIGZvciBjaGlwcyB3aXRoIGEgZ3JhcGhpYy5cbi8vLyBAcGFyYW0ge051bWJlcn0gJGdyYXBoaWMtbGVhZGluZyAtIFRoZSBsZWFkaW5nIHBhZGRpbmcgZm9yIHRoZSBncmFwaGljLlxuLy8vIEBwYXJhbSB7TnVtYmVyfSAkZ3JhcGhpYy10cmFpbGluZyAtIFRoZSB0cmFpbGluZyBwYWRkaW5nIGZvciB0aGUgZ3JhcGhpYy5cbi8vLyBAcGFyYW0ge051bWJlcn0gJHByaW1hcnktdHJhaWxpbmcgLSBUaGUgdHJhaWxpbmcgcGFkZGluZyBmb3IgdGhlIHByaW1hcnkgYWN0aW9uLlxuLy8vXG5AbWl4aW4gd2l0aC1ncmFwaGljLWhvcml6b250YWwtcGFkZGluZyhcbiAgJGdyYXBoaWMtbGVhZGluZyxcbiAgJGdyYXBoaWMtdHJhaWxpbmcsXG4gICRwcmltYXJ5LXRyYWlsaW5nLFxuICAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpXG4pIHtcbiAgJGZlYXQtc3RydWN0dXJlOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgc3RydWN0dXJlKTtcblxuICAmLm1kYy1ldm9sdXRpb24tY2hpcC0td2l0aC1wcmltYXJ5LWdyYXBoaWMge1xuICAgIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2dyYXBoaWMge1xuICAgICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgICAgQGluY2x1ZGUgcnRsLnJlZmxleGl2ZS1wcm9wZXJ0eShcbiAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICRncmFwaGljLWxlYWRpbmcsXG4gICAgICAgICAgJGdyYXBoaWMtdHJhaWxpbmdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByaW1hcnkge1xuICAgICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgICAgQGluY2x1ZGUgcnRsLnJlZmxleGl2ZS1wcm9wZXJ0eShwYWRkaW5nLCAwLCAkcHJpbWFyeS10cmFpbGluZyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgdGhlIGhvcml6b250YWwgcGFkZGluZyBmb3IgY2hpcHMgd2l0aCBhIHRyYWlsaW5nIGFjdGlvbi5cbi8vLyBAcGFyYW0ge051bWJlcn0gJHByaW1hcnktbGVhZGluZyAtIFRoZSBsZWFkaW5nIHBhZGRpbmcgZm9yIHRoZSBwcmltYXJ5IGFjdGlvbi5cbi8vLyBAcGFyYW0ge051bWJlcn0gJHRyYWlsaW5nLWFjdGlvbi1sZWFkaW5nIC0gVGhlIGxlYWRpbmcgcGFkZGluZyBmb3IgdGhlIHRyYWlsaW5nIGFjdGlvbi5cbi8vLyBAcGFyYW0ge051bWJlcn0gJHRyYWlsaW5nLWFjdGlvbi10cmFpbGluZyAtIFRoZSB0cmFpbGluZyBwYWRkaW5nIGZvciB0aGUgdHJhaWxpbmcgYWN0aW9uLlxuLy8vXG5AbWl4aW4gd2l0aC10cmFpbGluZy1hY3Rpb24taG9yaXpvbnRhbC1wYWRkaW5nKFxuICAkcHJpbWFyeS1sZWFkaW5nLFxuICAkdHJhaWxpbmctYWN0aW9uLWxlYWRpbmcsXG4gICR0cmFpbGluZy1hY3Rpb24tdHJhaWxpbmcsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICAkZmVhdC1zdHJ1Y3R1cmU6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBzdHJ1Y3R1cmUpO1xuXG4gICYubWRjLWV2b2x1dGlvbi1jaGlwLS13aXRoLXRyYWlsaW5nLWFjdGlvbiB7XG4gICAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS10cmFpbGluZyB7XG4gICAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgICBAaW5jbHVkZSBydGwucmVmbGV4aXZlLXByb3BlcnR5KFxuICAgICAgICAgIHBhZGRpbmcsXG4gICAgICAgICAgJHRyYWlsaW5nLWFjdGlvbi1sZWFkaW5nLFxuICAgICAgICAgICR0cmFpbGluZy1hY3Rpb24tdHJhaWxpbmdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAjeyRyaXBwbGUtdGFyZ2V0LXRyYWlsaW5nfSB7XG4gICAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgICBAaW5jbHVkZSBydGwucmVmbGV4aXZlLXBvc2l0aW9uKGxlZnQsICR0cmFpbGluZy1hY3Rpb24tbGVhZGluZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLm1kYy1ldm9sdXRpb24tY2hpcF9fYWN0aW9uLS1wcmltYXJ5IHtcbiAgICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICAgIEBpbmNsdWRlIHJ0bC5yZWZsZXhpdmUtcHJvcGVydHkocGFkZGluZywgJHByaW1hcnktbGVhZGluZywgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgdGhlIGhvcml6b250YWwgcGFkZGluZyBmb3IgY2hpcHMgd2l0aCBhIGdyYXBoaWMgYW5kIHRyYWlsaW5nIGFjdGlvbi5cbi8vLyBAcGFyYW0ge051bWJlcn0gJGdyYXBoaWMtbGVhZGluZyAtIFRoZSBsZWFkaW5nIHBhZGRpbmcgZm9yIHRoZSBncmFwaGljLlxuLy8vIEBwYXJhbSB7TnVtYmVyfSAkZ3JhcGhpYy10cmFpbGluZyAtIFRoZSB0cmFpbGluZyBwYWRkaW5nIGZvciB0aGUgZ3JhcGhpYy5cbi8vLyBAcGFyYW0ge051bWJlcn0gJHRyYWlsaW5nLWFjdGlvbi1sZWFkaW5nIC0gVGhlIGxlYWRpbmcgcGFkZGluZyBmb3IgdGhlIHRyYWlsaW5nIGFjdGlvbi5cbi8vLyBAcGFyYW0ge051bWJlcn0gJHRyYWlsaW5nLWFjdGlvbi10cmFpbGluZyAtIFRoZSB0cmFpbGluZyBwYWRkaW5nIGZvciB0aGUgdHJhaWxpbmcgYWN0aW9uLlxuLy8vXG5AbWl4aW4gd2l0aC1ncmFwaGljLWFuZC10cmFpbGluZy1hY3Rpb24taG9yaXpvbnRhbC1wYWRkaW5nKFxuICAkZ3JhcGhpYy1sZWFkaW5nLFxuICAkZ3JhcGhpYy10cmFpbGluZyxcbiAgJHRyYWlsaW5nLWFjdGlvbi1sZWFkaW5nLFxuICAkdHJhaWxpbmctYWN0aW9uLXRyYWlsaW5nLFxuICAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpXG4pIHtcbiAgJGZlYXQtc3RydWN0dXJlOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgc3RydWN0dXJlKTtcbiAgJi5tZGMtZXZvbHV0aW9uLWNoaXAtLXdpdGgtcHJpbWFyeS1ncmFwaGljLm1kYy1ldm9sdXRpb24tY2hpcC0td2l0aC10cmFpbGluZy1hY3Rpb24ge1xuICAgIC5tZGMtZXZvbHV0aW9uLWNoaXBfX2dyYXBoaWMge1xuICAgICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgICAgQGluY2x1ZGUgcnRsLnJlZmxleGl2ZS1wcm9wZXJ0eShcbiAgICAgICAgICBwYWRkaW5nLFxuICAgICAgICAgICRncmFwaGljLWxlYWRpbmcsXG4gICAgICAgICAgJGdyYXBoaWMtdHJhaWxpbmdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXRyYWlsaW5nIHtcbiAgICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICAgIEBpbmNsdWRlIHJ0bC5yZWZsZXhpdmUtcHJvcGVydHkoXG4gICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICAkdHJhaWxpbmctYWN0aW9uLWxlYWRpbmcsXG4gICAgICAgICAgJHRyYWlsaW5nLWFjdGlvbi10cmFpbGluZ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgICN7JHJpcHBsZS10YXJnZXQtdHJhaWxpbmd9IHtcbiAgICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICAgIEBpbmNsdWRlIHJ0bC5yZWZsZXhpdmUtcG9zaXRpb24obGVmdCwgJHRyYWlsaW5nLWFjdGlvbi1sZWFkaW5nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24tLXByaW1hcnkge1xuICAgICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgICAgQGluY2x1ZGUgcnRsLnJlZmxleGl2ZS1wcm9wZXJ0eShwYWRkaW5nLCAwLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9jb250YWluZXItZWxldmF0aW9uLXRoZW1lKCR0aGVtZSkge1xuICBAaWYgbWFwLmdldCgkdGhlbWUsIHNoYWRvdykge1xuICAgIEBpbmNsdWRlIGVsZXZhdGlvbi10aGVtZS5zaGFkb3cobWFwLmdldCgkdGhlbWUsIHNoYWRvdykpO1xuICB9XG4gIEBpZiBtYXAuZ2V0KCR0aGVtZSwgb3ZlcmxheS1vcGFjaXR5KSB7XG4gICAgQGluY2x1ZGUgZWxldmF0aW9uLXRoZW1lLm92ZXJsYXktb3BhY2l0eShtYXAuZ2V0KCR0aGVtZSwgb3ZlcmxheS1vcGFjaXR5KSk7XG4gIH1cbiAgLy8gVE9ETyhiLzI2MDA1MzE4Mik6IFJlbW92ZSBzZXR0aW5nIG92ZXJsYXkgY29sb3IgYWZ0ZXIgbWlncmF0aW9uIG9mIGN1c3RvbWVyc1xuICBAaWYgbWFwLmdldCgkdGhlbWUsIG92ZXJsYXktY29sb3IpIHtcbiAgICBAaW5jbHVkZSBlbGV2YXRpb24tdGhlbWUub3ZlcmxheS1jb250YWluZXItY29sb3IoXG4gICAgICBtYXAuZ2V0KCR0aGVtZSwgb3ZlcmxheS1jb2xvcilcbiAgICApO1xuICB9XG59XG5cbi8vIFRPRE8oYi8yNTk5MTM2MjIpOiBVc2UgZWxldmF0aW9uJ3MgdGhlbWUtc3R5bGUoKSBtaXhpbi5cbkBtaXhpbiBfY29udGFpbmVyLWVsZXZhdGlvbigkbWFwKSB7XG4gICRkZWZhdWx0LXN0YXRlOiBzdGF0ZS5nZXQtZGVmYXVsdC1zdGF0ZSgkbWFwKTtcbiAgQGlmICRkZWZhdWx0LXN0YXRlIHtcbiAgICBAaW5jbHVkZSBfY29udGFpbmVyLWVsZXZhdGlvbi10aGVtZSgkZGVmYXVsdC1zdGF0ZSk7XG4gIH1cblxuICAmOm5vdCgubWRjLWV2b2x1dGlvbi1jaGlwLS1kaXNhYmxlZCkge1xuICAgICRlbmFibGVkLXN0YXRlOiBzdGF0ZS5nZXQtZW5hYmxlZC1zdGF0ZSgkbWFwKTtcbiAgICBAaWYgJGVuYWJsZWQtc3RhdGUge1xuICAgICAgQGluY2x1ZGUgX2NvbnRhaW5lci1lbGV2YXRpb24tdGhlbWUoJGVuYWJsZWQtc3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIEBpbmNsdWRlIHJpcHBsZS10aGVtZS5ob3ZlcigpIHtcbiAgICAkaG92ZXItc3RhdGU6IHN0YXRlLmdldC1ob3Zlci1zdGF0ZSgkbWFwKTtcbiAgICBAaWYgJGhvdmVyLXN0YXRlIHtcbiAgICAgIEBpbmNsdWRlIF9jb250YWluZXItZWxldmF0aW9uLXRoZW1lKCRob3Zlci1zdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgQGluY2x1ZGUgcmlwcGxlLXRoZW1lLmZvY3VzKCkge1xuICAgICRmb2N1cy1zdGF0ZTogc3RhdGUuZ2V0LWZvY3VzLXN0YXRlKCRtYXApO1xuICAgIEBpZiAkZm9jdXMtc3RhdGUge1xuICAgICAgQGluY2x1ZGUgX2NvbnRhaW5lci1lbGV2YXRpb24tdGhlbWUoJGZvY3VzLXN0YXRlKTtcbiAgICB9XG4gIH1cblxuICBAaW5jbHVkZSByaXBwbGUtdGhlbWUucHJlc3NlZCgpIHtcbiAgICAkcHJlc3NlZC1zdGF0ZTogc3RhdGUuZ2V0LXByZXNzZWQtc3RhdGUoJG1hcCk7XG4gICAgQGlmICRwcmVzc2VkLXN0YXRlIHtcbiAgICAgIEBpbmNsdWRlIF9jb250YWluZXItZWxldmF0aW9uLXRoZW1lKCRwcmVzc2VkLXN0YXRlKTtcbiAgICB9XG4gIH1cblxuICAmLm1kYy1ldm9sdXRpb24tY2hpcC0tZGlzYWJsZWQge1xuICAgICRkaXNhYmxlZC1zdGF0ZTogc3RhdGUuZ2V0LWRpc2FibGVkLXN0YXRlKCRtYXApO1xuICAgIEBpZiAkZGlzYWJsZWQtc3RhdGUge1xuICAgICAgQGluY2x1ZGUgX2NvbnRhaW5lci1lbGV2YXRpb24tdGhlbWUoJGRpc2FibGVkLXN0YXRlKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIGJ1dHRvbi1jdXJzb3IoJGN1cnNvcikge1xuICAubWRjLWV2b2x1dGlvbi1jaGlwX19hY3Rpb24ge1xuICAgIGN1cnNvcjogJGN1cnNvcjtcbiAgfVxufVxuIiwiQHVzZSAnc2FzczptYXAnO1xuQHVzZSAnc2Fzczpjb2xvcic7XG5AdXNlICdAbWF0ZXJpYWwvc3dpdGNoL3N3aXRjaC10aGVtZScgYXMgbWRjLXN3aXRjaC10aGVtZTtcbkB1c2UgJ0BtYXRlcmlhbC90aGVtZS9jb2xvci1wYWxldHRlJyBhcyBtZGMtY29sb3ItcGFsZXR0ZTtcbkB1c2UgJ0BtYXRlcmlhbC9mb3JtLWZpZWxkJyBhcyBtZGMtZm9ybS1maWVsZDtcbkB1c2UgJy4uL2NvcmUvdGhlbWluZy90aGVtaW5nJztcbkB1c2UgJy4uL2NvcmUvbWRjLWhlbHBlcnMvbWRjLWhlbHBlcnMnO1xuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHknO1xuXG5cbi8vIEdlbmVyYXRlcyBhbGwgY29sb3IgbWFwcGluZyBmb3IgdGhlIHByb3BlcnRpZXMgdGhhdCBvbmx5IGNoYW5nZSBiYXNlZCBvbiB0aGUgdGhlbWUuXG5AZnVuY3Rpb24gX2dldC10aGVtZS1iYXNlLW1hcCgkaXMtZGFyaykge1xuICAkb24tc3VyZmFjZTogaWYoJGlzLWRhcmssIG1kYy1jb2xvci1wYWxldHRlLiRncmV5LTEwMCwgbWRjLWNvbG9yLXBhbGV0dGUuJGdyZXktODAwKTtcbiAgJGhhaXJsaW5lOiBpZigkaXMtZGFyaywgbWRjLWNvbG9yLXBhbGV0dGUuJGdyZXktNzAwLCBtZGMtY29sb3ItcGFsZXR0ZS4kZ3JleS0zMDApO1xuICAkb24tc3VyZmFjZS12YXJpYW50OiBpZigkaXMtZGFyaywgbWRjLWNvbG9yLXBhbGV0dGUuJGdyZXktNTAwLCBtZGMtY29sb3ItcGFsZXR0ZS4kZ3JleS03MDApO1xuICAkb24tc3VyZmFjZS1zdGF0ZS1jb250ZW50OiBpZigkaXMtZGFyaywgbWRjLWNvbG9yLXBhbGV0dGUuJGdyZXktNTAsIG1kYy1jb2xvci1wYWxldHRlLiRncmV5LTkwMCk7XG4gICRkaXNhYmxlZC1oYW5kbGUtY29sb3I6IGlmKCRpcy1kYXJrLCAjMDAwLCBtZGMtY29sb3ItcGFsZXR0ZS4kZ3JleS04MDApO1xuICAkaWNvbi1jb2xvcjogaWYoJGlzLWRhcmssIG1kYy1jb2xvci1wYWxldHRlLiRncmV5LTkwMCwgI2ZmZik7XG5cbiAgQHJldHVybiAoXG4gICAgZGlzYWJsZWQtc2VsZWN0ZWQtaGFuZGxlLWNvbG9yOiAkZGlzYWJsZWQtaGFuZGxlLWNvbG9yLFxuICAgIGRpc2FibGVkLXVuc2VsZWN0ZWQtaGFuZGxlLWNvbG9yOiAkZGlzYWJsZWQtaGFuZGxlLWNvbG9yLFxuXG4gICAgZGlzYWJsZWQtc2VsZWN0ZWQtdHJhY2stY29sb3I6ICRvbi1zdXJmYWNlLFxuICAgIGRpc2FibGVkLXVuc2VsZWN0ZWQtdHJhY2stY29sb3I6ICRvbi1zdXJmYWNlLFxuICAgIHVuc2VsZWN0ZWQtZm9jdXMtc3RhdGUtbGF5ZXItY29sb3I6ICRvbi1zdXJmYWNlLFxuICAgIHVuc2VsZWN0ZWQtcHJlc3NlZC1zdGF0ZS1sYXllci1jb2xvcjogJG9uLXN1cmZhY2UsXG4gICAgdW5zZWxlY3RlZC1ob3Zlci1zdGF0ZS1sYXllci1jb2xvcjogJG9uLXN1cmZhY2UsXG5cbiAgICB1bnNlbGVjdGVkLWZvY3VzLXRyYWNrLWNvbG9yOiAkaGFpcmxpbmUsXG4gICAgdW5zZWxlY3RlZC1ob3Zlci10cmFjay1jb2xvcjogJGhhaXJsaW5lLFxuICAgIHVuc2VsZWN0ZWQtcHJlc3NlZC10cmFjay1jb2xvcjogJGhhaXJsaW5lLFxuICAgIHVuc2VsZWN0ZWQtdHJhY2stY29sb3I6ICRoYWlybGluZSxcblxuICAgIHVuc2VsZWN0ZWQtZm9jdXMtaGFuZGxlLWNvbG9yOiAkb24tc3VyZmFjZS1zdGF0ZS1jb250ZW50LFxuICAgIHVuc2VsZWN0ZWQtaG92ZXItaGFuZGxlLWNvbG9yOiAkb24tc3VyZmFjZS1zdGF0ZS1jb250ZW50LFxuICAgIHVuc2VsZWN0ZWQtcHJlc3NlZC1oYW5kbGUtY29sb3I6ICRvbi1zdXJmYWNlLXN0YXRlLWNvbnRlbnQsXG5cbiAgICBoYW5kbGUtc3VyZmFjZS1jb2xvcjogc3VyZmFjZSxcbiAgICB1bnNlbGVjdGVkLWhhbmRsZS1jb2xvcjogJG9uLXN1cmZhY2UtdmFyaWFudCxcblxuICAgIHNlbGVjdGVkLWljb24tY29sb3I6ICRpY29uLWNvbG9yLFxuICAgIGRpc2FibGVkLXNlbGVjdGVkLWljb24tY29sb3I6ICRpY29uLWNvbG9yLFxuICAgIGRpc2FibGVkLXVuc2VsZWN0ZWQtaWNvbi1jb2xvcjogJGljb24tY29sb3IsXG4gICAgdW5zZWxlY3RlZC1pY29uLWNvbG9yOiAkaWNvbi1jb2xvcixcbiAgKTtcbn1cblxuLy8gR2VuZXJhdGVzIHRoZSBtYXBwaW5nIGZvciB0aGUgcHJvcGVydGllcyB0aGF0IGNoYW5nZSBiYXNlZCBvbiB0aGUgc2xpZGUgdG9nZ2xlIGNvbG9yLlxuQGZ1bmN0aW9uIF9nZXQtdGhlbWUtY29sb3ItbWFwKCRjb2xvci1wYWxldHRlLCAkaXMtZGFyaykge1xuICAkcHJpbWFyeTogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRjb2xvci1wYWxldHRlLCBpZigkaXMtZGFyaywgMzAwLCA2MDApKTtcbiAgJHN0YXRlLWNvbnRlbnQ6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkY29sb3ItcGFsZXR0ZSwgaWYoJGlzLWRhcmssIDIwMCwgOTAwKSk7XG4gICRpbnZlcnNlOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGNvbG9yLXBhbGV0dGUsIGlmKCRpcy1kYXJrLCA2MDAsIDMwMCkpO1xuXG4gIEByZXR1cm4gKFxuICAgIHNlbGVjdGVkLWZvY3VzLXN0YXRlLWxheWVyLWNvbG9yOiAkcHJpbWFyeSxcbiAgICBzZWxlY3RlZC1oYW5kbGUtY29sb3I6ICRwcmltYXJ5LFxuICAgIHNlbGVjdGVkLWhvdmVyLXN0YXRlLWxheWVyLWNvbG9yOiAkcHJpbWFyeSxcbiAgICBzZWxlY3RlZC1wcmVzc2VkLXN0YXRlLWxheWVyLWNvbG9yOiAkcHJpbWFyeSxcblxuICAgIHNlbGVjdGVkLWZvY3VzLWhhbmRsZS1jb2xvcjogJHN0YXRlLWNvbnRlbnQsXG4gICAgc2VsZWN0ZWQtaG92ZXItaGFuZGxlLWNvbG9yOiAkc3RhdGUtY29udGVudCxcbiAgICBzZWxlY3RlZC1wcmVzc2VkLWhhbmRsZS1jb2xvcjogJHN0YXRlLWNvbnRlbnQsXG5cbiAgICBzZWxlY3RlZC1mb2N1cy10cmFjay1jb2xvcjogJGludmVyc2UsXG4gICAgc2VsZWN0ZWQtaG92ZXItdHJhY2stY29sb3I6ICRpbnZlcnNlLFxuICAgIHNlbGVjdGVkLXByZXNzZWQtdHJhY2stY29sb3I6ICRpbnZlcnNlLFxuICAgIHNlbGVjdGVkLXRyYWNrLWNvbG9yOiAkaW52ZXJzZSxcbiAgKTtcbn1cblxuQG1peGluIGNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLmdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLmdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLmdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGlzLWRhcms6IG1hcC5nZXQoJGNvbmZpZywgaXMtZGFyayk7XG4gICRmb3JlZ3JvdW5kOiBtYXAuZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIEBpbmNsdWRlIG1kYy1oZWxwZXJzLnVzaW5nLW1kYy10aGVtZSgkY29uZmlnKSB7XG4gICAgLy8gTURDJ3Mgc3dpdGNoIGRvZXNuJ3Qgc3VwcG9ydCBhIGBjb2xvcmAgcHJvcGVydHkuIFdlIGFkZCBzdXBwb3J0XG4gICAgLy8gZm9yIGl0IGJ5IGFkZGluZyBhIENTUyBjbGFzcyBmb3IgYWNjZW50IGFuZCB3YXJuIHN0eWxlLlxuICAgIC5tYXQtbWRjLXNsaWRlLXRvZ2dsZSB7XG4gICAgICBAaW5jbHVkZSBtZGMtZm9ybS1maWVsZC5jb3JlLXN0eWxlcygkcXVlcnk6IG1kYy1oZWxwZXJzLiRtZGMtdGhlbWUtc3R5bGVzLXF1ZXJ5KTtcbiAgICAgIEBpbmNsdWRlIG1kYy1zd2l0Y2gtdGhlbWUudGhlbWUoX2dldC10aGVtZS1iYXNlLW1hcCgkaXMtZGFyaykpO1xuXG4gICAgICAvLyBNREMgc2hvdWxkIHNldCB0aGUgZGlzYWJsZWQgY29sb3Igb24gdGhlIGxhYmVsLCBidXQgZG9lc24ndCwgc28gd2UgZG8gaXQgaGVyZSBpbnN0ZWFkLlxuICAgICAgLm1kYy1zd2l0Y2gtLWRpc2FibGVkICsgbGFiZWwge1xuICAgICAgICBjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRmb3JlZ3JvdW5kLCBkaXNhYmxlZC10ZXh0KTtcbiAgICAgIH1cblxuICAgICAgJi5tYXQtcHJpbWFyeSB7XG4gICAgICAgIEBpbmNsdWRlIG1kYy1zd2l0Y2gtdGhlbWUudGhlbWUoX2dldC10aGVtZS1jb2xvci1tYXAoJHByaW1hcnksICRpcy1kYXJrKSk7XG4gICAgICB9XG5cbiAgICAgICYubWF0LWFjY2VudCB7XG4gICAgICAgIEBpbmNsdWRlIG1kYy1zd2l0Y2gtdGhlbWUudGhlbWUoX2dldC10aGVtZS1jb2xvci1tYXAoJGFjY2VudCwgJGlzLWRhcmspKTtcbiAgICAgIH1cblxuICAgICAgJi5tYXQtd2FybiB7XG4gICAgICAgIEBpbmNsdWRlIG1kYy1zd2l0Y2gtdGhlbWUudGhlbWUoX2dldC10aGVtZS1jb2xvci1tYXAoJHdhcm4sICRpcy1kYXJrKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdHlwb2dyYXBoeS5wcml2YXRlLXR5cG9ncmFwaHktdG8tMjAxOC1jb25maWcoXG4gICAgICB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKSk7XG4gIEBpbmNsdWRlIG1kYy1oZWxwZXJzLnVzaW5nLW1kYy10eXBvZ3JhcGh5KCRjb25maWcpIHtcbiAgICBAaW5jbHVkZSBtZGMtZm9ybS1maWVsZC5jb3JlLXN0eWxlcygkcXVlcnk6IG1kYy1oZWxwZXJzLiRtZGMtdHlwb2dyYXBoeS1zdHlsZXMtcXVlcnkpO1xuICB9XG59XG5cbkBtaXhpbiBkZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LW1kYy1zbGlkZS10b2dnbGUge1xuICAgIEBpbmNsdWRlIG1kYy1zd2l0Y2gtdGhlbWUudGhlbWUobWRjLXN3aXRjaC10aGVtZS5kZW5zaXR5KCRkZW5zaXR5LXNjYWxlKSk7XG4gIH1cbn1cblxuQG1peGluIHRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiB0aGVtaW5nLnByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcblxuICBAaW5jbHVkZSB0aGVtaW5nLnByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtc2xpZGUtdG9nZ2xlJykge1xuICAgICRjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IHRoZW1pbmcuZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIHR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG4iLCJAdXNlICdAbWF0ZXJpYWwvcmFkaW8vcmFkaW8nIGFzIG1kYy1yYWRpbztcbkB1c2UgJ0BtYXRlcmlhbC9yYWRpby9yYWRpby10aGVtZScgYXMgbWRjLXJhZGlvLXRoZW1lO1xuQHVzZSAnQG1hdGVyaWFsL2Zvcm0tZmllbGQnIGFzIG1kYy1mb3JtLWZpZWxkO1xuQHVzZSAnLi4vY29yZS9tZGMtaGVscGVycy9tZGMtaGVscGVycyc7XG5AdXNlICcuLi9jb3JlL3RoZW1pbmcvdGhlbWluZyc7XG5AdXNlICcuLi9jb3JlL3Rva2Vucy90b2tlbi11dGlscyc7XG5AdXNlICcuLi9jb3JlL3R5cG9ncmFwaHkvdHlwb2dyYXBoeSc7XG5AdXNlICcuLi9jb3JlL3Rva2Vucy9tMi9tZGMvcmFkaW8nIGFzIHRva2Vucy1tZGMtcmFkaW87XG5AdXNlICcuLi9jb3JlL3Rva2Vucy9tMi9tYXQvcmFkaW8nIGFzIHRva2Vucy1tYXQtcmFkaW87XG5AdXNlICdzYXNzOm1hcCc7XG5cbkBtaXhpbiBjb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJHByaW1hcnk6IG1hcC5nZXQoJGNvbmZpZywgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC5nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC5nZXQoJGNvbmZpZywgd2Fybik7XG5cbiAgQGluY2x1ZGUgbWRjLWhlbHBlcnMudXNpbmctbWRjLXRoZW1lKCRjb25maWcpIHtcbiAgICAubWF0LW1kYy1yYWRpby1idXR0b24ge1xuICAgICAgQGluY2x1ZGUgbWRjLWZvcm0tZmllbGQuY29yZS1zdHlsZXMoJHF1ZXJ5OiBtZGMtaGVscGVycy4kbWRjLXRoZW1lLXN0eWxlcy1xdWVyeSk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1tZGMtcmFkaW8tYnV0dG9uIHtcbiAgICAmLm1hdC1wcmltYXJ5IHtcbiAgICAgICRwcmltYXJ5LWNvbmZpZzogbWFwLm1lcmdlKCRjb25maWcsIChhY2NlbnQ6ICRwcmltYXJ5KSk7XG4gICAgICBAaW5jbHVkZSBtZGMtcmFkaW8tdGhlbWUudGhlbWUodG9rZW5zLW1kYy1yYWRpby5nZXQtY29sb3ItdG9rZW5zKCRwcmltYXJ5LWNvbmZpZykpO1xuICAgICAgQGluY2x1ZGUgdG9rZW4tdXRpbHMuY3JlYXRlLXRva2VuLXZhbHVlcyh0b2tlbnMtbWF0LXJhZGlvLiRwcmVmaXgsXG4gICAgICAgIHRva2Vucy1tYXQtcmFkaW8uZ2V0LWNvbG9yLXRva2VucygkcHJpbWFyeS1jb25maWcpKTtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgJGFjY2VudC1jb25maWc6IG1hcC5tZXJnZSgkY29uZmlnLCAoYWNjZW50OiAkYWNjZW50KSk7XG4gICAgICBAaW5jbHVkZSBtZGMtcmFkaW8tdGhlbWUudGhlbWUodG9rZW5zLW1kYy1yYWRpby5nZXQtY29sb3ItdG9rZW5zKCRhY2NlbnQtY29uZmlnKSk7XG4gICAgICBAaW5jbHVkZSB0b2tlbi11dGlscy5jcmVhdGUtdG9rZW4tdmFsdWVzKHRva2Vucy1tYXQtcmFkaW8uJHByZWZpeCxcbiAgICAgICAgdG9rZW5zLW1hdC1yYWRpby5nZXQtY29sb3ItdG9rZW5zKCRhY2NlbnQtY29uZmlnKSk7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiB7XG4gICAgICAkd2Fybi1jb25maWc6IG1hcC5tZXJnZSgkY29uZmlnLCAoYWNjZW50OiAkd2FybikpO1xuICAgICAgQGluY2x1ZGUgbWRjLXJhZGlvLXRoZW1lLnRoZW1lKHRva2Vucy1tZGMtcmFkaW8uZ2V0LWNvbG9yLXRva2Vucygkd2Fybi1jb25maWcpKTtcbiAgICAgIEBpbmNsdWRlIHRva2VuLXV0aWxzLmNyZWF0ZS10b2tlbi12YWx1ZXModG9rZW5zLW1hdC1yYWRpby4kcHJlZml4LFxuICAgICAgICB0b2tlbnMtbWF0LXJhZGlvLmdldC1jb2xvci10b2tlbnMoJHdhcm4tY29uZmlnKSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdHlwb2dyYXBoeS5wcml2YXRlLXR5cG9ncmFwaHktdG8tMjAxOC1jb25maWcoXG4gICAgICB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKSk7XG5cbiAgLm1hdC1tZGMtcmFkaW8tYnV0dG9uIHtcbiAgICBAaW5jbHVkZSBtZGMtcmFkaW8tdGhlbWUudGhlbWUodG9rZW5zLW1kYy1yYWRpby5nZXQtdHlwb2dyYXBoeS10b2tlbnMoJGNvbmZpZykpO1xuICAgIEBpbmNsdWRlIG1kYy1oZWxwZXJzLnVzaW5nLW1kYy10eXBvZ3JhcGh5KCRjb25maWcpIHtcbiAgICAgIEBpbmNsdWRlIG1kYy1mb3JtLWZpZWxkLmNvcmUtc3R5bGVzKCRxdWVyeTogbWRjLWhlbHBlcnMuJG1kYy10eXBvZ3JhcGh5LXN0eWxlcy1xdWVyeSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBkZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LW1kYy1yYWRpby1idXR0b24gLm1kYy1yYWRpbyB7XG4gICAgQGluY2x1ZGUgbWRjLXJhZGlvLXRoZW1lLnRoZW1lKHRva2Vucy1tZGMtcmFkaW8uZ2V0LWRlbnNpdHktdG9rZW5zKCRkZW5zaXR5LXNjYWxlKSk7XG4gIH1cblxuICBAaW5jbHVkZSBtZGMtaGVscGVycy5pZi10b3VjaC10YXJnZXRzLXVuc3VwcG9ydGVkKCRkZW5zaXR5LXNjYWxlKSB7XG4gICAgLm1hdC1tZGMtcmFkaW8tdG91Y2gtdGFyZ2V0IHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogdGhlbWluZy5wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIHRoZW1pbmcucHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1yYWRpbycpIHtcbiAgICAkY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiB0aGVtaW5nLmdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSB0eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cbiIsIkB1c2UgJ3Nhc3M6bWFwJztcbkB1c2UgJ0BtYXRlcmlhbC9saXN0L2V2b2x1dGlvbi1taXhpbnMnO1xuQHVzZSAnQG1hdGVyaWFsL2NoZWNrYm94L2NoZWNrYm94LXRoZW1lJyBhcyBtZGMtY2hlY2tib3gtdGhlbWU7XG5AdXNlICdAbWF0ZXJpYWwvcmFkaW8vcmFkaW8tdGhlbWUnIGFzIG1kYy1yYWRpby10aGVtZTtcbkB1c2UgJ0BtYXRlcmlhbC9saXN0L2xpc3QtdGhlbWUnIGFzIG1kYy1saXN0LXRoZW1lO1xuXG5AdXNlICcuLi9jb3JlL3RoZW1pbmcvdGhlbWluZyc7XG5AdXNlICcuLi9jb3JlL3Rva2Vucy9tMi9tZGMvY2hlY2tib3gnIGFzIHRva2Vucy1tZGMtY2hlY2tib3g7XG5AdXNlICcuLi9jb3JlL3Rva2Vucy9tMi9tZGMvcmFkaW8nIGFzIHRva2Vucy1tZGMtcmFkaW87XG5AdXNlICcuLi9jb3JlL3Rva2Vucy9tMi9tZGMvbGlzdCcgYXMgdG9rZW5zLW1kYy1saXN0O1xuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHknO1xuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHktdXRpbHMnO1xuXG5AbWl4aW4gY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiB0aGVtaW5nLmdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRwcmltYXJ5OiBtYXAuZ2V0KCRjb25maWcsIHByaW1hcnkpO1xuICAkYWNjZW50OiBtYXAuZ2V0KCRjb25maWcsIGFjY2VudCk7XG4gICR3YXJuOiBtYXAuZ2V0KCRjb25maWcsIHdhcm4pO1xuICAkbWRjLWxpc3QtY29sb3ItdG9rZW5zOiB0b2tlbnMtbWRjLWxpc3QuZ2V0LWNvbG9yLXRva2VucygkY29uZmlnKTtcbiAgJGlubmVyLWNvbnRyb2wtcHJpbWFyeTogbWFwLm1lcmdlKCRjb25maWcsIChhY2NlbnQ6ICRwcmltYXJ5KSk7XG4gICRpbm5lci1jb250cm9sLWFjY2VudDogbWFwLm1lcmdlKCRjb25maWcsIChhY2NlbnQ6ICRhY2NlbnQpKTtcbiAgJGlubmVyLWNvbnRyb2wtd2FybjogbWFwLm1lcmdlKCRjb25maWcsIChhY2NlbnQ6ICR3YXJuKSk7XG5cblxuICAvLyBBZGQgdmFsdWVzIGZvciBNREMgbGlzdCB0b2tlbnMuXG4gIC5tYXQtbWRjLWxpc3QtYmFzZSB7XG4gICAgQGluY2x1ZGUgbWRjLWxpc3QtdGhlbWUudGhlbWUoJG1kYy1saXN0LWNvbG9yLXRva2Vucyk7XG4gIH1cblxuICAubWRjLWxpc3QtaXRlbV9fc3RhcnQsXG4gIC5tZGMtbGlzdC1pdGVtX19lbmQge1xuICAgIEBpbmNsdWRlIG1kYy1yYWRpby10aGVtZS50aGVtZSh0b2tlbnMtbWRjLXJhZGlvLmdldC1jb2xvci10b2tlbnMoJGlubmVyLWNvbnRyb2wtcHJpbWFyeSkpO1xuICB9XG5cbiAgLm1hdC1hY2NlbnQge1xuICAgIC5tZGMtbGlzdC1pdGVtX19zdGFydCxcbiAgICAubWRjLWxpc3QtaXRlbV9fZW5kIHtcbiAgICAgIEBpbmNsdWRlIG1kYy1yYWRpby10aGVtZS50aGVtZSh0b2tlbnMtbWRjLXJhZGlvLmdldC1jb2xvci10b2tlbnMoJGlubmVyLWNvbnRyb2wtYWNjZW50KSk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC13YXJuIHtcbiAgICAubWRjLWxpc3QtaXRlbV9fc3RhcnQsXG4gICAgLm1kYy1saXN0LWl0ZW1fX2VuZCB7XG4gICAgICBAaW5jbHVkZSBtZGMtcmFkaW8tdGhlbWUudGhlbWUodG9rZW5zLW1kYy1yYWRpby5nZXQtY29sb3ItdG9rZW5zKCRpbm5lci1jb250cm9sLXdhcm4pKTtcbiAgICB9XG4gIH1cblxuICAubWF0LW1kYy1saXN0LW9wdGlvbiB7XG4gICAgQGluY2x1ZGUgbWRjLWNoZWNrYm94LXRoZW1lLnRoZW1lKHRva2Vucy1tZGMtY2hlY2tib3guZ2V0LWNvbG9yLXRva2VucygkaW5uZXItY29udHJvbC1wcmltYXJ5KSk7XG4gIH1cbiAgLm1hdC1tZGMtbGlzdC1vcHRpb24ubWF0LWFjY2VudCB7XG4gICAgQGluY2x1ZGUgbWRjLWNoZWNrYm94LXRoZW1lLnRoZW1lKHRva2Vucy1tZGMtY2hlY2tib3guZ2V0LWNvbG9yLXRva2VucygkaW5uZXItY29udHJvbC1hY2NlbnQpKTtcbiAgfVxuICAubWF0LW1kYy1saXN0LW9wdGlvbi5tYXQtd2FybiB7XG4gICAgQGluY2x1ZGUgbWRjLWNoZWNrYm94LXRoZW1lLnRoZW1lKHRva2Vucy1tZGMtY2hlY2tib3guZ2V0LWNvbG9yLXRva2VucygkaW5uZXItY29udHJvbC13YXJuKSk7XG4gIH1cblxuICAvLyBUaGVyZSBpcyBubyB0b2tlbiBmb3IgYWN0aXZhdGVkIGNvbG9yIG9uIG5hdiBsaXN0LlxuICAvLyBUT0RPKG1tYWxlcmJhKTogQWRkIGEgdG9rZW4gdG8gTURDIG9yIG1ha2UgYSBjdXN0b20gb25lLlxuICAubWF0LW1kYy1saXN0LWJhc2UubWF0LW1kYy1saXN0LWJhc2Uge1xuICAgIEBpbmNsdWRlIGV2b2x1dGlvbi1taXhpbnMubGlzdC1zZWxlY3RlZC1pbmstY29sb3IodGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRwcmltYXJ5KSk7XG4gIH1cblxuICAvLyBUT0RPKG1tYWxlcmJhKTogTGVha2luZyBzdHlsZXMgZnJvbSB0aGUgb2xkIE1EQyBsaXN0IG1peGlucyB1c2VkIGluIG90aGVyIGNvbXBvbmVudHMgY2FuIGNhdXNlXG4gIC8vICBvcGFjaXR5IGlzc3Vlcywgc28gd2UgbmVlZCB0aGlzIG92ZXJyaWRlIGZvciBub3cuIFdlIGNhbiByZW1vdmUgaXQgd2hlbiBhbGwgQW5ndWxhciBNYXRlcmlhbFxuICAvLyAgY29tcG9uZW50cyBzdG9wIHVzaW5nIHRoZSBvbGQgTURDIG1peGlucy5cbiAgLm1hdC1tZGMtbGlzdC1iYXNlIC5tZGMtbGlzdC1pdGVtLS1kaXNhYmxlZCB7XG4gICAgLm1kYy1saXN0LWl0ZW1fX3N0YXJ0LFxuICAgIC5tZGMtbGlzdC1pdGVtX19jb250ZW50LFxuICAgIC5tZGMtbGlzdC1pdGVtX19lbmQge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIGRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogdGhlbWluZy5nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRtZGMtbGlzdC1kZW5zaXR5LXRva2VuczogdG9rZW5zLW1kYy1saXN0LmdldC1kZW5zaXR5LXRva2VucygkZGVuc2l0eS1zY2FsZSk7XG5cbiAgLy8gQWRkIHZhbHVlcyBmb3IgTURDIGxpc3QgdG9rZW5zLlxuICAubWF0LW1kYy1saXN0LWJhc2Uge1xuICAgIEBpbmNsdWRlIG1kYy1saXN0LXRoZW1lLnRoZW1lKCRtZGMtbGlzdC1kZW5zaXR5LXRva2Vucyk7XG4gIH1cblxuICAvLyBUT0RPKG1tYWxlcmJhKTogVGhpcyBpcyBhZGRlZCB0byBtYWludGFpbiB0aGUgc2FtZSBzdHlsZSBNREMgdXNlZCBwcmlvciB0byB0aGUgdG9rZW4tYmFzZWQgQVBJLFxuICAvLyAgdG8gYXZvaWQgc2NyZWVuc2hvdCBkaWZmcy4gV2Ugc2hvdWxkIHJlbW92ZSBpdCBpbiBmYXZvciBvZiBmb2xsb3dpbmcgTURDJ3MgY3VycmVudCBzdHlsZSwgb3JcbiAgLy8gIGFkZCBjdXN0b20gdG9rZW5zIGZvciBpdC5cbiAgJGNsYW1wZWQtZGVuc2l0eS1zY2FsZTogdGhlbWluZy5jbGFtcC1kZW5zaXR5KCRkZW5zaXR5LXNjYWxlLCAtNSk7XG4gIC5tYXQtbWRjLWxpc3QtaXRlbSB7XG4gICAgJi5tZGMtbGlzdC1pdGVtLS13aXRoLWxlYWRpbmctYXZhdGFyLFxuICAgICYubWRjLWxpc3QtaXRlbS0td2l0aC1sZWFkaW5nLWNoZWNrYm94LFxuICAgICYubWRjLWxpc3QtaXRlbS0td2l0aC1sZWFkaW5nLWljb24ge1xuICAgICAgJi5tZGMtbGlzdC1pdGVtLS13aXRoLW9uZS1saW5lIHtcbiAgICAgICAgaGVpZ2h0OiBtYXAuZ2V0KChcbiAgICAgICAgICAgIDA6IDU2cHgsXG4gICAgICAgICAgICAtMTogNTJweCxcbiAgICAgICAgICAgIC0yOiA0OHB4LFxuICAgICAgICAgICAgLTM6IDQ0cHgsXG4gICAgICAgICAgICAtNDogNDBweCxcbiAgICAgICAgICAgIC01OiA0MHB4LFxuICAgICAgICApLCAkY2xhbXBlZC1kZW5zaXR5LXNjYWxlKTtcbiAgICAgIH1cblxuICAgICAgJi5tZGMtbGlzdC1pdGVtLS13aXRoLXR3by1saW5lcyB7XG4gICAgICAgIGhlaWdodDogbWFwLmdldCgoXG4gICAgICAgICAgICAwOiA3MnB4LFxuICAgICAgICAgICAgLTE6IDY4cHgsXG4gICAgICAgICAgICAtMjogNjRweCxcbiAgICAgICAgICAgIC0zOiA2MHB4LFxuICAgICAgICAgICAgLTQ6IDU2cHgsXG4gICAgICAgICAgICAtNTogNTZweCxcbiAgICAgICAgKSwgJGNsYW1wZWQtZGVuc2l0eS1zY2FsZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdHlwb2dyYXBoeS5wcml2YXRlLXR5cG9ncmFwaHktdG8tMjAxOC1jb25maWcoXG4gICAgICB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKSk7XG4gICRtZGMtbGlzdC10eXBvZ3JhcGh5LXRva2VuczogdG9rZW5zLW1kYy1saXN0LmdldC10eXBvZ3JhcGh5LXRva2VucygkY29uZmlnKTtcblxuICAvLyBBZGQgdmFsdWVzIGZvciBNREMgbGlzdCB0b2tlbnMuXG4gIC5tYXQtbWRjLWxpc3QtYmFzZSB7XG4gICAgQGluY2x1ZGUgbWRjLWxpc3QtdGhlbWUudGhlbWUoJG1kYy1saXN0LXR5cG9ncmFwaHktdG9rZW5zKTtcbiAgfVxuXG4gIC8vIE1EQyBkb2VzIG5vdCBoYXZlIHRva2VucyBmb3IgdGhlIHN1YmhlYWRlci5cbiAgLy8gVE9ETyhtbWFsZXJiYSk6IERpc2N1c3Mgd2l0aCBNREMgYWJvdXQgYWRkaW5nIHRoZW0sIG9yIGNyZWF0ZSBjdXN0b20gdG9rZW5zLlxuICAubWRjLWxpc3QtZ3JvdXBfX3N1YmhlYWRlciB7XG4gICAgQGluY2x1ZGUgdHlwb2dyYXBoeS11dGlscy50eXBvZ3JhcGh5LWxldmVsKCRjb25maWcsIHN1YnRpdGxlLTEpO1xuICB9XG59XG5cbkBtaXhpbiB0aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogdGhlbWluZy5wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIHRoZW1pbmcucHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1saXN0Jykge1xuICAgICRjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IHRoZW1pbmcuZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIHR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuIiwiQHVzZSAnc2FzczptYXAnO1xuQHVzZSAnc2FzczptZXRhJztcbkB1c2UgJ0BtYXRlcmlhbC9kZW5zaXR5JyBhcyBtZGMtZGVuc2l0eTtcbkB1c2UgJ0BtYXRlcmlhbC90eXBvZ3JhcGh5JyBhcyBtZGMtdHlwb2dyYXBoeTtcblxuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHknO1xuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHktdXRpbHMnO1xuQHVzZSAnLi4vY29yZS9tZGMtaGVscGVycy9tZGMtaGVscGVycyc7XG5AdXNlICcuLi9jb3JlL3RoZW1pbmcvdGhlbWluZyc7XG5AdXNlICcuLi9mb3JtLWZpZWxkL2Zvcm0tZmllbGQtZGVuc2l0eSc7XG5AdXNlICcuL3BhZ2luYXRvci12YXJpYWJsZXMnO1xuXG5AbWl4aW4gY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiB0aGVtaW5nLmdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRiYWNrZ3JvdW5kOiBtYXAuZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkZm9yZWdyb3VuZDogbWFwLmdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGljb24tY29sb3I6IHJnYmEodGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRmb3JlZ3JvdW5kLCBiYXNlKSwgMC41NCk7XG4gICRkaXNhYmxlZC1jb2xvcjogcmdiYSh0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGZvcmVncm91bmQsIGJhc2UpLCAwLjEyKTtcblxuICAubWF0LW1kYy1wYWdpbmF0b3Ige1xuICAgIGJhY2tncm91bmQ6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkYmFja2dyb3VuZCwgY2FyZCk7XG4gICAgY29sb3I6IHJnYmEodGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRmb3JlZ3JvdW5kLCBiYXNlKSwgMC44Nyk7XG4gIH1cblxuICAubWF0LW1kYy1wYWdpbmF0b3ItaWNvbiB7XG4gICAgZmlsbDogJGljb24tY29sb3I7XG4gIH1cblxuICAubWF0LW1kYy1wYWdpbmF0b3ItZGVjcmVtZW50LFxuICAubWF0LW1kYy1wYWdpbmF0b3ItaW5jcmVtZW50IHtcbiAgICBib3JkZXItdG9wOiAycHggc29saWQgJGljb24tY29sb3I7XG4gICAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgJGljb24tY29sb3I7XG4gIH1cblxuICAubWF0LW1kYy1wYWdpbmF0b3ItZmlyc3QsXG4gIC5tYXQtbWRjLXBhZ2luYXRvci1sYXN0IHtcbiAgICBib3JkZXItdG9wOiAycHggc29saWQgJGljb24tY29sb3I7XG4gIH1cblxuICAubWF0LW1kYy1pY29uLWJ1dHRvbltkaXNhYmxlZF0ge1xuICAgIC5tYXQtbWRjLXBhZ2luYXRvci1kZWNyZW1lbnQsXG4gICAgLm1hdC1tZGMtcGFnaW5hdG9yLWluY3JlbWVudCxcbiAgICAubWF0LW1kYy1wYWdpbmF0b3ItZmlyc3QsXG4gICAgLm1hdC1tZGMtcGFnaW5hdG9yLWxhc3Qge1xuICAgICAgYm9yZGVyLWNvbG9yOiAkZGlzYWJsZWQtY29sb3I7XG4gICAgfVxuXG4gICAgLm1hdC1tZGMtcGFnaW5hdG9yLWljb24ge1xuICAgICAgZmlsbDogJGRpc2FibGVkLWNvbG9yO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHR5cG9ncmFwaHkucHJpdmF0ZS10eXBvZ3JhcGh5LXRvLTIwMTgtY29uZmlnKFxuICAgICAgdGhlbWluZy5nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSkpO1xuXG4gIEBpbmNsdWRlIG1kYy1oZWxwZXJzLnVzaW5nLW1kYy10eXBvZ3JhcGh5KCRjb25maWcpIHtcbiAgICAubWF0LW1kYy1wYWdpbmF0b3Ige1xuICAgICAgQGluY2x1ZGUgbWRjLXR5cG9ncmFwaHkudHlwb2dyYXBoeShjYXB0aW9uLCAkcXVlcnk6IG1kYy1oZWxwZXJzLiRtZGMtdHlwb2dyYXBoeS1zdHlsZXMtcXVlcnkpO1xuICAgIH1cblxuICAgIC5tYXQtbWRjLXBhZ2luYXRvciAubWF0LW1kYy1zZWxlY3QtdmFsdWUge1xuICAgICAgZm9udC1zaXplOiB0eXBvZ3JhcGh5LXV0aWxzLmZvbnQtc2l6ZSgkY29uZmlnLCBjYXB0aW9uKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIGRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogdGhlbWluZy5nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRoZWlnaHQ6IG1kYy1kZW5zaXR5LnByb3AtdmFsdWUoXG4gICAgICBwYWdpbmF0b3ItdmFyaWFibGVzLiRkZW5zaXR5LWNvbmZpZywgJGRlbnNpdHktc2NhbGUsIGhlaWdodCk7XG5cbiAgLm1hdC1tZGMtcGFnaW5hdG9yIHtcbiAgICAvLyBXZSBuZWVkIHRoZSBmb3JtIGZpZWxkIHRvIGJlIG5hcnJvd2VyIGluIG9yZGVyIHRvIGZpdCBpbnRvIHRoZSBwYWdpbmF0b3IsXG4gICAgLy8gc28gd2Ugc2V0IGl0cyBkZW5zaXR5IHRvIGJlIC00IG9yIGRlbnNlci5cbiAgICBAaWYgKChtZXRhLnR5cGUtb2YoJGRlbnNpdHktc2NhbGUpID09ICdudW1iZXInIGFuZCAkZGVuc2l0eS1zY2FsZSA+PSAtNCkgb3JcbiAgICAgICAgICRkZW5zaXR5LXNjYWxlID09IG1heGltdW0pIHtcbiAgICAgIEBpbmNsdWRlIGZvcm0tZmllbGQtZGVuc2l0eS5wcml2YXRlLWZvcm0tZmllbGQtZGVuc2l0eSgtNCk7XG4gICAgfVxuICAgIEBlbHNlIHtcbiAgICAgIEBpbmNsdWRlIGZvcm0tZmllbGQtZGVuc2l0eS5wcml2YXRlLWZvcm0tZmllbGQtZGVuc2l0eSgkZGVuc2l0eS1zY2FsZSk7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1tZGMtcGFnaW5hdG9yLWNvbnRhaW5lciB7XG4gICAgbWluLWhlaWdodDogJGhlaWdodDtcbiAgfVxufVxuXG5AbWl4aW4gdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IHRoZW1pbmcucHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSB0aGVtaW5nLnByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtcGFnaW5hdG9yJykge1xuICAgICRjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IHRoZW1pbmcuZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIHR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuIiwiQHVzZSAnc2FzczptYXAnO1xuQHVzZSAnQG1hdGVyaWFsL3RhYi1pbmRpY2F0b3IvdGFiLWluZGljYXRvci10aGVtZScgYXMgbWRjLXRhYi1pbmRpY2F0b3ItdGhlbWU7XG5AdXNlICdAbWF0ZXJpYWwvdGFiJyBhcyBtZGMtdGFiO1xuQHVzZSAnQG1hdGVyaWFsL3RhYi90YWItdGhlbWUnIGFzIG1kYy10YWItdGhlbWU7XG5AdXNlICcuLi9jb3JlL3Rva2Vucy9tMi9tZGMvdGFiJyBhcyB0b2tlbnMtbWRjLXRhYjtcbkB1c2UgJy4uL2NvcmUvdG9rZW5zL20yL21kYy90YWItaW5kaWNhdG9yJyBhcyB0b2tlbnMtbWRjLXRhYi1pbmRpY2F0b3I7XG5AdXNlICcuLi9jb3JlL3Rva2Vucy9tMi9tYXQvdGFiLWhlYWRlcicgYXMgdG9rZW5zLW1hdC10YWItaGVhZGVyO1xuQHVzZSAnLi4vY29yZS90b2tlbnMvbTIvbWF0L3RhYi1oZWFkZXItd2l0aC1iYWNrZ3JvdW5kJyBhcyB0b2tlbnMtbWF0LXRhYi1oZWFkZXItd2l0aC1iYWNrZ3JvdW5kO1xuQHVzZSAnLi4vY29yZS90aGVtaW5nL3RoZW1pbmcnO1xuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHknO1xuQHVzZSAnLi4vY29yZS90b2tlbnMvdG9rZW4tdXRpbHMnO1xuXG5cbkBtaXhpbiBjb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcblxuICAubWF0LW1kYy10YWItZ3JvdXAsIC5tYXQtbWRjLXRhYi1uYXYtYmFyIHtcbiAgICBAaW5jbHVkZSBfcGFsZXR0ZS1zdHlsZXMoJGNvbmZpZywgcHJpbWFyeSk7XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgQGluY2x1ZGUgX3BhbGV0dGUtc3R5bGVzKCRjb25maWcsIGFjY2VudCk7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiB7XG4gICAgICBAaW5jbHVkZSBfcGFsZXR0ZS1zdHlsZXMoJGNvbmZpZywgd2Fybik7XG4gICAgfVxuXG4gICAgJi5tYXQtYmFja2dyb3VuZC1wcmltYXJ5IHtcbiAgICAgIEBpbmNsdWRlIF9iYWNrZ3JvdW5kLXN0eWxlcygkY29uZmlnLCBwcmltYXJ5KTtcbiAgICB9XG5cbiAgICAmLm1hdC1iYWNrZ3JvdW5kLWFjY2VudCB7XG4gICAgICBAaW5jbHVkZSBfYmFja2dyb3VuZC1zdHlsZXMoJGNvbmZpZywgYWNjZW50KTtcbiAgICB9XG5cbiAgICAmLm1hdC1iYWNrZ3JvdW5kLXdhcm4ge1xuICAgICAgQGluY2x1ZGUgX2JhY2tncm91bmQtc3R5bGVzKCRjb25maWcsIHdhcm4pO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gX2JhY2tncm91bmQtc3R5bGVzKCRpbml0aWFsLWNvbmZpZywgJHBhbGV0dGUpIHtcbiAgJGNvbmZpZzogbWFwLm1lcmdlKCRpbml0aWFsLWNvbmZpZywgKHByaW1hcnk6IG1hcC5nZXQoJGluaXRpYWwtY29uZmlnLCAkcGFsZXR0ZSkpKTtcbiAgQGluY2x1ZGUgdG9rZW4tdXRpbHMuY3JlYXRlLXRva2VuLXZhbHVlcyh0b2tlbnMtbWF0LXRhYi1oZWFkZXItd2l0aC1iYWNrZ3JvdW5kLiRwcmVmaXgsXG4gICAgdG9rZW5zLW1hdC10YWItaGVhZGVyLXdpdGgtYmFja2dyb3VuZC5nZXQtY29sb3ItdG9rZW5zKCRjb25maWcpKTtcbn1cblxuQG1peGluIF9wYWxldHRlLXN0eWxlcygkaW5pdGlhbC1jb25maWcsICRwYWxldHRlKSB7XG4gICRjb25maWc6IG1hcC5tZXJnZSgkaW5pdGlhbC1jb25maWcsIChwcmltYXJ5OiBtYXAuZ2V0KCRpbml0aWFsLWNvbmZpZywgJHBhbGV0dGUpKSk7XG4gIEBpbmNsdWRlIG1kYy10YWItdGhlbWUuc2Vjb25kYXJ5LW5hdmlnYXRpb24tdGFiLXRoZW1lKFxuICAgIHRva2Vucy1tZGMtdGFiLmdldC1jb2xvci10b2tlbnMoJGNvbmZpZykpO1xuICBAaW5jbHVkZSBtZGMtdGFiLWluZGljYXRvci10aGVtZS50aGVtZShcbiAgICB0b2tlbnMtbWRjLXRhYi1pbmRpY2F0b3IuZ2V0LWNvbG9yLXRva2VucygkY29uZmlnKSk7XG4gIEBpbmNsdWRlIHRva2VuLXV0aWxzLmNyZWF0ZS10b2tlbi12YWx1ZXModG9rZW5zLW1hdC10YWItaGVhZGVyLiRwcmVmaXgsXG4gICB0b2tlbnMtbWF0LXRhYi1oZWFkZXIuZ2V0LWNvbG9yLXRva2VucygkY29uZmlnKSk7XG59XG5cbkBtaXhpbiB0eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdHlwb2dyYXBoeS5wcml2YXRlLXR5cG9ncmFwaHktdG8tMjAxOC1jb25maWcoXG4gICAgICB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKSk7XG5cbiAgLm1hdC1tZGMtdGFiLWhlYWRlciB7XG4gICAgQGluY2x1ZGUgbWRjLXRhYi10aGVtZS5zZWNvbmRhcnktbmF2aWdhdGlvbi10YWItdGhlbWUoXG4gICAgICB0b2tlbnMtbWRjLXRhYi5nZXQtdHlwb2dyYXBoeS10b2tlbnMoJGNvbmZpZykpO1xuICAgIEBpbmNsdWRlIG1kYy10YWItaW5kaWNhdG9yLXRoZW1lLnRoZW1lKFxuICAgICAgdG9rZW5zLW1kYy10YWItaW5kaWNhdG9yLmdldC10eXBvZ3JhcGh5LXRva2VucygkY29uZmlnKSk7XG4gICAgQGluY2x1ZGUgdG9rZW4tdXRpbHMuY3JlYXRlLXRva2VuLXZhbHVlcyh0b2tlbnMtbWF0LXRhYi1oZWFkZXIuJHByZWZpeCxcbiAgICAgIHRva2Vucy1tYXQtdGFiLWhlYWRlci5nZXQtdHlwb2dyYXBoeS10b2tlbnMoJGNvbmZpZykpO1xuICAgIEBpbmNsdWRlIHRva2VuLXV0aWxzLmNyZWF0ZS10b2tlbi12YWx1ZXModG9rZW5zLW1hdC10YWItaGVhZGVyLXdpdGgtYmFja2dyb3VuZC4kcHJlZml4LFxuICAgICAgdG9rZW5zLW1hdC10YWItaGVhZGVyLXdpdGgtYmFja2dyb3VuZC5nZXQtdHlwb2dyYXBoeS10b2tlbnMoJGNvbmZpZykpO1xuICB9XG59XG5cbkBtaXhpbiBkZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LW1kYy10YWItaGVhZGVyIHtcbiAgICBAaW5jbHVkZSBtZGMtdGFiLXRoZW1lLnNlY29uZGFyeS1uYXZpZ2F0aW9uLXRhYi10aGVtZShcbiAgICAgIHRva2Vucy1tZGMtdGFiLmdldC1kZW5zaXR5LXRva2VucygkZGVuc2l0eS1zY2FsZSkpO1xuICAgIEBpbmNsdWRlIG1kYy10YWItaW5kaWNhdG9yLXRoZW1lLnRoZW1lKFxuICAgICAgdG9rZW5zLW1kYy10YWItaW5kaWNhdG9yLmdldC1kZW5zaXR5LXRva2VucygkZGVuc2l0eS1zY2FsZSkpO1xuICAgIEBpbmNsdWRlIHRva2VuLXV0aWxzLmNyZWF0ZS10b2tlbi12YWx1ZXModG9rZW5zLW1hdC10YWItaGVhZGVyLiRwcmVmaXgsXG4gICAgICB0b2tlbnMtbWF0LXRhYi1oZWFkZXIuZ2V0LWRlbnNpdHktdG9rZW5zKCRkZW5zaXR5LXNjYWxlKSk7XG4gICAgQGluY2x1ZGUgdG9rZW4tdXRpbHMuY3JlYXRlLXRva2VuLXZhbHVlcyh0b2tlbnMtbWF0LXRhYi1oZWFkZXItd2l0aC1iYWNrZ3JvdW5kLiRwcmVmaXgsXG4gICAgICB0b2tlbnMtbWF0LXRhYi1oZWFkZXItd2l0aC1iYWNrZ3JvdW5kLmdldC1kZW5zaXR5LXRva2VucygkZGVuc2l0eS1zY2FsZSkpO1xuICB9XG59XG5cbkBtaXhpbiB0aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogdGhlbWluZy5wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIHRoZW1pbmcucHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC10YWJzJykge1xuICAgICRjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IHRoZW1pbmcuZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIHR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG4iLCJAdXNlICdzYXNzOm1hcCc7XG5AdXNlICdAbWF0ZXJpYWwvYnV0dG9uL2J1dHRvbicgYXMgbWRjLWJ1dHRvbjtcbkB1c2UgJ0BtYXRlcmlhbC9idXR0b24vYnV0dG9uLXRoZW1lJyBhcyBtZGMtYnV0dG9uLXRoZW1lO1xuQHVzZSAnQG1hdGVyaWFsL2J1dHRvbi9idXR0b24tdGV4dC10aGVtZScgYXMgbWRjLWJ1dHRvbi10ZXh0LXRoZW1lO1xuQHVzZSAnQG1hdGVyaWFsL2J1dHRvbi9idXR0b24tZmlsbGVkLXRoZW1lJyBhcyBtZGMtYnV0dG9uLWZpbGxlZC10aGVtZTtcbkB1c2UgJ0BtYXRlcmlhbC9idXR0b24vYnV0dG9uLXByb3RlY3RlZC10aGVtZScgYXMgbWRjLWJ1dHRvbi1wcm90ZWN0ZWQtdGhlbWU7XG5AdXNlICdAbWF0ZXJpYWwvYnV0dG9uL2J1dHRvbi1vdXRsaW5lZC10aGVtZScgYXMgbWRjLWJ1dHRvbi1vdXRsaW5lZC10aGVtZTtcbkB1c2UgJ0BtYXRlcmlhbC90aGVtZS90aGVtZS1jb2xvcicgYXMgbWRjLXRoZW1lLWNvbG9yO1xuXG5AdXNlICcuL2J1dHRvbi10aGVtZS1wcml2YXRlJztcbkB1c2UgJy4uL2NvcmUvbWRjLWhlbHBlcnMvbWRjLWhlbHBlcnMnO1xuQHVzZSAnLi4vY29yZS90aGVtaW5nL3RoZW1pbmcnO1xuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHknO1xuXG5AbWl4aW4gX2J1dHRvbi12YXJpYW50KCRjb2xvcikge1xuICBAaW5jbHVkZSBtZGMtYnV0dG9uLXRleHQtdGhlbWUudGhlbWUoKFxuICAgIGxhYmVsLXRleHQtY29sb3I6ICRjb2xvcixcbiAgKSk7XG59XG5cbkBtaXhpbiBfdW5lbGV2YXRlZC1idXR0b24tdmFyaWFudCgkZm9yZWdyb3VuZCwgJGJhY2tncm91bmQpIHtcbiAgQGluY2x1ZGUgbWRjLWJ1dHRvbi1maWxsZWQtdGhlbWUudGhlbWUoKFxuICAgIGNvbnRhaW5lci1jb2xvcjogJGJhY2tncm91bmQsXG4gICAgbGFiZWwtdGV4dC1jb2xvcjogJGZvcmVncm91bmQsXG4gICkpO1xufVxuXG5AbWl4aW4gX3JhaXNlZC1idXR0b24tdmFyaWFudCgkZm9yZWdyb3VuZCwgJGJhY2tncm91bmQpIHtcbiAgQGluY2x1ZGUgbWRjLWJ1dHRvbi1wcm90ZWN0ZWQtdGhlbWUudGhlbWUoKFxuICAgIGNvbnRhaW5lci1jb2xvcjogJGJhY2tncm91bmQsXG4gICAgbGFiZWwtdGV4dC1jb2xvcjogJGZvcmVncm91bmQsXG4gICkpO1xufVxuXG5AbWl4aW4gX291dGxpbmVkLWJ1dHRvbi12YXJpYW50KCRjb2xvcikge1xuICBAaW5jbHVkZSBtZGMtYnV0dG9uLW91dGxpbmVkLXRoZW1lLnRoZW1lKChcbiAgICBsYWJlbC10ZXh0LWNvbG9yOiAkY29sb3IsXG4gICkpO1xufVxuXG5AbWl4aW4gY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiB0aGVtaW5nLmdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIEBpbmNsdWRlIG1kYy1oZWxwZXJzLnVzaW5nLW1kYy10aGVtZSgkY29uZmlnKSB7XG4gICAgJGlzLWRhcms6IG1hcC5nZXQoJGNvbmZpZywgaXMtZGFyayk7XG4gICAgJG9uLXN1cmZhY2U6IG1kYy10aGVtZS1jb2xvci5wcm9wLXZhbHVlKG9uLXN1cmZhY2UpO1xuICAgICRzdXJmYWNlOiBtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShzdXJmYWNlKTtcbiAgICAkZGlzYWJsZWQtaW5rLWNvbG9yOiByZ2JhKCRvbi1zdXJmYWNlLCBpZigkaXMtZGFyaywgMC41LCAwLjM4KSk7XG4gICAgJGRpc2FibGVkLWNvbnRhaW5lci1jb2xvcjogcmdiYSgkb24tc3VyZmFjZSwgMC4xMik7XG4gICAgJHByaW1hcnk6IG1kYy10aGVtZS1jb2xvci5wcm9wLXZhbHVlKHByaW1hcnkpO1xuICAgICRvbi1wcmltYXJ5OiBtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1wcmltYXJ5KTtcbiAgICAkc2Vjb25kYXJ5OiBtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShzZWNvbmRhcnkpO1xuICAgICRvbi1zZWNvbmRhcnk6IG1kYy10aGVtZS1jb2xvci5wcm9wLXZhbHVlKG9uLXNlY29uZGFyeSk7XG4gICAgJGVycm9yOiBtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShlcnJvcik7XG4gICAgJG9uLWVycm9yOiBtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1lcnJvcik7XG5cbiAgICAubWF0LW1kYy1idXR0b24ge1xuICAgICAgJi5tYXQtdW50aGVtZWQge1xuICAgICAgICBAaW5jbHVkZSBfYnV0dG9uLXZhcmlhbnQoJG9uLXN1cmZhY2UpO1xuICAgICAgfVxuXG4gICAgICAmLm1hdC1wcmltYXJ5IHtcbiAgICAgICAgQGluY2x1ZGUgX2J1dHRvbi12YXJpYW50KCRwcmltYXJ5KTtcbiAgICAgIH1cblxuICAgICAgJi5tYXQtYWNjZW50IHtcbiAgICAgICAgQGluY2x1ZGUgX2J1dHRvbi12YXJpYW50KCRzZWNvbmRhcnkpO1xuICAgICAgfVxuXG4gICAgICAmLm1hdC13YXJuIHtcbiAgICAgICAgQGluY2x1ZGUgX2J1dHRvbi12YXJpYW50KCRlcnJvcik7XG4gICAgICB9XG5cbiAgICAgIEBpbmNsdWRlIGJ1dHRvbi10aGVtZS1wcml2YXRlLmFwcGx5LWRpc2FibGVkLXN0eWxlKCkge1xuICAgICAgICBAaW5jbHVkZSBtZGMtYnV0dG9uLXRleHQtdGhlbWUudGhlbWUoKFxuICAgICAgICAgIC8vIFdlIG5lZWQgdG8gcGFzcyBib3RoIHRoZSBkaXNhYmxlZCBhbmQgZW5hYmxlZCB2YWx1ZXMsIGJlY2F1c2UgdGhlIGVuYWJsZWRcbiAgICAgICAgICAvLyBvbmVzIGFwcGx5IHRvIGFuY2hvcnMgd2hpbGUgdGhlIGRpc2FibGVkIG9uZXMgYXJlIGZvciBidXR0b25zLlxuICAgICAgICAgIGRpc2FibGVkLWxhYmVsLXRleHQtY29sb3I6ICRkaXNhYmxlZC1pbmstY29sb3IsXG4gICAgICAgICAgbGFiZWwtdGV4dC1jb2xvcjogJGRpc2FibGVkLWluay1jb2xvclxuICAgICAgICApKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAubWF0LW1kYy11bmVsZXZhdGVkLWJ1dHRvbiB7XG4gICAgICAmLm1hdC11bnRoZW1lZCB7XG4gICAgICAgIEBpbmNsdWRlIF91bmVsZXZhdGVkLWJ1dHRvbi12YXJpYW50KCRvbi1zdXJmYWNlLCAkc3VyZmFjZSk7XG4gICAgICB9XG5cbiAgICAgICYubWF0LXByaW1hcnkge1xuICAgICAgICBAaW5jbHVkZSBfdW5lbGV2YXRlZC1idXR0b24tdmFyaWFudCgkb24tcHJpbWFyeSwgJHByaW1hcnkpO1xuICAgICAgfVxuXG4gICAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgICBAaW5jbHVkZSBfdW5lbGV2YXRlZC1idXR0b24tdmFyaWFudCgkb24tc2Vjb25kYXJ5LCAkc2Vjb25kYXJ5KTtcbiAgICAgIH1cblxuICAgICAgJi5tYXQtd2FybiB7XG4gICAgICAgIEBpbmNsdWRlIF91bmVsZXZhdGVkLWJ1dHRvbi12YXJpYW50KCRvbi1lcnJvciwgJGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgQGluY2x1ZGUgYnV0dG9uLXRoZW1lLXByaXZhdGUuYXBwbHktZGlzYWJsZWQtc3R5bGUoKSB7XG4gICAgICAgIEBpbmNsdWRlIG1kYy1idXR0b24tZmlsbGVkLXRoZW1lLnRoZW1lKChcbiAgICAgICAgICAvLyBXZSBuZWVkIHRvIHBhc3MgYm90aCB0aGUgZGlzYWJsZWQgYW5kIGVuYWJsZWQgdmFsdWVzLCBiZWNhdXNlIHRoZSBlbmFibGVkXG4gICAgICAgICAgLy8gb25lcyBhcHBseSB0byBhbmNob3JzIHdoaWxlIHRoZSBkaXNhYmxlZCBvbmVzIGFyZSBmb3IgYnV0dG9ucy5cbiAgICAgICAgICBkaXNhYmxlZC1jb250YWluZXItY29sb3I6ICRkaXNhYmxlZC1jb250YWluZXItY29sb3IsXG4gICAgICAgICAgZGlzYWJsZWQtbGFiZWwtdGV4dC1jb2xvcjogJGRpc2FibGVkLWluay1jb2xvcixcbiAgICAgICAgICBjb250YWluZXItY29sb3I6ICRkaXNhYmxlZC1jb250YWluZXItY29sb3IsXG4gICAgICAgICAgbGFiZWwtdGV4dC1jb2xvcjogJGRpc2FibGVkLWluay1jb2xvcixcbiAgICAgICAgKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLm1hdC1tZGMtcmFpc2VkLWJ1dHRvbiB7XG4gICAgICAmLm1hdC11bnRoZW1lZCB7XG4gICAgICAgIEBpbmNsdWRlIF9yYWlzZWQtYnV0dG9uLXZhcmlhbnQoJG9uLXN1cmZhY2UsICRzdXJmYWNlKTtcbiAgICAgIH1cblxuICAgICAgJi5tYXQtcHJpbWFyeSB7XG4gICAgICAgIEBpbmNsdWRlIF9yYWlzZWQtYnV0dG9uLXZhcmlhbnQoJG9uLXByaW1hcnksICRwcmltYXJ5KTtcbiAgICAgIH1cblxuICAgICAgJi5tYXQtYWNjZW50IHtcbiAgICAgICAgQGluY2x1ZGUgX3JhaXNlZC1idXR0b24tdmFyaWFudCgkb24tc2Vjb25kYXJ5LCAkc2Vjb25kYXJ5KTtcbiAgICAgIH1cblxuICAgICAgJi5tYXQtd2FybiB7XG4gICAgICAgIEBpbmNsdWRlIF9yYWlzZWQtYnV0dG9uLXZhcmlhbnQoJG9uLWVycm9yLCAkZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICBAaW5jbHVkZSBidXR0b24tdGhlbWUtcHJpdmF0ZS5hcHBseS1kaXNhYmxlZC1zdHlsZSgpIHtcbiAgICAgICAgQGluY2x1ZGUgbWRjLWJ1dHRvbi1wcm90ZWN0ZWQtdGhlbWUudGhlbWUoKFxuICAgICAgICAgIC8vIFdlIG5lZWQgdG8gcGFzcyBib3RoIHRoZSBkaXNhYmxlZCBhbmQgZW5hYmxlZCB2YWx1ZXMsIGJlY2F1c2UgdGhlIGVuYWJsZWRcbiAgICAgICAgICAvLyBvbmVzIGFwcGx5IHRvIGFuY2hvcnMgd2hpbGUgdGhlIGRpc2FibGVkIG9uZXMgYXJlIGZvciBidXR0b25zLlxuICAgICAgICAgIGRpc2FibGVkLWNvbnRhaW5lci1jb2xvcjogJGRpc2FibGVkLWNvbnRhaW5lci1jb2xvcixcbiAgICAgICAgICBkaXNhYmxlZC1sYWJlbC10ZXh0LWNvbG9yOiAkZGlzYWJsZWQtaW5rLWNvbG9yLFxuICAgICAgICAgIGNvbnRhaW5lci1jb2xvcjogJGRpc2FibGVkLWNvbnRhaW5lci1jb2xvcixcbiAgICAgICAgICBsYWJlbC10ZXh0LWNvbG9yOiAkZGlzYWJsZWQtaW5rLWNvbG9yLFxuICAgICAgICAgIGNvbnRhaW5lci1lbGV2YXRpb246IDAsXG4gICAgICAgICkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5tYXQtbWRjLW91dGxpbmVkLWJ1dHRvbiB7XG4gICAgICBAaW5jbHVkZSBtZGMtYnV0dG9uLW91dGxpbmVkLXRoZW1lLnRoZW1lKChcbiAgICAgICAgb3V0bGluZS1jb2xvcjogcmdiYShtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1zdXJmYWNlKSwgMC4xMilcbiAgICAgICkpO1xuXG4gICAgICAmLm1hdC11bnRoZW1lZCB7XG4gICAgICAgIEBpbmNsdWRlIF9vdXRsaW5lZC1idXR0b24tdmFyaWFudCgkb24tc3VyZmFjZSk7XG4gICAgICB9XG5cbiAgICAgICYubWF0LXByaW1hcnkge1xuICAgICAgICBAaW5jbHVkZSBfb3V0bGluZWQtYnV0dG9uLXZhcmlhbnQoJHByaW1hcnkpO1xuICAgICAgfVxuXG4gICAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgICBAaW5jbHVkZSBfb3V0bGluZWQtYnV0dG9uLXZhcmlhbnQoJHNlY29uZGFyeSk7XG4gICAgICB9XG5cbiAgICAgICYubWF0LXdhcm4ge1xuICAgICAgICBAaW5jbHVkZSBfb3V0bGluZWQtYnV0dG9uLXZhcmlhbnQoJGVycm9yKTtcbiAgICAgIH1cblxuICAgICAgQGluY2x1ZGUgYnV0dG9uLXRoZW1lLXByaXZhdGUuYXBwbHktZGlzYWJsZWQtc3R5bGUoKSB7XG4gICAgICAgIEBpbmNsdWRlIG1kYy1idXR0b24tb3V0bGluZWQtdGhlbWUudGhlbWUoKFxuICAgICAgICAgIC8vIFdlIG5lZWQgdG8gcGFzcyBib3RoIHRoZSBkaXNhYmxlZCBhbmQgZW5hYmxlZCB2YWx1ZXMsIGJlY2F1c2UgdGhlIGVuYWJsZWRcbiAgICAgICAgICAvLyBvbmVzIGFwcGx5IHRvIGFuY2hvcnMgd2hpbGUgdGhlIGRpc2FibGVkIG9uZXMgYXJlIGZvciBidXR0b25zLlxuICAgICAgICAgIGxhYmVsLXRleHQtY29sb3I6ICRkaXNhYmxlZC1pbmstY29sb3IsXG4gICAgICAgICAgZGlzYWJsZWQtbGFiZWwtdGV4dC1jb2xvcjogJGRpc2FibGVkLWluay1jb2xvcixcbiAgICAgICAgICBvdXRsaW5lLWNvbG9yOiByZ2JhKCRvbi1zdXJmYWNlLCAwLjEyKSxcbiAgICAgICAgICBkaXNhYmxlZC1vdXRsaW5lLWNvbG9yOiByZ2JhKCRvbi1zdXJmYWNlLCAwLjEyKSxcbiAgICAgICAgKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmlwcGxlIGNvbG9yc1xuICAgIC5tYXQtbWRjLWJ1dHRvbiwgLm1hdC1tZGMtb3V0bGluZWQtYnV0dG9uIHtcbiAgICAgIEBpbmNsdWRlIGJ1dHRvbi10aGVtZS1wcml2YXRlLnJpcHBsZS10aGVtZS1zdHlsZXMoJGNvbmZpZywgZmFsc2UpO1xuICAgIH1cblxuICAgIC5tYXQtbWRjLXJhaXNlZC1idXR0b24sIC5tYXQtbWRjLXVuZWxldmF0ZWQtYnV0dG9uIHtcbiAgICAgIEBpbmNsdWRlIGJ1dHRvbi10aGVtZS1wcml2YXRlLnJpcHBsZS10aGVtZS1zdHlsZXMoJGNvbmZpZywgdHJ1ZSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdHlwb2dyYXBoeS5wcml2YXRlLXR5cG9ncmFwaHktdG8tMjAxOC1jb25maWcoXG4gICAgdGhlbWluZy5nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSkpO1xuICBAaW5jbHVkZSBtZGMtaGVscGVycy51c2luZy1tZGMtdHlwb2dyYXBoeSgkY29uZmlnKSB7XG4gICAgQGluY2x1ZGUgbWRjLWJ1dHRvbi53aXRob3V0LXJpcHBsZSgkcXVlcnk6IG1kYy1oZWxwZXJzLiRtZGMtdHlwb2dyYXBoeS1zdHlsZXMtcXVlcnkpO1xuICB9XG59XG5cbkBtaXhpbiBkZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAubWF0LW1kYy1idXR0b24sXG4gIC5tYXQtbWRjLXJhaXNlZC1idXR0b24sXG4gIC5tYXQtbWRjLXVuZWxldmF0ZWQtYnV0dG9uLFxuICAubWF0LW1kYy1vdXRsaW5lZC1idXR0b24ge1xuICAgIC8vIFVzZSBgbWF0LW1kYy1idXR0b24tYmFzZWAgdG8gaW5jcmVhc2UgdGhlIHNwZWNpZmljaXR5IG92ZXIgdGhlIGJ1dHRvbidzIHN0cnVjdHVyYWwgc3R5bGVzLlxuICAgICYubWF0LW1kYy1idXR0b24tYmFzZSB7XG4gICAgICBAaW5jbHVkZSBtZGMtYnV0dG9uLXRoZW1lLmRlbnNpdHkoJGRlbnNpdHktc2NhbGUsICRxdWVyeTogbWRjLWhlbHBlcnMuJG1kYy1iYXNlLXN0eWxlcy1xdWVyeSk7XG4gICAgICBAaW5jbHVkZSBidXR0b24tdGhlbWUtcHJpdmF0ZS50b3VjaC10YXJnZXQtZGVuc2l0eSgkZGVuc2l0eS1zY2FsZSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogdGhlbWluZy5wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIHRoZW1pbmcucHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1idXR0b24nKSB7XG4gICAgJGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1jb25maWcoJHRoZW1lKTtcbiAgICAkZGVuc2l0eTogdGhlbWluZy5nZXQtZGVuc2l0eS1jb25maWcoJHRoZW1lKTtcbiAgICAkdHlwb2dyYXBoeTogdGhlbWluZy5nZXQtdHlwb2dyYXBoeS1jb25maWcoJHRoZW1lKTtcblxuICAgIEBpZiAkY29sb3IgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBjb2xvcigkY29sb3IpO1xuICAgIH1cbiAgICBAaWYgJGRlbnNpdHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSBkZW5zaXR5KCRkZW5zaXR5KTtcbiAgICB9XG4gICAgQGlmICR0eXBvZ3JhcGh5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgdHlwb2dyYXBoeSgkdHlwb2dyYXBoeSk7XG4gICAgfVxuICB9XG59XG4iLCIvL1xuLy8gQ29weXJpZ2h0IDIwMjEgR29vZ2xlIEluYy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuLy9cblxuLy8gc3R5bGVsaW50LWRpc2FibGUgc2VsZWN0b3ItY2xhc3MtcGF0dGVybiAtLVxuLy8gU2VsZWN0b3IgJy5tZGMtKicgc2hvdWxkIG9ubHkgYmUgdXNlZCBpbiB0aGlzIHByb2plY3QuXG5cbkB1c2UgJ3Nhc3M6bWFwJztcbkB1c2UgJ3Nhc3M6bWF0aCc7XG5AdXNlICdzYXNzOm1ldGEnO1xuQHVzZSAnQG1hdGVyaWFsL2RlbnNpdHkvZnVuY3Rpb25zJyBhcyBkZW5zaXR5LWZ1bmN0aW9ucztcbkB1c2UgJ0BtYXRlcmlhbC9kZW5zaXR5L3ZhcmlhYmxlcycgYXMgZGVuc2l0eS12YXJpYWJsZXM7XG5AdXNlICdAbWF0ZXJpYWwvZG9tL21peGlucycgYXMgZG9tLW1peGlucztcbkB1c2UgJ0BtYXRlcmlhbC9lbGV2YXRpb24vZWxldmF0aW9uLXRoZW1lJztcbkB1c2UgJ0BtYXRlcmlhbC9mZWF0dXJlLXRhcmdldGluZy9mZWF0dXJlLXRhcmdldGluZyc7XG5AdXNlICdAbWF0ZXJpYWwvZm9jdXMtcmluZy9mb2N1cy1yaW5nJztcbkB1c2UgJ0BtYXRlcmlhbC9yaXBwbGUvcmlwcGxlLXRoZW1lJztcbkB1c2UgJ0BtYXRlcmlhbC9zaGFwZS9taXhpbnMnIGFzIHNoYXBlLW1peGlucztcbkB1c2UgJ0BtYXRlcmlhbC90aGVtZS9jdXN0b20tcHJvcGVydGllcyc7XG5AdXNlICdAbWF0ZXJpYWwvdGhlbWUvc3RhdGUnO1xuQHVzZSAnQG1hdGVyaWFsL3RoZW1lL3RoZW1lJztcbkB1c2UgJ0BtYXRlcmlhbC90aGVtZS90aGVtZS1jb2xvcic7XG5AdXNlICdAbWF0ZXJpYWwvdHlwb2dyYXBoeS90eXBvZ3JhcGh5JztcbkB1c2UgJy4vYnV0dG9uLXJpcHBsZSc7XG5cbiRoZWlnaHQ6IDM2cHggIWRlZmF1bHQ7XG4kaG9yaXpvbnRhbC1wYWRkaW5nOiA4cHggIWRlZmF1bHQ7XG4kY29udGFpbmVkLWhvcml6b250YWwtcGFkZGluZzogMTZweCAhZGVmYXVsdDtcbi8vIEZvciBhIGNvbnRhaW5lZCBidXR0b24gd2l0aCBhbiBpY29uLCB0aGUgcGFkZGluZyBvbiB0aGUgc2lkZSBvZiB0aGVcbi8vIGJ1dHRvbiB3aXRoIHRoZSBpY29uLlxuJGNvbnRhaW5lZC1ob3Jpem9udGFsLXBhZGRpbmctaWNvbjogMTJweCAhZGVmYXVsdDtcblxuJG1pbmltdW0taGVpZ2h0OiAyNHB4ICFkZWZhdWx0O1xuJG1heGltdW0taGVpZ2h0OiAkaGVpZ2h0ICFkZWZhdWx0O1xuJGRlbnNpdHktc2NhbGU6IGRlbnNpdHktdmFyaWFibGVzLiRkZWZhdWx0LXNjYWxlICFkZWZhdWx0O1xuJGRlbnNpdHktY29uZmlnOiAoXG4gIGhlaWdodDogKFxuICAgIGRlZmF1bHQ6ICRoZWlnaHQsXG4gICAgbWF4aW11bTogJG1heGltdW0taGVpZ2h0LFxuICAgIG1pbmltdW06ICRtaW5pbXVtLWhlaWdodCxcbiAgKSxcbikgIWRlZmF1bHQ7XG5cbiRzaGFwZS1yYWRpdXM6IHNtYWxsICFkZWZhdWx0O1xuXG4kZGlzYWJsZWQtaW5rLWNvbG9yOiByZ2JhKHRoZW1lLWNvbG9yLnByb3AtdmFsdWUob24tc3VyZmFjZSksIDAuMzgpICFkZWZhdWx0O1xuJGRpc2FibGVkLWNvbnRhaW5lci1jb2xvcjogcmdiYShcbiAgdGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1zdXJmYWNlKSxcbiAgMC4xMlxuKSAhZGVmYXVsdDtcblxuQG1peGluIHRoZW1lLXN0eWxlcygkdGhlbWUsICRyZXNvbHZlciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICBAaW5jbHVkZSBfbGFiZWwtdGV4dC10eXBvZ3JhcGh5KFxuICAgIChcbiAgICAgIGZhbWlseTogbWFwLmdldCgkdGhlbWUsIGxhYmVsLXRleHQtZm9udCksXG4gICAgICBzaXplOiBtYXAuZ2V0KCR0aGVtZSwgbGFiZWwtdGV4dC1zaXplKSxcbiAgICAgIHRyYWNraW5nOiBtYXAuZ2V0KCR0aGVtZSwgbGFiZWwtdGV4dC10cmFja2luZyksXG4gICAgICB3ZWlnaHQ6IG1hcC5nZXQoJHRoZW1lLCBsYWJlbC10ZXh0LXdlaWdodCksXG4gICAgICB0cmFuc2Zvcm06IG1hcC5nZXQoJHRoZW1lLCBsYWJlbC10ZXh0LXRyYW5zZm9ybSksXG4gICAgKSxcbiAgICAkcXVlcnk6ICRxdWVyeVxuICApO1xuXG4gIEBpbmNsdWRlIGNvbnRhaW5lci1maWxsLWNvbG9yKFxuICAgIChcbiAgICAgIGRlZmF1bHQ6IG1hcC5nZXQoJHRoZW1lLCBjb250YWluZXItY29sb3IpLFxuICAgICAgZGlzYWJsZWQ6IG1hcC5nZXQoJHRoZW1lLCBkaXNhYmxlZC1jb250YWluZXItY29sb3IpLFxuICAgICksXG4gICAgJHF1ZXJ5OiAkcXVlcnlcbiAgKTtcblxuICBAaW5jbHVkZSBpbmstY29sb3IoXG4gICAgKFxuICAgICAgZGVmYXVsdDogbWFwLmdldCgkdGhlbWUsIGxhYmVsLXRleHQtY29sb3IpLFxuICAgICAgaG92ZXI6IG1hcC5nZXQoJHRoZW1lLCBob3Zlci1sYWJlbC10ZXh0LWNvbG9yKSxcbiAgICAgIGZvY3VzOiBtYXAuZ2V0KCR0aGVtZSwgZm9jdXMtbGFiZWwtdGV4dC1jb2xvciksXG4gICAgICBwcmVzc2VkOiBtYXAuZ2V0KCR0aGVtZSwgcHJlc3NlZC1sYWJlbC10ZXh0LWNvbG9yKSxcbiAgICAgIGRpc2FibGVkOiBtYXAuZ2V0KCR0aGVtZSwgZGlzYWJsZWQtbGFiZWwtdGV4dC1jb2xvciksXG4gICAgKSxcbiAgICAkcXVlcnk6ICRxdWVyeVxuICApO1xuXG4gIEBpbmNsdWRlIGljb24tY29sb3IoXG4gICAgKFxuICAgICAgZGVmYXVsdDogbWFwLmdldCgkdGhlbWUsIHdpdGgtaWNvbi1pY29uLWNvbG9yKSxcbiAgICAgIGhvdmVyOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC1pY29uLWhvdmVyLWljb24tY29sb3IpLFxuICAgICAgZm9jdXM6IG1hcC5nZXQoJHRoZW1lLCB3aXRoLWljb24tZm9jdXMtaWNvbi1jb2xvciksXG4gICAgICBwcmVzc2VkOiBtYXAuZ2V0KCR0aGVtZSwgd2l0aC1pY29uLXByZXNzZWQtaWNvbi1jb2xvciksXG4gICAgICBkaXNhYmxlZDogbWFwLmdldCgkdGhlbWUsIHdpdGgtaWNvbi1kaXNhYmxlZC1pY29uLWNvbG9yKSxcbiAgICApLFxuICAgICRxdWVyeTogJHF1ZXJ5XG4gICk7XG5cbiAgJGljb24tc2l6ZTogbWFwLmdldCgkdGhlbWUsIHdpdGgtaWNvbi1pY29uLXNpemUpO1xuICBAaW5jbHVkZSBfaWNvbi1zaXplKCRpY29uLXNpemUsICRxdWVyeTogJHF1ZXJ5KTtcblxuICBAaW5jbHVkZSBfc3RhdGVzLWNvbG9ycyhcbiAgICAoXG4gICAgICBmb2N1czogbWFwLmdldCgkdGhlbWUsIGZvY3VzLXN0YXRlLWxheWVyLWNvbG9yKSxcbiAgICAgIGhvdmVyOiBtYXAuZ2V0KCR0aGVtZSwgaG92ZXItc3RhdGUtbGF5ZXItY29sb3IpLFxuICAgICAgcHJlc3NlZDogbWFwLmdldCgkdGhlbWUsIHByZXNzZWQtc3RhdGUtbGF5ZXItY29sb3IpLFxuICAgICksXG4gICAgJHF1ZXJ5OiAkcXVlcnlcbiAgKTtcblxuICAkaG92ZXItc3RhdGUtbGF5ZXItb3BhY2l0eTogbWFwLmdldCgkdGhlbWUsIGhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHkpO1xuICAkZm9jdXMtc3RhdGUtbGF5ZXItb3BhY2l0eTogbWFwLmdldCgkdGhlbWUsIGZvY3VzLXN0YXRlLWxheWVyLW9wYWNpdHkpO1xuICAkcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5OiBtYXAuZ2V0KCR0aGVtZSwgcHJlc3NlZC1zdGF0ZS1sYXllci1vcGFjaXR5KTtcbiAgQGluY2x1ZGUgcmlwcGxlLXRoZW1lLnN0YXRlcy1vcGFjaXRpZXMoXG4gICAgJG9wYWNpdHktbWFwOiAoXG4gICAgICBmb2N1czogJGZvY3VzLXN0YXRlLWxheWVyLW9wYWNpdHksXG4gICAgICBob3ZlcjogJGhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHksXG4gICAgICBwcmVzczogJHByZXNzZWQtc3RhdGUtbGF5ZXItb3BhY2l0eSxcbiAgICApLFxuICAgICRyaXBwbGUtdGFyZ2V0OiBidXR0b24tcmlwcGxlLiRyaXBwbGUtdGFyZ2V0LFxuICAgICRxdWVyeTogJHF1ZXJ5XG4gICk7XG5cbiAgJGNvbnRhaW5lci1oZWlnaHQ6IG1hcC5nZXQoJHRoZW1lLCBjb250YWluZXItaGVpZ2h0KTtcbiAgQGluY2x1ZGUgaGVpZ2h0KCRjb250YWluZXItaGVpZ2h0LCAkcXVlcnk6ICRxdWVyeSk7XG5cbiAgJGNvbnRhaW5lci1oZWlnaHQtdmFsdWU6IGlmKFxuICAgIGN1c3RvbS1wcm9wZXJ0aWVzLmlzLWN1c3RvbS1wcm9wKCRjb250YWluZXItaGVpZ2h0KSxcbiAgICBjdXN0b20tcHJvcGVydGllcy5nZXQtZmFsbGJhY2soJGNvbnRhaW5lci1oZWlnaHQpLFxuICAgICRjb250YWluZXItaGVpZ2h0XG4gICk7XG5cbiAgLy8vIFRva2VuIFwia2VlcC10b3VjaC10YXJnZXRcIjpcbiAgLy8vIFByZXZlbnQgdGhlIGluY3JlYXNlZCB0b3VjaCB0YXJnZXQgZnJvbSBiZWluZyByZXNldGVkIGlmIHRoZVxuICAvLy8gY29udGFpbmVyLWhlaWdodCBkaWZmZXJzIGZyb20gdGhlIGRlZmF1bHQgKDM2cHgpXG4gICRrZWVwLXRvdWNoLXRhcmdldDogbWFwLmdldCgkdGhlbWUsIGtlZXAtdG91Y2gtdGFyZ2V0KTtcbiAgQGlmIChub3QgJGtlZXAtdG91Y2gtdGFyZ2V0KSBhbmRcbiAgICAoJGNvbnRhaW5lci1oZWlnaHQtdmFsdWUgIT0gbnVsbCkgYW5kXG4gICAgKCRjb250YWluZXItaGVpZ2h0LXZhbHVlICE9ICRoZWlnaHQpXG4gIHtcbiAgICBAaW5jbHVkZSBfdG91Y2gtdGFyZ2V0LXJlc2V0KCRxdWVyeTogJHF1ZXJ5KTtcbiAgfVxuXG4gICRzaGFwZTogbWFwLmdldCgkdGhlbWUsIGNvbnRhaW5lci1zaGFwZSk7XG4gIEBpZiAkc2hhcGUge1xuICAgICRjb250YWluZXItaGVpZ2h0OiBpZihcbiAgICAgICRjb250YWluZXItaGVpZ2h0ICE9IG51bGwsXG4gICAgICAkY29udGFpbmVyLWhlaWdodCxcbiAgICAgICRoZWlnaHRcbiAgICApO1xuICAgIEBpbmNsdWRlIF9zaGFwZS1yYWRpdXMtd2l0aC1oZWlnaHQoXG4gICAgICAkc2hhcGUsXG4gICAgICAkaGVpZ2h0OiAkY29udGFpbmVyLWhlaWdodCxcbiAgICAgICRxdWVyeTogJHF1ZXJ5XG4gICAgKTtcbiAgfVxuXG4gIEBpbmNsdWRlIF9lbGV2YXRpb24oXG4gICAgJHJlc29sdmVyLFxuICAgICRlbGV2YXRpb24tbWFwOiAoXG4gICAgICBkZWZhdWx0OiBtYXAuZ2V0KCR0aGVtZSwgY29udGFpbmVyLWVsZXZhdGlvbiksXG4gICAgICBkaXNhYmxlZDogbWFwLmdldCgkdGhlbWUsIGRpc2FibGVkLWNvbnRhaW5lci1lbGV2YXRpb24pLFxuICAgICAgZm9jdXM6IG1hcC5nZXQoJHRoZW1lLCBmb2N1cy1jb250YWluZXItZWxldmF0aW9uKSxcbiAgICAgIGhvdmVyOiBtYXAuZ2V0KCR0aGVtZSwgaG92ZXItY29udGFpbmVyLWVsZXZhdGlvbiksXG4gICAgICBwcmVzc2VkOiBtYXAuZ2V0KCR0aGVtZSwgcHJlc3NlZC1jb250YWluZXItZWxldmF0aW9uKVxuICAgICksXG4gICAgJHNoYWRvdy1jb2xvcjogbWFwLmdldCgkdGhlbWUsIGNvbnRhaW5lci1zaGFkb3ctY29sb3IpLFxuICAgICRxdWVyeTogJHF1ZXJ5XG4gICk7XG59XG5cbkBmdW5jdGlvbiByZXNvbHZlLXRoZW1lLWVsZXZhdGlvbi1rZXlzKCR0aGVtZSwgJHJlc29sdmVyKSB7XG4gICRlbGV2YXRpb24tcmVzb2x2ZXI6IG1hcC5nZXQoJHJlc29sdmVyLCBlbGV2YXRpb24pO1xuICAkc2hhZG93LWNvbG9yOiBtYXAuZ2V0KCR0aGVtZSwgY29udGFpbmVyLXNoYWRvdy1jb2xvcik7XG4gIEBpZiAkZWxldmF0aW9uLXJlc29sdmVyID09IG51bGwgb3IgJHNoYWRvdy1jb2xvciA9PSBudWxsIHtcbiAgICBAcmV0dXJuICR0aGVtZTtcbiAgfVxuXG4gICRlbGV2YXRpb24ta2V5czogKFxuICAgIGNvbnRhaW5lci1lbGV2YXRpb24sXG4gICAgaG92ZXItY29udGFpbmVyLWVsZXZhdGlvbixcbiAgICBmb2N1cy1jb250YWluZXItZWxldmF0aW9uLFxuICAgIHByZXNzZWQtY29udGFpbmVyLWVsZXZhdGlvbixcbiAgICBkaXNhYmxlZC1jb250YWluZXItZWxldmF0aW9uXG4gICk7XG5cbiAgQGVhY2ggJGtleSBpbiAkZWxldmF0aW9uLWtleXMge1xuICAgICRlbGV2YXRpb246IG1hcC5nZXQoJHRoZW1lLCAka2V5KTtcbiAgICBAaWYgJGVsZXZhdGlvbiAhPSBudWxsIHtcbiAgICAgICRyZXNvbHZlZC12YWx1ZTogbWV0YS5jYWxsKFxuICAgICAgICAkcmVzb2x2ZXIsXG4gICAgICAgICRlbGV2YXRpb246ICRlbGV2YXRpb24sXG4gICAgICAgICRzaGFkb3ctY29sb3I6ICRzaGFkb3ctY29sb3JcbiAgICAgICk7XG4gICAgICAvLyBVcGRhdGUgdGhlIGtleSB3aXRoIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgICR0aGVtZTogbWFwLnNldCgkdGhlbWUsICRrZXksICRyZXNvbHZlZC12YWx1ZSk7XG4gICAgfVxuICB9XG4gIEByZXR1cm4gJHRoZW1lO1xufVxuXG4vLy9cbi8vLyBTZXRzIHJpcHBsZSBjb2xvciBmb3IgYnV0dG9uLlxuLy8vXG5AbWl4aW4gcmlwcGxlLXN0YXRlcyhcbiAgJGNvbG9yLFxuICAkb3BhY2l0eS1tYXA6IG51bGwsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICBAaW5jbHVkZSByaXBwbGUtdGhlbWUuc3RhdGVzKFxuICAgICRjb2xvcjogJGNvbG9yLFxuICAgICRvcGFjaXR5LW1hcDogJG9wYWNpdHktbWFwLFxuICAgICRxdWVyeTogJHF1ZXJ5LFxuICAgICRyaXBwbGUtdGFyZ2V0OiBidXR0b24tcmlwcGxlLiRyaXBwbGUtdGFyZ2V0XG4gICk7XG59XG5cbkBtaXhpbiBmaWxsZWQtYWNjZXNzaWJsZShcbiAgJGNvbnRhaW5lci1maWxsLWNvbG9yLFxuICAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpXG4pIHtcbiAgJGZpbGwtdG9uZTogdGhlbWUtY29sb3IudG9uZSgkY29udGFpbmVyLWZpbGwtY29sb3IpO1xuXG4gIEBpbmNsdWRlIGNvbnRhaW5lci1maWxsLWNvbG9yKCRjb250YWluZXItZmlsbC1jb2xvciwgJHF1ZXJ5KTtcblxuICBAaWYgKCRmaWxsLXRvbmUgPT0gJ2RhcmsnKSB7XG4gICAgQGluY2x1ZGUgaW5rLWNvbG9yKHRleHQtcHJpbWFyeS1vbi1kYXJrLCAkcXVlcnkpO1xuICAgIEBpbmNsdWRlIHJpcHBsZS1zdGF0ZXMoJGNvbG9yOiB0ZXh0LXByaW1hcnktb24tZGFyaywgJHF1ZXJ5OiAkcXVlcnkpO1xuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBpbmstY29sb3IodGV4dC1wcmltYXJ5LW9uLWxpZ2h0LCAkcXVlcnkpO1xuICAgIEBpbmNsdWRlIHJpcHBsZS1zdGF0ZXMoJGNvbG9yOiB0ZXh0LXByaW1hcnktb24tbGlnaHQsICRxdWVyeTogJHF1ZXJ5KTtcbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIHRoZSBjb250YWluZXIgZmlsbCBjb2xvciB0byB0aGUgZ2l2ZW4gY29sb3IgZm9yIGFuIGVuYWJsZWQgYnV0dG9uLlxuLy8vIEBwYXJhbSB7Q29sb3J8bWFwfSAkY29sb3Itb3ItbWFwIC0gVGhlIGRlc2lyZWQgY29udGFpbmVyIGZpbGwgY29sb3IsXG4vLy8gICAgIHNwZWNpZmllZCBlaXRoZXIgYXMgYSBmbGF0IHZhbHVlIG9yIGEgbWFwIG9mIGNvbG9ycyB3aXRoIHN0YXRlc1xuLy8vICAgICB7ZGVmYXVsdCwgaG92ZXIsIGZvY3VzLCBwcmVzc2VkLCBkaXNhYmxlZH0gYXMga2V5cy5cbi8vL1xuQG1peGluIGNvbnRhaW5lci1maWxsLWNvbG9yKCRjb2xvci1vci1tYXAsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgLy8gOm5vdCg6ZGlzYWJsZWQpIGlzIHVzZWQgdG8gc3VwcG9ydCBsaW5rIHN0eWxlZCBhcyBidXR0b25cbiAgLy8gYXMgbGluayBkb2VzIG5vdCBzdXBwb3J0IDplbmFibGVkIHN0eWxlXG4gICY6bm90KDpkaXNhYmxlZCkge1xuICAgIEBpbmNsdWRlIF9jb250YWluZXItZmlsbC1jb2xvcihcbiAgICAgIHN0YXRlLmdldC1kZWZhdWx0LXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICAgJHF1ZXJ5OiAkcXVlcnlcbiAgICApO1xuXG4gICAgJjpob3ZlciB7XG4gICAgICBAaW5jbHVkZSBfY29udGFpbmVyLWZpbGwtY29sb3IoXG4gICAgICAgIHN0YXRlLmdldC1ob3Zlci1zdGF0ZSgkY29sb3Itb3ItbWFwKSxcbiAgICAgICAgJHF1ZXJ5OiAkcXVlcnlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgcmlwcGxlLXRoZW1lLmZvY3VzKCkge1xuICAgICAgQGluY2x1ZGUgX2NvbnRhaW5lci1maWxsLWNvbG9yKFxuICAgICAgICBzdGF0ZS5nZXQtZm9jdXMtc3RhdGUoJGNvbG9yLW9yLW1hcCksXG4gICAgICAgICRxdWVyeTogJHF1ZXJ5XG4gICAgICApO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIHJpcHBsZS10aGVtZS5hY3RpdmUge1xuICAgICAgQGluY2x1ZGUgX2NvbnRhaW5lci1maWxsLWNvbG9yKFxuICAgICAgICBzdGF0ZS5nZXQtcHJlc3NlZC1zdGF0ZSgkY29sb3Itb3ItbWFwKSxcbiAgICAgICAgJHF1ZXJ5OiAkcXVlcnlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgJjpkaXNhYmxlZCB7XG4gICAgQGluY2x1ZGUgX2NvbnRhaW5lci1maWxsLWNvbG9yKFxuICAgICAgc3RhdGUuZ2V0LWRpc2FibGVkLXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICAgJHF1ZXJ5OiAkcXVlcnlcbiAgICApO1xuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgdGhlIGNvbnRhaW5lciBmaWxsIGNvbG9yIHRvIHRoZSBnaXZlbiBjb2xvciBmb3IgYSBkaXNhYmxlZCBidXR0b24uXG4vLy8gQHBhcmFtIHtDb2xvcn0gJGNvbG9yIC0gVGhlIGRlc2lyZWQgY29udGFpbmVyIGZpbGwgY29sb3IuXG4vLy8gQGRlcHJlY2F0ZWQgLSBjYWxsIGBjb250YWluZXItZmlsbC1jb2xvcmAgaW5zdGVhZCB3aXRoIGBkaXNhYmxlZGAgYXMgYSBtYXBcbi8vLyAgICAga2V5LlxuLy8vXG5AbWl4aW4gZGlzYWJsZWQtY29udGFpbmVyLWZpbGwtY29sb3IoJGNvbG9yLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gIEBpbmNsdWRlIGNvbnRhaW5lci1maWxsLWNvbG9yKFxuICAgIChcbiAgICAgIGRpc2FibGVkOiAkY29sb3IsXG4gICAgKSxcbiAgICAkcXVlcnk6ICRxdWVyeVxuICApO1xufVxuXG4vLy9cbi8vLyBTZXRzIHRoZSBpY29uIGNvbG9yIHRvIHRoZSBnaXZlbiBjb2xvciBmb3IgYW4gZW5hYmxlZCBidXR0b24uXG4vLy8gQHBhcmFtIHtDb2xvcn0gJGNvbG9yLW9yLW1hcCAtIFRoZSBkZXNpcmVkIGljb24gY29sb3IsIHNwZWNpZmllZCBlaXRoZXJcbi8vLyAgICAgYXMgYSBmbGF0IHZhbHVlIG9yIGEgbWFwIG9mIGNvbG9ycyB3aXRoIHN0YXRlc1xuLy8vICAgICB7ZGVmYXVsdCwgaG92ZXIsIGZvY3VzLCBwcmVzc2VkLCBkaXNhYmxlZH0gYXMga2V5cy5cbi8vL1xuQG1peGluIGljb24tY29sb3IoJGNvbG9yLW9yLW1hcCwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAmOm5vdCg6ZGlzYWJsZWQpIHtcbiAgICBAaW5jbHVkZSBfaWNvbi1jb2xvcihcbiAgICAgIHN0YXRlLmdldC1kZWZhdWx0LXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICAgJHF1ZXJ5OiAkcXVlcnlcbiAgICApO1xuXG4gICAgJjpob3ZlciB7XG4gICAgICBAaW5jbHVkZSBfaWNvbi1jb2xvcihcbiAgICAgICAgc3RhdGUuZ2V0LWhvdmVyLXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICAgICAkcXVlcnk6ICRxdWVyeVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSByaXBwbGUtdGhlbWUuZm9jdXMoKSB7XG4gICAgICBAaW5jbHVkZSBfaWNvbi1jb2xvcihcbiAgICAgICAgc3RhdGUuZ2V0LWZvY3VzLXN0YXRlKCRjb2xvci1vci1tYXApLFxuICAgICAgICAkcXVlcnk6ICRxdWVyeVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSByaXBwbGUtdGhlbWUuYWN0aXZlIHtcbiAgICAgIEBpbmNsdWRlIF9pY29uLWNvbG9yKFxuICAgICAgICBzdGF0ZS5nZXQtcHJlc3NlZC1zdGF0ZSgkY29sb3Itb3ItbWFwKSxcbiAgICAgICAgJHF1ZXJ5OiAkcXVlcnlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgJjpkaXNhYmxlZCB7XG4gICAgQGluY2x1ZGUgX2ljb24tY29sb3IoXG4gICAgICBzdGF0ZS5nZXQtZGlzYWJsZWQtc3RhdGUoJGNvbG9yLW9yLW1hcCksXG4gICAgICAkcXVlcnk6ICRxdWVyeVxuICAgICk7XG4gIH1cbn1cblxuLy8vXG4vLy8gU2V0cyB0aGUgaWNvbiBjb2xvciB0byB0aGUgZ2l2ZW4gY29sb3IgZm9yIGEgZGlzYWJsZWQgYnV0dG9uLlxuLy8vIEBwYXJhbSB7Q29sb3J9ICRjb2xvciAtIFRoZSBkZXNpcmVkIGljb24gY29sb3IuXG4vLy8gQGRlcHJlY2F0ZWQgLSBjYWxsIGBpY29uLWNvbG9yYCBpbnN0ZWFkIHdpdGggYGRpc2FibGVkYCBhcyBhIG1hcCBrZXkuXG4vLy9cbkBtaXhpbiBkaXNhYmxlZC1pY29uLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICBAaW5jbHVkZSBpY29uLWNvbG9yKFxuICAgIChcbiAgICAgIGRpc2FibGVkOiAkY29sb3IsXG4gICAgKSxcbiAgICAkcXVlcnk6ICRxdWVyeVxuICApO1xufVxuXG4vLy9cbi8vLyBTZXRzIHRoZSBpbmsgY29sb3IgdG8gdGhlIGdpdmVuIGNvbG9yIGZvciBhbiBlbmFibGVkIGJ1dHRvbixcbi8vLyBhbmQgc2V0cyB0aGUgaWNvbiBjb2xvciB0byB0aGUgZ2l2ZW4gY29sb3IgdW5sZXNzIGBtZGMtYnV0dG9uLWljb24tY29sb3JgXG4vLy8gaXMgYWxzbyB1c2VkLlxuLy8vIEBwYXJhbSB7Q29sb3J9ICRjb2xvci1vci1tYXAgLSBUaGUgZGVzaXJlZCBpbmsgY29sb3IsIHNwZWNpZmllZCBlaXRoZXJcbi8vLyAgICAgYXMgYSBmbGF0IHZhbHVlIG9yIGEgbWFwIG9mIGNvbG9ycyB3aXRoIHN0YXRlc1xuLy8vICAgICB7ZGVmYXVsdCwgaG92ZXIsIGZvY3VzLCBwcmVzc2VkLCBkaXNhYmxlZH0gYXMga2V5cy5cbi8vL1xuQG1peGluIGluay1jb2xvcigkY29sb3Itb3ItbWFwLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICY6bm90KDpkaXNhYmxlZCkge1xuICAgIEBpbmNsdWRlIF9pbmstY29sb3Ioc3RhdGUuZ2V0LWRlZmF1bHQtc3RhdGUoJGNvbG9yLW9yLW1hcCksICRxdWVyeTogJHF1ZXJ5KTtcblxuICAgICY6aG92ZXIge1xuICAgICAgQGluY2x1ZGUgX2luay1jb2xvcihzdGF0ZS5nZXQtaG92ZXItc3RhdGUoJGNvbG9yLW9yLW1hcCksICRxdWVyeTogJHF1ZXJ5KTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSByaXBwbGUtdGhlbWUuZm9jdXMoKSB7XG4gICAgICBAaW5jbHVkZSBfaW5rLWNvbG9yKHN0YXRlLmdldC1mb2N1cy1zdGF0ZSgkY29sb3Itb3ItbWFwKSwgJHF1ZXJ5OiAkcXVlcnkpO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIHJpcHBsZS10aGVtZS5hY3RpdmUge1xuICAgICAgQGluY2x1ZGUgX2luay1jb2xvcihcbiAgICAgICAgc3RhdGUuZ2V0LXByZXNzZWQtc3RhdGUoJGNvbG9yLW9yLW1hcCksXG4gICAgICAgICRxdWVyeTogJHF1ZXJ5XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gICY6ZGlzYWJsZWQge1xuICAgIEBpbmNsdWRlIF9pbmstY29sb3IoXG4gICAgICBzdGF0ZS5nZXQtZGlzYWJsZWQtc3RhdGUoJGNvbG9yLW9yLW1hcCksXG4gICAgICAkcXVlcnk6ICRxdWVyeVxuICAgICk7XG4gIH1cbn1cblxuLy8vXG4vLy8gU2V0cyB0aGUgaW5rIGNvbG9yIHRvIHRoZSBnaXZlbiBjb2xvciBmb3IgYSBkaXNhYmxlZCBidXR0b24sXG4vLy8gYW5kIHNldHMgdGhlIGljb24gY29sb3IgdG8gdGhlIGdpdmVuIGNvbG9yIHVubGVzcyBgbWRjLWJ1dHRvbi1pY29uLWNvbG9yYFxuLy8vIGlzIGFsc28gdXNlZC5cbi8vLyBAcGFyYW0ge0NvbG9yfSAkY29sb3IgLSBUaGUgZGVzaXJlZCBpbmsgY29sb3IuXG4vLy8gQGRlcHJlY2F0ZWQgLSBjYWxsIGBpbmstY29sb3JgIGluc3RlYWQgd2l0aCBgZGlzYWJsZWRgIGFzIGEgbWFwIGtleS5cbi8vL1xuQG1peGluIGRpc2FibGVkLWluay1jb2xvcigkY29sb3IsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgQGluY2x1ZGUgaW5rLWNvbG9yKFxuICAgIChcbiAgICAgIGRpc2FibGVkOiAkY29sb3IsXG4gICAgKSxcbiAgICAkcXVlcnk6ICRxdWVyeVxuICApO1xufVxuXG4vLy9cbi8vLyBTZXRzIGRlbnNpdHkgc2NhbGUgZm9yIGJ1dHRvbi5cbi8vL1xuLy8vIEBwYXJhbSB7TnVtYmVyIHwgU3RyaW5nfSAkZGVuc2l0eS1zY2FsZSAtIERlbnNpdHkgc2NhbGUgdmFsdWUgZm9yIGNvbXBvbmVudC4gU3VwcG9ydGVkIGRlbnNpdHkgc2NhbGUgdmFsdWVzIGAtM2AsXG4vLy8gICAgIGAtMmAsIGAtMWAsIGAwYC5cbi8vL1xuQG1peGluIGRlbnNpdHkoJGRlbnNpdHktc2NhbGUsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGhlaWdodDogZGVuc2l0eS1mdW5jdGlvbnMucHJvcC12YWx1ZShcbiAgICAkZGVuc2l0eS1jb25maWc6ICRkZW5zaXR5LWNvbmZpZyxcbiAgICAkZGVuc2l0eS1zY2FsZTogJGRlbnNpdHktc2NhbGUsXG4gICAgJHByb3BlcnR5LW5hbWU6IGhlaWdodCxcbiAgKTtcblxuICBAaW5jbHVkZSBoZWlnaHQoJGhlaWdodCwgJHF1ZXJ5OiAkcXVlcnkpO1xuXG4gIEBpZiAkZGVuc2l0eS1zY2FsZSAhPSAwIHtcbiAgICBAaW5jbHVkZSBfdG91Y2gtdGFyZ2V0LXJlc2V0KCRxdWVyeTogJHF1ZXJ5KTtcbiAgfVxufVxuXG4vLy9cbi8vLyBSZXNldHMgdG91Y2ggdGFyZ2V0LXJlbGF0ZWQgc3R5bGVzLiBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBkZW5zaXR5IG1peGluIHRvXG4vLy8gYXV0b21hdGljYWxseSByZW1vdmUgdGhlIGluY3JlYXNlZCB0b3VjaCB0YXJnZXQsIHNpbmNlIGRlbnNlIGNvbXBvbmVudHNcbi8vLyBkb24ndCBoYXZlIHRoZSBzYW1lIGRlZmF1bHQgYTExeSByZXF1aXJlbWVudHMuXG4vLy8gQGFjY2VzcyBwcml2YXRlXG4vLy9cbkBtaXhpbiBfdG91Y2gtdGFyZ2V0LXJlc2V0KCRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtc3RydWN0dXJlOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgc3RydWN0dXJlKTtcblxuICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgIG1hcmdpbi10b3A6IDA7XG4gICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgfVxuXG4gIC5tZGMtYnV0dG9uX190b3VjaCB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgIC8vIERvIG5vdCBzZXQgZGlzcGxheTogbm9uZSBpbiBjYXNlIHRoZSB0b3VjaCB0YXJnZXQgaXMgPGE+IGVsZW1lbnQuXG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgfVxuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgY3VzdG9tIGhlaWdodCBmb3IgYnV0dG9uLlxuLy8vIEBwYXJhbSB7TnVtYmVyfSAkaGVpZ2h0IC0gSGVpZ2h0IG9mIGJ1dHRvbiBpbiBgcHhgLlxuLy8vXG5AbWl4aW4gaGVpZ2h0KCRoZWlnaHQsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtc3RydWN0dXJlOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgc3RydWN0dXJlKTtcblxuICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGhlaWdodCwgJGhlaWdodCk7XG4gIH1cbn1cblxuQG1peGluIHNoYXBlLXJhZGl1cyhcbiAgJHJhZGl1cyxcbiAgJHJ0bC1yZWZsZXhpdmU6IGZhbHNlLFxuICAkZGVuc2l0eS1zY2FsZTogJGRlbnNpdHktc2NhbGUsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICAkaGVpZ2h0OiBkZW5zaXR5LWZ1bmN0aW9ucy5wcm9wLXZhbHVlKFxuICAgICRkZW5zaXR5LWNvbmZpZzogJGRlbnNpdHktY29uZmlnLFxuICAgICRkZW5zaXR5LXNjYWxlOiAkZGVuc2l0eS1zY2FsZSxcbiAgICAkcHJvcGVydHktbmFtZTogaGVpZ2h0LFxuICApO1xuXG4gIEBpbmNsdWRlIF9zaGFwZS1yYWRpdXMtd2l0aC1oZWlnaHQoJHJhZGl1cywgJHJ0bC1yZWZsZXhpdmUsICRoZWlnaHQsICRxdWVyeSk7XG59XG5cbkBtaXhpbiBfc2hhcGUtcmFkaXVzLXdpdGgtaGVpZ2h0KFxuICAkcmFkaXVzLFxuICAkcnRsLXJlZmxleGl2ZTogZmFsc2UsXG4gICRoZWlnaHQ6ICRoZWlnaHQsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICBAaW5jbHVkZSBzaGFwZS1taXhpbnMucmFkaXVzKFxuICAgICRyYWRpdXMsXG4gICAgJHJ0bC1yZWZsZXhpdmUsXG4gICAgJGNvbXBvbmVudC1oZWlnaHQ6ICRoZWlnaHQsXG4gICAgJHF1ZXJ5OiAkcXVlcnlcbiAgKTtcblxuICAje2J1dHRvbi1yaXBwbGUuJHJpcHBsZS10YXJnZXR9IHtcbiAgICBAaW5jbHVkZSBzaGFwZS1taXhpbnMucmFkaXVzKFxuICAgICAgJHJhZGl1cyxcbiAgICAgICRydGwtcmVmbGV4aXZlLFxuICAgICAgJGNvbXBvbmVudC1oZWlnaHQ6ICRoZWlnaHQsXG4gICAgICAkcXVlcnk6ICRxdWVyeVxuICAgICk7XG4gIH1cbn1cblxuLy8vXG4vLy8gU2V0cyBob3Jpem9udGFsIHBhZGRpbmcgdG8gdGhlIGdpdmVuIG51bWJlci5cbi8vLyBAcGFyYW0ge051bWJlcn0gJHBhZGRpbmdcbi8vLyBAcGFyYW0ge051bWJlcn0gJHBhZGRpbmctaWNvbiBbbnVsbF0gRm9yIGJ1dHRvbnMgd2l0aCBhbiBpY29uLCB0aGVcbi8vLyAgICAgaG9yaXpvbnRhbCBwYWRkaW5nIG9uIHRoZSBzaWRlIHdpdGggdGhlIGljb24sIGlmIGRpZmZlcmVudCBmcm9tXG4vLy8gICAgICRwYWRkaW5nLlxuLy8vXG5AbWl4aW4gaG9yaXpvbnRhbC1wYWRkaW5nKFxuICAkcGFkZGluZyxcbiAgJHBhZGRpbmctaWNvbjogbnVsbCxcbiAgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKVxuKSB7XG4gICRmZWF0LXN0cnVjdHVyZTogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIHN0cnVjdHVyZSk7XG5cbiAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAvLyAkcGFkZGluZyBzaG91bGQgYmUgYSBzaW5nbGUgdmFsdWU7IGVuZm9yY2UgaXQgYnkgc3BlY2lmeWluZyBhbGwgNCBzaWRlcyBpbiB0aGUgb3V0cHV0XG4gICAgcGFkZGluZzogMCAkcGFkZGluZyAwICRwYWRkaW5nO1xuICB9XG5cbiAgQGlmICRwYWRkaW5nLWljb24gIT0gbnVsbCB7XG4gICAgJi5tZGMtYnV0dG9uLS1pY29uLXRyYWlsaW5nIHtcbiAgICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICAgIC8vICRwYWRkaW5nIHNob3VsZCBiZSBhIHNpbmdsZSB2YWx1ZTsgZW5mb3JjZSBpdCBieSBzcGVjaWZ5aW5nIGFsbCA0XG4gICAgICAgIC8vIHNpZGVzIGluIHRoZSBvdXRwdXQuXG4gICAgICAgIHBhZGRpbmc6IDAgJHBhZGRpbmctaWNvbiAwICRwYWRkaW5nO1xuICAgICAgfVxuICAgIH1cblxuICAgICYubWRjLWJ1dHRvbi0taWNvbi1sZWFkaW5nIHtcbiAgICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICAgIC8vICRwYWRkaW5nIHNob3VsZCBiZSBhIHNpbmdsZSB2YWx1ZTsgZW5mb3JjZSBpdCBieSBzcGVjaWZ5aW5nIGFsbCA0XG4gICAgICAgIC8vIHNpZGVzIGluIHRoZSBvdXRwdXQuXG4gICAgICAgIHBhZGRpbmc6IDAgJHBhZGRpbmcgMCAkcGFkZGluZy1pY29uO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIHRoZSBidXR0b24gbGFiZWwgdG8gb3ZlcmZsb3cgYXMgZWxsaXBzaXNcbi8vL1xuQG1peGluIGxhYmVsLW92ZXJmbG93LWVsbGlwc2lzKCRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgLm1kYy1idXR0b25fX2xhYmVsIHtcbiAgICBAaW5jbHVkZSB0eXBvZ3JhcGh5Lm92ZXJmbG93LWVsbGlwc2lzKCRxdWVyeTogJHF1ZXJ5KTtcbiAgfVxufVxuXG4vLy9cbi8vLyBBZGQgYSB2aXNpYmxlIG91dGxpbmUgdG8gdGhlIGJ1dHRvbiBpbiBoaWdoIGNvbnRyYXN0IG1vZGUuXG4vLy9cbkBtaXhpbiBvdXRsaW5lLWhjbS1zaGltKCRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJjo6YmVmb3JlIHtcbiAgICBAaW5jbHVkZSBkb20tbWl4aW5zLnRyYW5zcGFyZW50LWJvcmRlcigkcXVlcnk6ICRxdWVyeSk7XG4gIH1cbn1cblxuLy8vXG4vLy8gSW5jbHVkZXMgYWQtaG9jIGhpZ2ggY29udHJhc3QgbW9kZSBzdXBwb3J0LlxuLy8vIEBkZXByZWNhdGVkIFVzZSBgb3V0bGluZS1oY20tc2hpbWAgZm9yIHRoZSBvdXRsaW5lIGJ1dHRvbi4gVGhlIGZvY3VzIHJpbmdcbi8vLyAgICAgaXMgcHJvdmlkZWQgYnkgZGVmYXVsdC5cbi8vL1xuQG1peGluIGhpZ2gtY29udHJhc3QtbW9kZS1zaGltKCRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgQGluY2x1ZGUgb3V0bGluZS1oY20tc2hpbSgkcXVlcnk6ICRxdWVyeSk7XG5cbiAgLy8gTGluayBidXR0b25zIGFwcGx5IGZvY3VzIHRvIHRoZSBjb250YWluZWQgbGluay4gRm9jdXMgaXMgaW5kaWNhdGVkIHZpYSB0aGVcbiAgLy8gbGluayBzaW5jZSBmb2N1cy13aXRoaW4gaXNuJ3Qgc3VwcG9ydGVkIGJ5IElFLlxuICAmIC5tZGMtYnV0dG9uX19saW5rOmZvY3VzLFxuICAmOmZvY3VzIHtcbiAgICAmOjpiZWZvcmUge1xuICAgICAgQGluY2x1ZGUgZm9jdXMtcmluZy5mb2N1cy1yaW5nKCRxdWVyeTogJHF1ZXJ5KTtcbiAgICB9XG4gIH1cbn1cblxuLy8vXG4vLy8gU2V0cyB0aGUgY29udGFpbmVyIGZpbGwgY29sb3IgdG8gdGhlIGdpdmVuIGNvbG9yLiBUaGlzIG1peGluIHNob3VsZCBiZVxuLy8vIHdyYXBwZWQgaW4gYSBzZWxlY3RvciB0aGF0IHF1YWxpZmllcyBidXR0b24gc3RhdGUuXG4vLy8gQGFjY2VzcyBwcml2YXRlXG4vLy9cbkBtaXhpbiBfY29udGFpbmVyLWZpbGwtY29sb3IoJGNvbG9yLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LWNvbG9yOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgY29sb3IpO1xuXG4gIEBpZiAkY29sb3Ige1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtY29sb3IpIHtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGJhY2tncm91bmQtY29sb3IsICRjb2xvcik7XG4gICAgfVxuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgdGhlIGljb24gY29sb3IgdG8gdGhlIGdpdmVuIGNvbG9yLiBUaGlzIG1peGluIHNob3VsZCBiZVxuLy8vIHdyYXBwZWQgaW4gYSBzZWxlY3RvciB0aGF0IHF1YWxpZmllcyBidXR0b24gc3RhdGUuXG4vLy8gQGFjY2VzcyBwcml2YXRlXG4vLy9cbkBtaXhpbiBfaWNvbi1jb2xvcigkY29sb3IsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtY29sb3I6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBjb2xvcik7XG5cbiAgQGlmICRjb2xvciB7XG4gICAgLm1kYy1idXR0b25fX2ljb24ge1xuICAgICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShjb2xvciwgJGNvbG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9pY29uLXNpemUoJHNpemUtcHgsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtc3RydWN0dXJlOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgc3RydWN0dXJlKTtcblxuICBAaWYgJHNpemUtcHggIT0gbnVsbCB7XG4gICAgJHNpemUtcmVtOiB0eXBvZ3JhcGh5LnB4LXRvLXJlbSgkc2l6ZS1weCk7XG4gICAgLm1kYy1idXR0b25fX2ljb24ge1xuICAgICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoZm9udC1zaXplLCAkc2l6ZS1yZW0pO1xuICAgICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSh3aWR0aCwgJHNpemUtcmVtKTtcbiAgICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoaGVpZ2h0LCAkc2l6ZS1yZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIHRoZSBpbmsgY29sb3IgdG8gdGhlIGdpdmVuIGNvbG9yLiBUaGlzIG1peGluIHNob3VsZCBiZVxuLy8vIHdyYXBwZWQgaW4gYSBzZWxlY3RvciB0aGF0IHF1YWxpZmllcyBidXR0b24gc3RhdGUuXG4vLy8gQGFjY2VzcyBwcml2YXRlXG4vLy9cbkBtaXhpbiBfaW5rLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1jb2xvcjogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIGNvbG9yKTtcblxuICBAaWYgJGNvbG9yIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LWNvbG9yKSB7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShjb2xvciwgJGNvbG9yKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIF9zdGF0ZXMtY29sb3JzKCRjb2xvci1tYXAsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGhvdmVyOiBtYXAuZ2V0KCRjb2xvci1tYXAsIGhvdmVyKTtcblxuICAkaG92ZXItdmFsdWU6IGlmKFxuICAgIGN1c3RvbS1wcm9wZXJ0aWVzLmlzLWN1c3RvbS1wcm9wKCRob3ZlciksXG4gICAgY3VzdG9tLXByb3BlcnRpZXMuZ2V0LWZhbGxiYWNrKCRob3ZlciksXG4gICAgJGhvdmVyXG4gICk7XG4gIC8vIFRPRE8oYi8xOTEyOTg3OTYpOiBzdXBwb3J0IGZvY3VzZWQgJiBwcmVzc2VkIGtleSBjb2xvcnMuXG5cbiAgQGlmICRob3Zlci12YWx1ZSAhPSBudWxsIHtcbiAgICBAaW5jbHVkZSByaXBwbGUtdGhlbWUuc3RhdGVzLWJhc2UtY29sb3IoXG4gICAgICAkY29sb3I6ICRob3ZlcixcbiAgICAgICRyaXBwbGUtdGFyZ2V0OiBidXR0b24tcmlwcGxlLiRyaXBwbGUtdGFyZ2V0LFxuICAgICAgJHF1ZXJ5OiAkcXVlcnlcbiAgICApO1xuICB9XG59XG5cbkBtaXhpbiBfbGFiZWwtdGV4dC10eXBvZ3JhcGh5KFxuICAkdHlwb2dyYXBoeS1tYXAsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICAkZmVhdC10eXBvZ3JhcGh5OiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgdHlwb2dyYXBoeSk7XG5cbiAgJGZhbWlseTogbWFwLmdldCgkdHlwb2dyYXBoeS1tYXAsIGZhbWlseSk7XG4gICRzaXplOiBtYXAuZ2V0KCR0eXBvZ3JhcGh5LW1hcCwgc2l6ZSk7XG4gICR0cmFja2luZzogbWFwLmdldCgkdHlwb2dyYXBoeS1tYXAsIHRyYWNraW5nKTtcbiAgJHdlaWdodDogbWFwLmdldCgkdHlwb2dyYXBoeS1tYXAsIHdlaWdodCk7XG4gICR0cmFuc2Zvcm06IG1hcC5nZXQoJHR5cG9ncmFwaHktbWFwLCB0cmFuc2Zvcm0pO1xuXG4gIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtdHlwb2dyYXBoeSkge1xuICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGZvbnQtZmFtaWx5LCAkZmFtaWx5KTtcbiAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShmb250LXNpemUsICRzaXplKTtcbiAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShsZXR0ZXItc3BhY2luZywgJHRyYWNraW5nKTtcbiAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShmb250LXdlaWdodCwgJHdlaWdodCk7XG4gICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkodGV4dC10cmFuc2Zvcm0sICR0cmFuc2Zvcm0pO1xuICB9XG59XG5cbkBtaXhpbiBfZWxldmF0aW9uKFxuICAkcmVzb2x2ZXIsXG4gICRlbGV2YXRpb24tbWFwLFxuICAkc2hhZG93LWNvbG9yLFxuICAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpXG4pIHtcbiAgJGVsZXZhdGlvbi1yZXNvbHZlcjogbWFwLmdldCgkcmVzb2x2ZXIsIGVsZXZhdGlvbik7XG5cbiAgQGlmICRzaGFkb3ctY29sb3Ige1xuICAgICRkZWZhdWx0OiBzdGF0ZS5nZXQtZGVmYXVsdC1zdGF0ZSgkZWxldmF0aW9uLW1hcCk7XG4gICAgQGlmICRkZWZhdWx0ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgZWxldmF0aW9uLXRoZW1lLndpdGgtcmVzb2x2ZXIoXG4gICAgICAgICRlbGV2YXRpb24tcmVzb2x2ZXIsXG4gICAgICAgICRlbGV2YXRpb246ICRkZWZhdWx0LFxuICAgICAgICAkc2hhZG93LWNvbG9yOiAkc2hhZG93LWNvbG9yLFxuICAgICAgICAkcXVlcnk6ICRxdWVyeVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAkZm9jdXM6IHN0YXRlLmdldC1mb2N1cy1zdGF0ZSgkZWxldmF0aW9uLW1hcCk7XG4gICAgQGlmICRmb2N1cyAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIHJpcHBsZS10aGVtZS5mb2N1cyB7XG4gICAgICAgIEBpbmNsdWRlIGVsZXZhdGlvbi10aGVtZS53aXRoLXJlc29sdmVyKFxuICAgICAgICAgICRlbGV2YXRpb24tcmVzb2x2ZXIsXG4gICAgICAgICAgJGVsZXZhdGlvbjogJGZvY3VzLFxuICAgICAgICAgICRzaGFkb3ctY29sb3I6ICRzaGFkb3ctY29sb3IsXG4gICAgICAgICAgJHF1ZXJ5OiAkcXVlcnlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkaG92ZXI6IHN0YXRlLmdldC1ob3Zlci1zdGF0ZSgkZWxldmF0aW9uLW1hcCk7XG4gICAgQGlmICRob3ZlciAhPSBudWxsIHtcbiAgICAgICY6aG92ZXIge1xuICAgICAgICBAaW5jbHVkZSBlbGV2YXRpb24tdGhlbWUud2l0aC1yZXNvbHZlcihcbiAgICAgICAgICAkZWxldmF0aW9uLXJlc29sdmVyLFxuICAgICAgICAgICRlbGV2YXRpb246ICRob3ZlcixcbiAgICAgICAgICAkc2hhZG93LWNvbG9yOiAkc2hhZG93LWNvbG9yLFxuICAgICAgICAgICRxdWVyeTogJHF1ZXJ5XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHByZXNzZWQ6IHN0YXRlLmdldC1wcmVzc2VkLXN0YXRlKCRlbGV2YXRpb24tbWFwKTtcbiAgICBAaWYgJHByZXNzZWQgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSByaXBwbGUtdGhlbWUuYWN0aXZlIHtcbiAgICAgICAgQGluY2x1ZGUgZWxldmF0aW9uLXRoZW1lLndpdGgtcmVzb2x2ZXIoXG4gICAgICAgICAgJGVsZXZhdGlvbi1yZXNvbHZlcixcbiAgICAgICAgICAkZWxldmF0aW9uOiAkcHJlc3NlZCxcbiAgICAgICAgICAkc2hhZG93LWNvbG9yOiAkc2hhZG93LWNvbG9yLFxuICAgICAgICAgICRxdWVyeTogJHF1ZXJ5XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJGRpc2FibGVkOiBzdGF0ZS5nZXQtZGlzYWJsZWQtc3RhdGUoJGVsZXZhdGlvbi1tYXApO1xuICAgIEBpZiAkZGlzYWJsZWQgIT0gbnVsbCB7XG4gICAgICAmOmRpc2FibGVkIHtcbiAgICAgICAgQGluY2x1ZGUgZWxldmF0aW9uLXRoZW1lLndpdGgtcmVzb2x2ZXIoXG4gICAgICAgICAgJGVsZXZhdGlvbi1yZXNvbHZlcixcbiAgICAgICAgICAkZWxldmF0aW9uOiAkZGlzYWJsZWQsXG4gICAgICAgICAgJHNoYWRvdy1jb2xvcjogJHNoYWRvdy1jb2xvcixcbiAgICAgICAgICAkcXVlcnk6ICRxdWVyeVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiQHVzZSAnc2FzczptYXAnO1xuQHVzZSAnQG1hdGVyaWFsL3JpcHBsZS9yaXBwbGUtdGhlbWUnIGFzIG1kYy1yaXBwbGUtdGhlbWU7XG5AdXNlICdAbWF0ZXJpYWwvdGhlbWUvdGhlbWUtY29sb3InIGFzIG1kYy10aGVtZS1jb2xvcjtcblxuQHVzZSAnLi4vY29yZS9tZGMtaGVscGVycy9tZGMtaGVscGVycyc7XG5cbkBtaXhpbiBfcmlwcGxlLWNvbG9yKCRjb2xvcikge1xuICAtLW1hdC1tZGMtYnV0dG9uLXBlcnNpc3RlbnQtcmlwcGxlLWNvbG9yOiAjeyRjb2xvcn07XG4gIC0tbWF0LW1kYy1idXR0b24tcmlwcGxlLWNvbG9yOiAje3JnYmEoJGNvbG9yLCAwLjEpfTtcbn1cblxuQG1peGluIHJpcHBsZS10aGVtZS1zdHlsZXMoJGNvbmZpZywgJGlzLWZpbGxlZCkge1xuICAkb3BhY2l0aWVzOiBpZihtYXAuZ2V0KCRjb25maWcsIGlzLWRhcmspLFxuICAgIG1kYy1yaXBwbGUtdGhlbWUuJGxpZ2h0LWluay1vcGFjaXRpZXMsIG1kYy1yaXBwbGUtdGhlbWUuJGRhcmstaW5rLW9wYWNpdGllcyk7XG5cbiAgLy8gSWRlYWxseSB0aGVzZSBzdHlsZXMgd291bGQgYmUgc3RydWN0dXJhbCwgYnV0IE1EQyBiYXNlcyBzb21lIG9mIHRoZSBvcGFjaXRpZXMgb24gdGhlIHRoZW1lLlxuICAmOmhvdmVyIC5tYXQtbWRjLWJ1dHRvbi1wZXJzaXN0ZW50LXJpcHBsZTo6YmVmb3JlIHtcbiAgICBvcGFjaXR5OiBtYXAuZ2V0KCRvcGFjaXRpZXMsIGhvdmVyKTtcbiAgfVxuXG4gICYuY2RrLXByb2dyYW0tZm9jdXNlZCxcbiAgJi5jZGsta2V5Ym9hcmQtZm9jdXNlZCB7XG4gICAgLm1hdC1tZGMtYnV0dG9uLXBlcnNpc3RlbnQtcmlwcGxlOjpiZWZvcmUge1xuICAgICAgb3BhY2l0eTogbWFwLmdldCgkb3BhY2l0aWVzLCBmb2N1cyk7XG4gICAgfVxuICB9XG5cbiAgJjphY3RpdmUgLm1hdC1tZGMtYnV0dG9uLXBlcnNpc3RlbnQtcmlwcGxlOjpiZWZvcmUge1xuICAgIG9wYWNpdHk6IG1hcC5nZXQoJG9wYWNpdGllcywgcHJlc3MpO1xuICB9XG5cbiAgQGluY2x1ZGUgX3JpcHBsZS1jb2xvcihtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1zdXJmYWNlKSk7XG5cbiAgJi5tYXQtcHJpbWFyeSB7XG4gICAgQGluY2x1ZGUgX3JpcHBsZS1jb2xvcihtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShpZigkaXMtZmlsbGVkLCBvbi1wcmltYXJ5LCBwcmltYXJ5KSkpO1xuICB9XG5cbiAgJi5tYXQtYWNjZW50IHtcbiAgICBAaW5jbHVkZSBfcmlwcGxlLWNvbG9yKG1kYy10aGVtZS1jb2xvci5wcm9wLXZhbHVlKGlmKCRpcy1maWxsZWQsIG9uLXNlY29uZGFyeSwgc2Vjb25kYXJ5KSkpO1xuICB9XG5cbiAgJi5tYXQtd2FybiB7XG4gICAgQGluY2x1ZGUgX3JpcHBsZS1jb2xvcihtZGMtdGhlbWUtY29sb3IucHJvcC12YWx1ZShpZigkaXMtZmlsbGVkLCBvbi1lcnJvciwgZXJyb3IpKSk7XG4gIH1cbn1cblxuLy8gV3JhcHMgdGhlIGNvbnRlbnQgc3R5bGUgaW4gYSBzZWxlY3RvciBmb3IgdGhlIGRpc2FibGVkIHN0YXRlLlxuLy8gTURDIGFkZHMgdGhlbWUgY29sb3IgYnkgdXNpbmcgOm5vdCg6ZGlzYWJsZWQpLCBzbyBqdXN0IHVzaW5nIFtkaXNhYmxlZF0gb25jZSB3aWxsIG5vdFxuLy8gb3ZlcnJpZGUgdGhpcywgbmVpdGhlciB3aWxsIGl0IGFwcGx5IHRvIGFuY2hvciB0YWdzLiBUaGlzIG5lZWRzIHRvIG92ZXJyaWRlIHRoZVxuLy8gcHJldmlvdXNseSBzZXQgdGhlbWUgY29sb3IsIHNvIGl0IG11c3QgYmUgb3JkZXJlZCBhZnRlciB0aGUgdGhlbWUgc3R5bGVzLlxuLy8gVE9ETyhhbmRyZXdzZWd1aW4pOiBEaXNjdXNzIHdpdGggdGhlIE1EQyB0ZWFtIHRvIHNlZSBpZiB3ZSBjYW4gYXZvaWQgdGhlIDpub3QoOmRpc2FibGVkKSBieVxuLy8gbWFudWFsbHkgc3R5bGluZyBkaXNhYmxlZCBidXR0b25zIHdpdGggYSBbZGlzYWJsZWRdIHNlbGVjdG9yLlxuQG1peGluIGFwcGx5LWRpc2FibGVkLXN0eWxlKCkge1xuICAmW2Rpc2FibGVkXVtkaXNhYmxlZF0ge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbi8vIEhpZGVzIHRoZSB0b3VjaCB0YXJnZXQgb24gbG93ZXIgZGVuc2l0aWVzLlxuQG1peGluIHRvdWNoLXRhcmdldC1kZW5zaXR5KCRzY2FsZSkge1xuICBAaW5jbHVkZSBtZGMtaGVscGVycy5pZi10b3VjaC10YXJnZXRzLXVuc3VwcG9ydGVkKCRzY2FsZSkge1xuICAgIC5tYXQtbWRjLWJ1dHRvbi10b3VjaC10YXJnZXQge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG4gIH1cbn1cbiIsIkB1c2UgJ3Nhc3M6bWFwJztcbkB1c2UgJ3Nhc3M6bWF0aCc7XG5AdXNlICdAbWF0ZXJpYWwvZGVuc2l0eS9mdW5jdGlvbnMnIGFzIG1kYy1kZW5zaXR5LWZ1bmN0aW9ucztcbkB1c2UgJ0BtYXRlcmlhbC9pY29uLWJ1dHRvbi9taXhpbnMnIGFzIG1kYy1pY29uLWJ1dHRvbjtcbkB1c2UgJ0BtYXRlcmlhbC9pY29uLWJ1dHRvbi9pY29uLWJ1dHRvbi10aGVtZScgYXMgbWRjLWljb24tYnV0dG9uLXRoZW1lO1xuQHVzZSAnQG1hdGVyaWFsL3RoZW1lL3RoZW1lLWNvbG9yJyBhcyBtZGMtdGhlbWUtY29sb3I7XG5AdXNlICcuLi9jb3JlL3Rva2Vucy9tMi9tZGMvaWNvbi1idXR0b24nIGFzIHRva2Vucy1tZGMtaWNvbi1idXR0b247XG5cbkB1c2UgJy4vYnV0dG9uLXRoZW1lLXByaXZhdGUnO1xuQHVzZSAnLi4vY29yZS90aGVtaW5nL3RoZW1pbmcnO1xuXG4kX2ljb24tc2l6ZTogMjRweDtcblxuQG1peGluIF9yaXBwbGUtY29sb3IoJGNvbG9yKSB7XG4gIC0tbWF0LW1kYy1idXR0b24tcGVyc2lzdGVudC1yaXBwbGUtY29sb3I6ICN7JGNvbG9yfTtcbiAgLS1tYXQtbWRjLWJ1dHRvbi1yaXBwbGUtY29sb3I6ICN7cmdiYSgkY29sb3IsIDAuMSl9O1xufVxuXG5AZnVuY3Rpb24gX3ZhcmlhYmxlLXNhZmUtY29udHJhc3QtdG9uZSgkdmFsdWUsICRpcy1kYXJrKSB7XG4gIEBpZiAoJHZhbHVlID09ICdkYXJrJyBvciAkdmFsdWUgPT0gJ2xpZ2h0JyBvciB0eXBlLW9mKCR2YWx1ZSkgPT0gJ2NvbG9yJykge1xuICAgIEByZXR1cm4gbWRjLXRoZW1lLWNvbG9yLmNvbnRyYXN0LXRvbmUoJHZhbHVlKTtcbiAgfVxuXG4gIEByZXR1cm4gaWYoJGlzLWRhcmssICdsaWdodCcsICdkYXJrJyk7XG59XG5cbkBtaXhpbiBjb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGNvbG9yLXRva2VuczogdG9rZW5zLW1kYy1pY29uLWJ1dHRvbi5nZXQtY29sb3ItdG9rZW5zKCRjb25maWcpO1xuICAkYmFja2dyb3VuZC1wYWxldHRlOiBtYXAuZ2V0KCRjb25maWcsIGJhY2tncm91bmQpO1xuICAkc3VyZmFjZTogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRiYWNrZ3JvdW5kLXBhbGV0dGUsIGNhcmQpO1xuICAkaXMtZGFyazogbWFwLmdldCgkY29uZmlnLCBpcy1kYXJrKTtcbiAgJG9uLXN1cmZhY2U6IGlmKF92YXJpYWJsZS1zYWZlLWNvbnRyYXN0LXRvbmUoJHN1cmZhY2UsICRpcy1kYXJrKSA9PSAnZGFyaycsICMwMDAsICNmZmYpO1xuXG4gIC5tYXQtbWRjLWljb24tYnV0dG9uIHtcbiAgICBAaW5jbHVkZSBidXR0b24tdGhlbWUtcHJpdmF0ZS5yaXBwbGUtdGhlbWUtc3R5bGVzKCRjb25maWcsIGZhbHNlKTtcbiAgICBAaW5jbHVkZSBtZGMtaWNvbi1idXR0b24tdGhlbWUudGhlbWUoJGNvbG9yLXRva2Vucyk7XG4gICAgQGluY2x1ZGUgX3JpcHBsZS1jb2xvcigkb24tc3VyZmFjZSk7XG5cbiAgICAmLm1hdC1wcmltYXJ5IHtcbiAgICAgICRjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKG1hcC5nZXQoJGNvbmZpZywgcHJpbWFyeSkpO1xuICAgICAgQGluY2x1ZGUgbWRjLWljb24tYnV0dG9uLXRoZW1lLnRoZW1lKChpY29uLWNvbG9yOiAkY29sb3IpKTtcbiAgICAgIEBpbmNsdWRlIF9yaXBwbGUtY29sb3IoJGNvbG9yKTtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgJGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUobWFwLmdldCgkY29uZmlnLCBhY2NlbnQpKTtcbiAgICAgIEBpbmNsdWRlIG1kYy1pY29uLWJ1dHRvbi10aGVtZS50aGVtZSgoaWNvbi1jb2xvcjogJGNvbG9yKSk7XG4gICAgICBAaW5jbHVkZSBfcmlwcGxlLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuXG4gICAgJi5tYXQtd2FybiB7XG4gICAgICAkY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZShtYXAuZ2V0KCRjb25maWcsIHdhcm4pKTtcbiAgICAgIEBpbmNsdWRlIG1kYy1pY29uLWJ1dHRvbi10aGVtZS50aGVtZSgoaWNvbi1jb2xvcjogJGNvbG9yKSk7XG4gICAgICBAaW5jbHVkZSBfcmlwcGxlLWNvbG9yKCRjb2xvcik7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgYnV0dG9uLXRoZW1lLXByaXZhdGUuYXBwbHktZGlzYWJsZWQtc3R5bGUoKSB7XG4gICAgICAkZGlzYWJsZWQtY29sb3I6IHJnYmEoJG9uLXN1cmZhY2UsIGlmKCRpcy1kYXJrLCAwLjUsIDAuMzgpKTtcbiAgICAgIEBpbmNsdWRlIG1kYy1pY29uLWJ1dHRvbi10aGVtZS50aGVtZSgoXG4gICAgICAgIGljb24tY29sb3I6ICRkaXNhYmxlZC1jb2xvcixcbiAgICAgICAgZGlzYWJsZWQtaWNvbi1jb2xvcjogJGRpc2FibGVkLWNvbG9yLFxuICAgICAgKSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbn1cblxuQG1peGluIGRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogdGhlbWluZy5nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gIC8vIE1hbnVhbGx5IGFwcGx5IHRoZSBleHBlY3RlZCBkZW5zaXR5IHRoZW1pbmcsIGFuZCBpbmNsdWRlIHRoZSBwYWRkaW5nXG4gIC8vIGFzIGl0IHdhcyBhcHBsaWVkIGJlZm9yZVxuICAkY2FsY3VsYXRlZC1zaXplOiBtZGMtZGVuc2l0eS1mdW5jdGlvbnMucHJvcC12YWx1ZShcbiAgICAkZGVuc2l0eS1jb25maWc6IChcbiAgICAgIHNpemU6IChcbiAgICAgICAgZGVmYXVsdDogNDhweCxcbiAgICAgICAgbWF4aW11bTogNDhweCxcbiAgICAgICAgbWluaW11bTogMjhweCxcbiAgICAgICksXG4gICAgKSxcbiAgICAkZGVuc2l0eS1zY2FsZTogJGRlbnNpdHktc2NhbGUsXG4gICAgJHByb3BlcnR5LW5hbWU6IHNpemUsXG4gICk7XG5cbiAgLy8gVXNlIGBtYXQtbWRjLWJ1dHRvbi1iYXNlYCB0byBpbmNyZWFzZSB0aGUgc3BlY2lmaWNpdHkgb3ZlciB0aGUgYnV0dG9uJ3Mgc3RydWN0dXJhbCBzdHlsZXMuXG4gIC5tYXQtbWRjLWljb24tYnV0dG9uLm1hdC1tZGMtYnV0dG9uLWJhc2Uge1xuICAgIC8vIE1hdGNoIHRoZSBzdHlsZXMgdGhhdCB1c2VkIHRvIGJlIHByZXNlbnQuIFRoaXMgaXMgbmVjZXNzYXJ5IGZvciBiYWNrd2FyZHNcbiAgICAvLyBjb21wYXQgdG8gbWF0Y2ggdGhlIHByZXZpb3VzIGltcGxlbWVudGF0aW9ucyBzZWxlY3RvciBjb3VudCAodHdvIGNsYXNzZXMpLlxuICAgIEBpbmNsdWRlIG1kYy1pY29uLWJ1dHRvbi10aGVtZS50aGVtZSgoXG4gICAgICBzdGF0ZS1sYXllci1zaXplOiAkY2FsY3VsYXRlZC1zaXplLFxuICAgICkpO1xuXG4gICAgLy8gVE9ETzogU3dpdGNoIGNhbGN1bGF0ZWQtc2l6ZSB0byBcInZhcigtLW1kYy1pY29uLWJ1dHRvbi1zdGF0ZS1sYXllci1zaXplKVwiXG4gICAgLy8gQ3VycmVudGx5IGZhaWxzIHZhbGlkYXRpb24gYmVjYXVzZSB0aGUgdmFyaWFibGUgaXMgXCJ1bmRlZmluZWRcIlxuICAgIC8vIGluIHRoZSBzYXNzIHN0YWNrLlxuICAgIC8vIFRPRE86IFN3aXRjaCBpY29uLXNpemUgdG8gXCJ2YXIoLS1tZGMtaWNvbi1idXR0b24taWNvbi1zaXplKVwiLiBDdXJyZW50bHlcbiAgICAvLyBmYWlscyB2YWxpZGF0aW9uIGJlY2F1c2UgdGhlIHZhcmlhYmxlIGlzIFwidW5kZWZpbmVkXCIgaW4gdGhlIHNhc3Mgc3RhY2suXG4gICAgd2lkdGg6IHZhcigtLW1kYy1pY29uLWJ1dHRvbi1zdGF0ZS1sYXllci1zaXplKTtcbiAgICBoZWlnaHQ6IHZhcigtLW1kYy1pY29uLWJ1dHRvbi1zdGF0ZS1sYXllci1zaXplKTtcbiAgICBwYWRkaW5nOiBtYXRoLmRpdigkY2FsY3VsYXRlZC1zaXplIC0gJF9pY29uLXNpemUsIDIpO1xuXG4gICAgQGluY2x1ZGUgYnV0dG9uLXRoZW1lLXByaXZhdGUudG91Y2gtdGFyZ2V0LWRlbnNpdHkoJGRlbnNpdHktc2NhbGUpO1xuICB9XG59XG5cbkBtaXhpbiB0aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogdGhlbWluZy5wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIHRoZW1pbmcucHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1pY29uLWJ1dHRvbicpIHtcbiAgICAkY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiB0aGVtaW5nLmdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSB0eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cbiIsIi8vXG4vLyBDb3B5cmlnaHQgMjAyMCBHb29nbGUgSW5jLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbi8vIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4vLyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4vLyBUSEUgU09GVFdBUkUuXG4vL1xuXG4vLyBzdHlsZWxpbnQtZGlzYWJsZSBzZWxlY3Rvci1jbGFzcy1wYXR0ZXJuIC0tXG4vLyBOT1RFOiBXZSBkaXNhYmxlIGBzZWxlY3Rvci1jbGFzcy1wYXR0ZXJuYCBhYm92ZSB0byBhbGxvdyB1c2luZyBgbWRjLWAgY2xhc3Ncbi8vIHNlbGVjdG9ycy5cblxuQHVzZSAnc2FzczptYXAnO1xuQHVzZSAnc2FzczptYXRoJztcbkB1c2UgJ3Nhc3M6bGlzdCc7XG5AdXNlICdzYXNzOm1ldGEnO1xuQHVzZSAnQG1hdGVyaWFsL2FuaW1hdGlvbi9mdW5jdGlvbnMnO1xuQHVzZSAnQG1hdGVyaWFsL2NoZWNrYm94L2NoZWNrYm94LXRoZW1lJztcbkB1c2UgJ0BtYXRlcmlhbC9kZW5zaXR5L2RlbnNpdHknO1xuQHVzZSAnQG1hdGVyaWFsL2VsZXZhdGlvbi9taXhpbnMnO1xuQHVzZSAnQG1hdGVyaWFsL2ZlYXR1cmUtdGFyZ2V0aW5nL2ZlYXR1cmUtdGFyZ2V0aW5nJztcbkB1c2UgJ0BtYXRlcmlhbC9pY29uLWJ1dHRvbi9pY29uLWJ1dHRvbi10aGVtZSc7XG5AdXNlICdAbWF0ZXJpYWwvbGlzdC9ldm9sdXRpb24tbWl4aW5zJyBhcyBsaXN0LXRoZW1lO1xuQHVzZSAnQG1hdGVyaWFsL3J0bC9ydGwnO1xuQHVzZSAnQG1hdGVyaWFsL3NlbGVjdC9zZWxlY3QtdGhlbWUnO1xuQHVzZSAnQG1hdGVyaWFsL3NoYXBlL2Z1bmN0aW9ucycgYXMgc2hhcGUtZnVuY3Rpb25zO1xuQHVzZSAnQG1hdGVyaWFsL3NoYXBlL21peGlucycgYXMgc2hhcGUtbWl4aW5zO1xuQHVzZSAnQG1hdGVyaWFsL3RoZW1lL2tleXMnO1xuQHVzZSAnQG1hdGVyaWFsL3RoZW1lL3RoZW1lJztcbkB1c2UgJ0BtYXRlcmlhbC90aGVtZS90aGVtZS1jb2xvcic7XG5AdXNlICdAbWF0ZXJpYWwvdG9rZW5zL3YwXzEzMicgYXMgdG9rZW5zO1xuQHVzZSAnQG1hdGVyaWFsL3RvdWNoLXRhcmdldC90b3VjaC10YXJnZXQnO1xuQHVzZSAnQG1hdGVyaWFsL3R5cG9ncmFwaHkvdHlwb2dyYXBoeSc7XG5cbiRmaWxsLWNvbG9yOiBzdXJmYWNlICFkZWZhdWx0O1xuJGhlYWRlci1yb3ctZmlsbC1jb2xvcjogc3VyZmFjZSAhZGVmYXVsdDtcbiRyb3ctZmlsbC1jb2xvcjogaW5oZXJpdCAhZGVmYXVsdDtcbiRzZWxlY3RlZC1yb3ctZmlsbC1jb2xvcjogcmdiYSh0aGVtZS1jb2xvci5wcm9wLXZhbHVlKHByaW1hcnkpLCAwLjA0KSAhZGVmYXVsdDtcbiRjaGVja2VkLWljb24tY29sb3I6IHByaW1hcnkgIWRlZmF1bHQ7XG4kZGl2aWRlci1jb2xvcjogcmdiYSh0aGVtZS1jb2xvci5wcm9wLXZhbHVlKG9uLXN1cmZhY2UpLCAwLjEyKSAhZGVmYXVsdDtcbiRkaXZpZGVyLXNpemU6IDFweCAhZGVmYXVsdDtcbiRyb3ctaG92ZXItZmlsbC1jb2xvcjogcmdiYSh0aGVtZS1jb2xvci5wcm9wLXZhbHVlKG9uLXN1cmZhY2UpLCAwLjA0KSAhZGVmYXVsdDtcblxuJGhlYWRlci1yb3ctdGV4dC1jb2xvcjogcmdiYSh0aGVtZS1jb2xvci5wcm9wLXZhbHVlKG9uLXN1cmZhY2UpLCAwLjg3KSAhZGVmYXVsdDtcbiRyb3ctdGV4dC1jb2xvcjogcmdiYSh0aGVtZS1jb2xvci5wcm9wLXZhbHVlKG9uLXN1cmZhY2UpLCAwLjg3KSAhZGVmYXVsdDtcblxuJHNvcnQtaWNvbi1jb2xvcjogcmdiYSh0aGVtZS1jb2xvci5wcm9wLXZhbHVlKG9uLXN1cmZhY2UpLCAwLjYpICFkZWZhdWx0O1xuJHNvcnQtaWNvbi1hY3RpdmUtY29sb3I6IHJnYmEoXG4gIHRoZW1lLWNvbG9yLnByb3AtdmFsdWUob24tc3VyZmFjZSksXG4gIDAuODdcbikgIWRlZmF1bHQ7XG4kc29ydC1pY29uLWRlbnNpdHktc2NhbGU6IC01ICFkZWZhdWx0O1xuXG4kc2hhcGUtcmFkaXVzOiBtZWRpdW0gIWRlZmF1bHQ7XG4kc3Ryb2tlLXNpemU6IDFweCAhZGVmYXVsdDtcbiRzdHJva2UtY29sb3I6IHJnYmEodGhlbWUtY29sb3IucHJvcC12YWx1ZShvbi1zdXJmYWNlKSwgMC4xMikgIWRlZmF1bHQ7XG5cbiRyb3ctaGVpZ2h0OiA1MnB4ICFkZWZhdWx0O1xuJGhlYWRlci1yb3ctaGVpZ2h0OiBnZXQtaGVhZGVyLXJvdy1oZWlnaHQoJHJvdy1oZWlnaHQpICFkZWZhdWx0O1xuJGNlbGwtbGVhZGluZy1wYWRkaW5nOiAxNnB4ICFkZWZhdWx0O1xuJGNlbGwtdHJhaWxpbmctcGFkZGluZzogMTZweCAhZGVmYXVsdDtcblxuJG1pbmltdW0tcm93LWhlaWdodDogMzZweCAhZGVmYXVsdDtcbiRtYXhpbXVtLXJvdy1oZWlnaHQ6ICRyb3ctaGVpZ2h0ICFkZWZhdWx0O1xuJGRlZmF1bHQtZGVuc2l0eS1zY2FsZTogZGVuc2l0eS4kZGVmYXVsdC1zY2FsZSAhZGVmYXVsdDtcbiRkZW5zaXR5LWNvbmZpZzogKFxuICBoZWlnaHQ6IChcbiAgICBtYXhpbXVtOiAkcm93LWhlaWdodCxcbiAgICBkZWZhdWx0OiAkcm93LWhlaWdodCxcbiAgICBtaW5pbXVtOiAkbWluaW11bS1yb3ctaGVpZ2h0LFxuICApLFxuKTtcbiRwYWdpbmF0aW9uLXJvd3MtcGVyLXBhZ2Utc2VsZWN0LWhlaWdodDogMzZweDtcblxuJGxpZ2h0LXRoZW1lOiB0b2tlbnMubWQtY29tcC1kYXRhLXRhYmxlLXZhbHVlcygpO1xuXG5AZnVuY3Rpb24gcmVtb3ZlLXVuc3VwcG9ydGVkLWtleXMoJHRoZW1lKSB7XG4gICR0aGVtZTogbWFwLnJlbW92ZShcbiAgICAkdGhlbWUsXG4gICAgKFxuICAgICAgLy8gVE9ETyhiLzI1NDM1NjU4NCk6IFdlIGRvbid0IHNldCBwYWdpbmF0aW9uIGJhY2tncm91bmQtY29sb3IuXG4gICAgICAnZm9vdGVyLWNvbnRhaW5lci1jb2xvcicsXG4gICAgICAvLyBUT0RPKGIvMjU0MzU2NTg0KTogU2VsZWN0IGRvZXNuJ3QgaGF2ZSBUaGVtaW5nIEFQSSBzdXBwb3J0IHlldC5cbiAgICAgICdmb290ZXItb3V0bGluZWQtc2VsZWN0LXRleHQtZmllbGQtY29udGFpbmVyLWhlaWdodCcsXG4gICAgICAvLyBUT0RPKGIvMjU0MzU2NTg0KTogV2UgZG9uJ3QgYWRkIGhvdmVyIHN0eWxlcyBvbiBoZWFkZXIuXG4gICAgICAnaGVhZGVyLWhvdmVyLWhlYWRsaW5lLWNvbG9yJyxcbiAgICAgIC8vIFRPRE8oYi8yNTQzNTY1ODQpOiBXZSBkb24ndCBhZGQgaG92ZXIgc3R5bGVzIG9uIGhlYWRlci5cbiAgICAgICdoZWFkZXItaG92ZXItc29ydGluZy1pY29uLWJ1dHRvbi1jb2xvcicsXG4gICAgICAvLyBUT0RPKGIvMjU0MzU2NTg0KTogV2UgZG9uJ3Qgc3VwcG9ydCBkaXNhYmxlZCByb3dzLlxuICAgICAgJ3Jvdy1pdGVtLWRpc2FibGVkLWxhYmVsLXRleHQtY29sb3InLFxuICAgICAgLy8gVE9ETyhiLzI1NDM1NjU4NCk6IFdlIGRvbid0IHN1cHBvcnQgZGlzYWJsZWQgcm93cy5cbiAgICAgICdyb3ctaXRlbS1kaXNhYmxlZC1sYWJlbC10ZXh0LW9wYWNpdHknLFxuICAgICAgLy8gVE9ETyhiLzI1NDM1NjU4NCk6IFdlIGRvbid0IGFkZCBob3ZlciBzdHlsZXMgb24gc2VsZWN0ZWQgcm93cy5cbiAgICAgICdyb3ctaXRlbS1zZWxlY3RlZC1ob3Zlci1zdGF0ZS1sYXllci1jb2xvcicsXG4gICAgICAvLyBUT0RPKGIvMjU0MzU2NTg0KTogV2UgZG9uJ3QgYWRkIGhvdmVyIHN0eWxlcyBvbiBzZWxlY3RlZCByb3dzLlxuICAgICAgJ3Jvdy1pdGVtLXNlbGVjdGVkLWhvdmVyLXN0YXRlLWxheWVyLW9wYWNpdHknLFxuICAgICAgLy8gVE9ETyhiLzI1NDM1NjU4NCk6IFdlIGRvbid0IGhhdmUgc3RhdGUgbGF5ZXJzIG9uIHJvd3MuXG4gICAgICAncm93LWl0ZW0tdW5zZWxlY3RlZC1ob3Zlci1zdGF0ZS1sYXllci1jb2xvcidcbiAgICAgICAgLy8gVE9ETyhiLzI1NDM1NjU4NCk6IFdlIGRvbid0IGhhdmUgc3RhdGUgbGF5ZXJzIG9uIHJvd3MuXG4gICAgICAncm93LWl0ZW0tdW5zZWxlY3RlZC1ob3Zlci1zdGF0ZS1sYXllci1vcGFjaXR5J1xuICAgIClcbiAgKTtcbiAgQHJldHVybiAkdGhlbWU7XG59XG5cbiRfdmFsaWRhdGlvbi10aGVtZTogcmVtb3ZlLXVuc3VwcG9ydGVkLWtleXMoJGxpZ2h0LXRoZW1lKTtcblxuJGN1c3RvbS1wcm9wZXJ0eS1wcmVmaXg6ICdkYXRhLXRhYmxlJztcblxuQG1peGluIHRoZW1lKCR0aGVtZSkge1xuICBAaW5jbHVkZSB0aGVtZS52YWxpZGF0ZS10aGVtZSgkX3ZhbGlkYXRpb24tdGhlbWUsICR0aGVtZSk7XG4gIEBpbmNsdWRlIGtleXMuZGVjbGFyZS1jdXN0b20tcHJvcGVydGllcygkdGhlbWUsICRjdXN0b20tcHJvcGVydHktcHJlZml4KTtcbn1cblxuQG1peGluIHRoZW1lLXN0eWxlcygkdGhlbWUsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtY29sb3I6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBjb2xvcik7XG4gICRmZWF0LXN0cnVjdHVyZTogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIHN0cnVjdHVyZSk7XG4gICRmZWF0LXR5cG9ncmFwaHk6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCB0eXBvZ3JhcGh5KTtcblxuICBAaW5jbHVkZSB0aGVtZS52YWxpZGF0ZS10aGVtZS1zdHlsZXMoJF92YWxpZGF0aW9uLXRoZW1lLCAkdGhlbWUpO1xuICAkdGhlbWU6IGtleXMuY3JlYXRlLXRoZW1lLXByb3BlcnRpZXMoJHRoZW1lLCAkY3VzdG9tLXByb3BlcnR5LXByZWZpeCk7XG5cbiAgLy8vLy8vLy8vLy9cbiAgLy8gVGFibGUgLy9cbiAgLy8vLy8vLy8vLy9cblxuICBAaW5jbHVkZSBzaGFwZS1yYWRpdXMobWFwLmdldCgkdGhlbWUsICdjb250YWluZXItc2hhcGUnKSwgJHF1ZXJ5OiAkcXVlcnkpO1xuICBAaW5jbHVkZSBzdHJva2UtY29sb3IobWFwLmdldCgkdGhlbWUsICdvdXRsaW5lLWNvbG9yJyksICRxdWVyeTogJHF1ZXJ5KTtcbiAgQGluY2x1ZGUgc3Ryb2tlLXNpemUobWFwLmdldCgkdGhlbWUsICdvdXRsaW5lLXdpZHRoJyksICRxdWVyeTogJHF1ZXJ5KTtcblxuICAvLy8vLy8vLy8vLy9cbiAgLy8gSGVhZGVyIC8vXG4gIC8vLy8vLy8vLy8vL1xuXG4gIEBpbmNsdWRlIGhlYWRlci1yb3ctZmlsbC1jb2xvcihcbiAgICBtYXAuZ2V0KCR0aGVtZSwgJ2hlYWRlci1jb250YWluZXItY29sb3InKSxcbiAgICAkcXVlcnk6ICRxdWVyeVxuICApO1xuICBAaW5jbHVkZSBoZWFkZXItcm93LWhlaWdodChcbiAgICBtYXAuZ2V0KCR0aGVtZSwgJ2hlYWRlci1jb250YWluZXItaGVpZ2h0JyksXG4gICAgJHF1ZXJ5OiAkcXVlcnlcbiAgKTtcbiAgQGluY2x1ZGUgaGVhZGVyLXJvdy10ZXh0LWNvbG9yKFxuICAgIG1hcC5nZXQoJHRoZW1lLCAnaGVhZGVyLWhlYWRsaW5lLWNvbG9yJyksXG4gICAgJHF1ZXJ5OiAkcXVlcnlcbiAgKTtcbiAgLm1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbCB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC10eXBvZ3JhcGh5KSB7XG4gICAgICAkZm9udDogbWFwLmdldCgkdGhlbWUsICdoZWFkZXItaGVhZGxpbmUtZm9udCcpO1xuICAgICAgJGxpbmUtaGVpZ2h0OiBtYXAuZ2V0KCR0aGVtZSwgJ2hlYWRlci1oZWFkbGluZS1saW5lLWhlaWdodCcpO1xuICAgICAgJHNpemU6IG1hcC5nZXQoJHRoZW1lLCAnaGVhZGVyLWhlYWRsaW5lLXNpemUnKTtcbiAgICAgICR0cmFja2luZzogbWFwLmdldCgkdGhlbWUsICdoZWFkZXItaGVhZGxpbmUtdHJhY2tpbmcnKTtcbiAgICAgICR3ZWlnaHQ6IG1hcC5nZXQoJHRoZW1lLCAnaGVhZGVyLWhlYWRsaW5lLXdlaWdodCcpO1xuXG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnZm9udC1mYW1pbHknLCAkZm9udCk7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnbGluZS1oZWlnaHQnLCAkbGluZS1oZWlnaHQpO1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoJ2ZvbnQtc2l6ZScsICRzaXplKTtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KCdsZXR0ZXItc3BhY2luZycsICR0cmFja2luZyk7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnZm9udC13ZWlnaHQnLCAkd2VpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvLy8vLy8vLy8vXG4gIC8vIFJvd3MgLy9cbiAgLy8vLy8vLy8vL1xuXG4gIC8vIFNlcGFyYXRlZCBiZWNhdXNlIHJvdy1oZWlnaHQoKSBzZXRzIG1pbi1oZWlnaHQgb24gcGFnaW5hdGlvblxuICAubWRjLWRhdGEtdGFibGVfX3JvdyB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KFxuICAgICAgICAnaGVpZ2h0JyxcbiAgICAgICAgbWFwLmdldCgkdGhlbWUsICdyb3ctaXRlbS1jb250YWluZXItaGVpZ2h0JylcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIC5tZGMtZGF0YS10YWJsZV9fY2VsbCB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC10eXBvZ3JhcGh5KSB7XG4gICAgICAkZm9udDogbWFwLmdldCgkdGhlbWUsICdyb3ctaXRlbS1sYWJlbC10ZXh0LWZvbnQnKTtcbiAgICAgICRsaW5lLWhlaWdodDogbWFwLmdldCgkdGhlbWUsICdyb3ctaXRlbS1sYWJlbC10ZXh0LWxpbmUtaGVpZ2h0Jyk7XG4gICAgICAkc2l6ZTogbWFwLmdldCgkdGhlbWUsICdyb3ctaXRlbS1sYWJlbC10ZXh0LXNpemUnKTtcbiAgICAgICR0cmFja2luZzogbWFwLmdldCgkdGhlbWUsICdyb3ctaXRlbS1sYWJlbC10ZXh0LXRyYWNraW5nJyk7XG4gICAgICAkd2VpZ2h0OiBtYXAuZ2V0KCR0aGVtZSwgJ3Jvdy1pdGVtLWxhYmVsLXRleHQtd2VpZ2h0Jyk7XG5cbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KCdmb250LWZhbWlseScsICRmb250KTtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KCdsaW5lLWhlaWdodCcsICRsaW5lLWhlaWdodCk7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnZm9udC1zaXplJywgJHNpemUpO1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoJ2xldHRlci1zcGFjaW5nJywgJHRyYWNraW5nKTtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KCdmb250LXdlaWdodCcsICR3ZWlnaHQpO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtY29sb3IpIHtcbiAgICAgIC8vIFNlcGFyYXRlZCBiZWNhdXNlIHJvdy10ZXh0LWNvbG9yKCkgYWxzbyBzZXRzIGNvbG9yIG9uIHBhZ2luYXRpb24gdGV4dFxuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoXG4gICAgICAgICdjb2xvcicsXG4gICAgICAgIG1hcC5nZXQoJHRoZW1lLCAncm93LWl0ZW0tbGFiZWwtdGV4dC1jb2xvcicpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICAubWRjLWRhdGEtdGFibGVfX2NlbGwsXG4gIC5tZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtY29sb3IpIHtcbiAgICAgIC8vIFNlcGFyYXRlZCBiZWNhdXNlIGRpdmlkZXItY29sb3IoKSBhbHNvIHNldHMgY29sb3Igb24gcGFnaW5hdGlvbiBzZWxlY3RcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KFxuICAgICAgICAnYm9yZGVyLWJvdHRvbS1jb2xvcicsXG4gICAgICAgIG1hcC5nZXQoJHRoZW1lLCAncm93LWl0ZW0tb3V0bGluZS1jb2xvcicpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICAubWRjLWRhdGEtdGFibGVfX3BhZ2luYXRpb24ge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtY29sb3IpIHtcbiAgICAgIC8vIFNlcGFyYXRlZCBiZWNhdXNlIGRpdmlkZXItY29sb3IoKSBhbHNvIHNldHMgY29sb3Igb24gcGFnaW5hdGlvbiBzZWxlY3RcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KFxuICAgICAgICAnYm9yZGVyLXRvcC1jb2xvcicsXG4gICAgICAgIG1hcC5nZXQoJHRoZW1lLCAncm93LWl0ZW0tb3V0bGluZS1jb2xvcicpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBAaW5jbHVkZSBkaXZpZGVyLXNpemUoXG4gICAgbWFwLmdldCgkdGhlbWUsICdyb3ctaXRlbS1vdXRsaW5lLXdpZHRoJyksXG4gICAgJHF1ZXJ5OiAkcXVlcnlcbiAgKTtcbiAgQGluY2x1ZGUgcm93LWZpbGwtY29sb3IoXG4gICAgbWFwLmdldCgkdGhlbWUsICdyb3ctaXRlbS11bnNlbGVjdGVkLWNvbnRhaW5lci1jb2xvcicpLFxuICAgICRxdWVyeTogJHF1ZXJ5XG4gICk7XG4gIEBpbmNsdWRlIHNlbGVjdGVkLXJvdy1maWxsLWNvbG9yKFxuICAgIG1hcC5nZXQoJHRoZW1lLCAncm93LWl0ZW0tc2VsZWN0ZWQtY29udGFpbmVyLWNvbG9yJyksXG4gICAgJHF1ZXJ5OiAkcXVlcnlcbiAgKTtcblxuICAvLy8vLy8vLy8vLy9cbiAgLy8gRm9vdGVyIC8vXG4gIC8vLy8vLy8vLy8vL1xuXG4gIC5tZGMtZGF0YS10YWJsZV9fcGFnaW5hdGlvbiB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC10eXBvZ3JhcGh5KSB7XG4gICAgICAkZm9udDogbWFwLmdldCgkdGhlbWUsICdmb290ZXItc3VwcG9ydGluZy10ZXh0LWZvbnQnKTtcbiAgICAgICRsaW5lLWhlaWdodDogbWFwLmdldCgkdGhlbWUsICdmb290ZXItc3VwcG9ydGluZy10ZXh0LWxpbmUtaGVpZ2h0Jyk7XG4gICAgICAkc2l6ZTogbWFwLmdldCgkdGhlbWUsICdmb290ZXItc3VwcG9ydGluZy10ZXh0LXNpemUnKTtcbiAgICAgICR0cmFja2luZzogbWFwLmdldCgkdGhlbWUsICdmb290ZXItc3VwcG9ydGluZy10ZXh0LXRyYWNraW5nJyk7XG4gICAgICAkd2VpZ2h0OiBtYXAuZ2V0KCR0aGVtZSwgJ2Zvb3Rlci1zdXBwb3J0aW5nLXRleHQtd2VpZ2h0Jyk7XG5cbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KCdmb250LWZhbWlseScsICRmb250KTtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KCdsaW5lLWhlaWdodCcsICRsaW5lLWhlaWdodCk7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnZm9udC1zaXplJywgJHNpemUpO1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoJ2xldHRlci1zcGFjaW5nJywgJHRyYWNraW5nKTtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KCdmb250LXdlaWdodCcsICR3ZWlnaHQpO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICAvLyBTZXBhcmF0ZWQgYmVjYXVzZSByb3ctaGVpZ2h0KCkgYWxzbyBzZXRzIGhlaWdodCBvbiByb3dcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KFxuICAgICAgICAnbWluLWhlaWdodCcsXG4gICAgICAgIG1hcC5nZXQoJHRoZW1lLCAnZm9vdGVyLWNvbnRhaW5lci1oZWlnaHQnKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgLm1kYy1kYXRhLXRhYmxlX19wYWdpbmF0aW9uLXRvdGFsLFxuICAubWRjLWRhdGEtdGFibGVfX3BhZ2luYXRpb24tcm93cy1wZXItcGFnZS1sYWJlbCB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgICAgLy8gU2VwYXJhdGVkIGJlY2F1c2Ugcm93LXRleHQtY29sb3IoKSBhbHNvIHNldHMgY29sb3Igb24gcm93IHRleHRcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KFxuICAgICAgICAnY29sb3InLFxuICAgICAgICBtYXAuZ2V0KCR0aGVtZSwgJ2Zvb3Rlci1zdXBwb3J0aW5nLXRleHQtY29sb3InKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuQGZ1bmN0aW9uIGdldC1oZWFkZXItcm93LWhlaWdodCgkaGVpZ2h0KSB7XG4gIEByZXR1cm4gJGhlaWdodCArIDRweDtcbn1cblxuLy8vIFNldHMgdGhlIGNvbG9yIG9mIHNvcnQgaWNvbiBidXR0b24gd2hlbiBpdCBpcyBpbiBpZGxlIHN0YXRlLlxuLy8vIChpY29uIHNob3dlZCBvbiBoZWFkZXIgY2VsbCBmb2N1cylcbi8vLyBAcGFyYW0ge1N0cmluZ30gJGNvbG9yIC0gQ29sb3Igb2Ygc29ydCBpY29uIGJ1dHRvblxuQG1peGluIHNvcnQtaWNvbi1jb2xvcigkY29sb3IsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtY29sb3I6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBjb2xvcik7XG5cbiAgLm1kYy1kYXRhLXRhYmxlX19zb3J0LWljb24tYnV0dG9uIHtcbiAgICBAaW5jbHVkZSBpY29uLWJ1dHRvbi10aGVtZS5pbmstY29sb3IoJGNvbG9yLCAkcXVlcnk6ICRxdWVyeSk7XG4gIH1cbn1cblxuLy8vIFNldHMgdGhlIGNvbG9yIG9mIHNvcnQgaWNvbiBidXR0b24gd2hlbiBpdCBpcyBhY3RpdmF0ZWQgKHNvcnRlZCkuXG4vLy8gQHBhcmFtIHtTdHJpbmd9ICRjb2xvciAtIENvbG9yIG9mIHNvcnQgaWNvbiBidXR0b25cbkBtaXhpbiBzb3J0LWljb24tYWN0aXZlLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1jb2xvcjogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIGNvbG9yKTtcblxuICAubWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsLS1zb3J0ZWQgLm1kYy1kYXRhLXRhYmxlX19zb3J0LWljb24tYnV0dG9uIHtcbiAgICBAaW5jbHVkZSBpY29uLWJ1dHRvbi10aGVtZS5pbmstY29sb3IoJGNvbG9yLCAkcXVlcnk6ICRxdWVyeSk7XG4gIH1cbn1cblxuQG1peGluIGZpbGwtY29sb3IoJGNvbG9yLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LWNvbG9yOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgY29sb3IpO1xuXG4gIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtY29sb3IpIHtcbiAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnYmFja2dyb3VuZC1jb2xvcicsICRjb2xvcik7XG4gIH1cbn1cblxuQG1peGluIGhlYWRlci1yb3ctZmlsbC1jb2xvcigkY29sb3IsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtY29sb3I6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBjb2xvcik7XG5cbiAgLy8gU2V0IGJhY2tncm91bmQgY29sb3IgdG8gY2VsbCBpbnN0ZWFkIG9mIHJvdyB0byBzdXBwb3J0IHN0aWNreSBoZWFkZXIuXG4gIC5tZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtY29sb3IpIHtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KCdiYWNrZ3JvdW5kLWNvbG9yJywgJGNvbG9yKTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIHJvdy1maWxsLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1jb2xvcjogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIGNvbG9yKTtcblxuICAubWRjLWRhdGEtdGFibGVfX3JvdyB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InLCAkY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gc2VsZWN0ZWQtcm93LWZpbGwtY29sb3IoJGNvbG9yLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LWNvbG9yOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgY29sb3IpO1xuXG4gIC5tZGMtZGF0YS10YWJsZV9fcm93LS1zZWxlY3RlZCB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InLCAkY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gY2hlY2tlZC1pY29uLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAubWRjLWRhdGEtdGFibGVfX2hlYWRlci1yb3ctY2hlY2tib3gsXG4gIC5tZGMtZGF0YS10YWJsZV9fcm93LWNoZWNrYm94IHtcbiAgICBAaW5jbHVkZSBjaGVja2JveC10aGVtZS5mb2N1cy1pbmRpY2F0b3ItY29sb3IoJGNvbG9yLCAkcXVlcnk6ICRxdWVyeSk7XG4gICAgQGluY2x1ZGUgY2hlY2tib3gtdGhlbWUuY29udGFpbmVyLWNvbG9ycyhcbiAgICAgICRtYXJrZWQtc3Ryb2tlLWNvbG9yOiAkY29sb3IsXG4gICAgICAkbWFya2VkLWZpbGwtY29sb3I6ICRjb2xvcixcbiAgICAgICRxdWVyeTogJHF1ZXJ5XG4gICAgKTtcbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIGRpdmlkZXIgY29sb3Igb2YgZGF0YSB0YWJsZSAoaW5jbHVkaW5nIG91dGxpbmUgY29sb3Igb2Ygcm93cyBwZXIgcGFnZVxuLy8vIHNlbGVjdCkuIFVzZSBgc3Ryb2tlLWNvbG9yKClgIHRvIHNldCB0YWJsZSBib3JkZXIgY29sb3IuXG4vLy8gQHBhcmFtIHtDb2xvcn0gJGNvbG9yIERpdmlkZXIgY29sb3IuXG4vLy9cbkBtaXhpbiBkaXZpZGVyLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1jb2xvcjogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIGNvbG9yKTtcblxuICAubWRjLWRhdGEtdGFibGVfX3BhZ2luYXRpb24tcm93cy1wZXItcGFnZS1zZWxlY3QtLW91dGxpbmVkIHtcbiAgICBAaW5jbHVkZSBzZWxlY3QtdGhlbWUub3V0bGluZS1jb2xvcigkY29sb3IsICRxdWVyeTogJHF1ZXJ5KTtcbiAgfVxuXG4gIC5tZGMtZGF0YS10YWJsZV9fY2VsbCxcbiAgLm1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbCB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoJ2JvcmRlci1ib3R0b20tY29sb3InLCAkY29sb3IpO1xuICAgIH1cbiAgfVxuXG4gIC5tZGMtZGF0YS10YWJsZV9fcGFnaW5hdGlvbiB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoJ2JvcmRlci10b3AtY29sb3InLCAkY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gZGl2aWRlci1zaXplKCRzaXplLCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LXN0cnVjdHVyZTogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIHN0cnVjdHVyZSk7XG5cbiAgLm1kYy1kYXRhLXRhYmxlX19jZWxsLFxuICAubWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoJ2JvcmRlci1ib3R0b20td2lkdGgnLCAkc2l6ZSk7XG4gICAgICBib3JkZXItYm90dG9tLXN0eWxlOiBzb2xpZDtcbiAgICB9XG4gIH1cblxuICAubWRjLWRhdGEtdGFibGVfX3BhZ2luYXRpb24ge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnYm9yZGVyLXRvcC13aWR0aCcsICRzaXplKTtcbiAgICAgIGJvcmRlci10b3Atc3R5bGU6IHNvbGlkO1xuICAgIH1cbiAgfVxuXG4gIC5tZGMtZGF0YS10YWJsZV9fcm93Omxhc3QtY2hpbGQgLm1kYy1kYXRhLXRhYmxlX19jZWxsIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIHJvdy1ob3Zlci1maWxsLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1jb2xvcjogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIGNvbG9yKTtcblxuICAubWRjLWRhdGEtdGFibGVfX3Jvdzpub3QoLm1kYy1kYXRhLXRhYmxlX19yb3ctLXNlbGVjdGVkKTpob3ZlciB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1jb2xvcikge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InLCAkY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gaGVhZGVyLXJvdy10ZXh0LWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1jb2xvcjogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIGNvbG9yKTtcblxuICAubWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LWNvbG9yKSB7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnY29sb3InLCAkY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIHJvdyB0ZXh0IGNvbG9yIChpbmNsdWRpbmcgcGFnaW5hdGlvbiByb3cgdGV4dCkuXG4vLy8gQHBhcmFtIHtDb2xvcn0gJGNvbG9yIFJvdyB0ZXh0IGNvbG9yXG4vLy9cbkBtaXhpbiByb3ctdGV4dC1jb2xvcigkY29sb3IsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtY29sb3I6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBjb2xvcik7XG5cbiAgLm1kYy1kYXRhLXRhYmxlX19wYWdpbmF0aW9uLXRvdGFsLFxuICAubWRjLWRhdGEtdGFibGVfX3BhZ2luYXRpb24tcm93cy1wZXItcGFnZS1sYWJlbCxcbiAgLm1kYy1kYXRhLXRhYmxlX19jZWxsIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LWNvbG9yKSB7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnY29sb3InLCAkY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIHJvdW5kZWQgc2hhcGUgcmFkaXVzIHRvIGRhdGEgdGFibGUuXG4vLy8gQHBhcmFtIHtOdW1iZXJ8TGlzdH0gJHJhZGl1cyAtIFNoYXBlIHJhZGl1cyBpbiBgYm9yZGVyLXJhZGl1c2AgQ1NTIGZvcm1hdC5cbi8vLyBAcGFyYW0ge0Jvb2xlYW59ICRydGwtcmVmbGV4aXZlIC0gU2V0IHRvIGB0cnVlYCB0byBmbGlwIHJhZGl1cyBjb3JuZXJzIGluXG4vLy8gICAgIFJUTCBjb250ZXh0LlxuLy8vXG5AbWl4aW4gc2hhcGUtcmFkaXVzKFxuICAkcmFkaXVzLFxuICAkcnRsLXJlZmxleGl2ZTogZmFsc2UsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICAkZmVhdC1zdHJ1Y3R1cmU6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBzdHJ1Y3R1cmUpO1xuXG4gIEBpbmNsdWRlIHNoYXBlLW1peGlucy5yYWRpdXMoJHJhZGl1cywgJHJ0bC1yZWZsZXhpdmUsICRxdWVyeTogJHF1ZXJ5KTtcblxuICAvLyBBcHBseSBzYW1lIGJvcmRlciByYWRpdXMgYXMgcGFyZW50IHRvIGxlYWRpbmcvdHJhaWxpbmcgaGVhZGVyIGNlbGxzLFxuICAvLyBhbmQgbGVhZGluZy90cmFpbGluZyBjZWxscyBvZiBsYXN0IHJvdy5cbiAgLy8gQ2VsbHMgdGhhdCBoYXZlIGV4cGxpY2l0IGJhY2tncm91bmQgY29sb3IgYXBwbGllZCByZXF1aXJlIGJvcmRlclxuICAvLyByYWRpdXMgdG8gdGFrZSB0aGUgcGFyZW50cycgcm91bmRlZCBzaGFwZS5cbiAgJGJvcmRlci1yYWRpdXM6IHNoYXBlLWZ1bmN0aW9ucy51bnBhY2stcmFkaXVzKCRyYWRpdXMpO1xuICAkdG9wLWxlZnQtcmFkaXVzOiBzaGFwZS1mdW5jdGlvbnMucmVzb2x2ZS1yYWRpdXMobGlzdC5udGgoJGJvcmRlci1yYWRpdXMsIDEpKTtcbiAgJHRvcC1yaWdodC1yYWRpdXM6IHNoYXBlLWZ1bmN0aW9ucy5yZXNvbHZlLXJhZGl1cyhcbiAgICBsaXN0Lm50aCgkYm9yZGVyLXJhZGl1cywgMilcbiAgKTtcbiAgJGJvdHRvbS1yaWdodC1yYWRpdXM6IHNoYXBlLWZ1bmN0aW9ucy5yZXNvbHZlLXJhZGl1cyhcbiAgICBsaXN0Lm50aCgkYm9yZGVyLXJhZGl1cywgMylcbiAgKTtcbiAgJGJvdHRvbS1sZWZ0LXJhZGl1czogc2hhcGUtZnVuY3Rpb25zLnJlc29sdmUtcmFkaXVzKFxuICAgIGxpc3QubnRoKCRib3JkZXItcmFkaXVzLCA0KVxuICApO1xuXG4gIC5tZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGw6Zmlyc3QtY2hpbGQge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShib3JkZXItdG9wLWxlZnQtcmFkaXVzLCAkdG9wLWxlZnQtcmFkaXVzKTtcblxuICAgICAgQGluY2x1ZGUgcnRsLnJ0bCB7XG4gICAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KFxuICAgICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzLFxuICAgICAgICAgIGlmKCRydGwtcmVmbGV4aXZlLCAkdG9wLWxlZnQtcmFkaXVzLCAkdG9wLXJpZ2h0LXJhZGl1cylcbiAgICAgICAgKTtcblxuICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC5tZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGw6bGFzdC1jaGlsZCB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KGJvcmRlci10b3AtcmlnaHQtcmFkaXVzLCAkdG9wLXJpZ2h0LXJhZGl1cyk7XG5cbiAgICAgIEBpbmNsdWRlIHJ0bC5ydGwge1xuICAgICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShcbiAgICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzLFxuICAgICAgICAgIGlmKCRydGwtcmVmbGV4aXZlLCAkdG9wLXJpZ2h0LXJhZGl1cywgJHRvcC1sZWZ0LXJhZGl1cylcbiAgICAgICAgKTtcblxuICAgICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAmLm1kYy1kYXRhLXRhYmxlLS13aXRob3V0LWZvb3RlclxuICAgIC5tZGMtZGF0YS10YWJsZV9fcm93Omxhc3QtY2hpbGRcbiAgICAubWRjLWRhdGEtdGFibGVfX2NlbGw6Zmlyc3QtY2hpbGQge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eShib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzLCAkYm90dG9tLWxlZnQtcmFkaXVzKTtcblxuICAgICAgQGluY2x1ZGUgcnRsLnJ0bCB7XG4gICAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KFxuICAgICAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzLFxuICAgICAgICAgIGlmKCRydGwtcmVmbGV4aXZlLCAkYm90dG9tLWxlZnQtcmFkaXVzLCAkYm90dG9tLXJpZ2h0LXJhZGl1cylcbiAgICAgICAgKTtcblxuICAgICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICYubWRjLWRhdGEtdGFibGUtLXdpdGhvdXQtZm9vdGVyXG4gICAgLm1kYy1kYXRhLXRhYmxlX19yb3c6bGFzdC1jaGlsZFxuICAgIC5tZGMtZGF0YS10YWJsZV9fY2VsbDpsYXN0LWNoaWxkIHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXMsICRib3R0b20tcmlnaHQtcmFkaXVzKTtcblxuICAgICAgQGluY2x1ZGUgcnRsLnJ0bCB7XG4gICAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KFxuICAgICAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMsXG4gICAgICAgICAgaWYoJHJ0bC1yZWZsZXhpdmUsICRib3R0b20tcmlnaHQtcmFkaXVzLCAkYm90dG9tLWxlZnQtcmFkaXVzKVxuICAgICAgICApO1xuXG4gICAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gc3Ryb2tlLXNpemUoJHNpemUsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtc3RydWN0dXJlOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgc3RydWN0dXJlKTtcblxuICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KCdib3JkZXItd2lkdGgnLCAkc2l6ZSk7XG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgfVxufVxuXG5AbWl4aW4gc3Ryb2tlLWNvbG9yKCRjb2xvciwgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKSkge1xuICAkZmVhdC1jb2xvcjogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIGNvbG9yKTtcblxuICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LWNvbG9yKSB7XG4gICAgQGluY2x1ZGUgdGhlbWUucHJvcGVydHkoJ2JvcmRlci1jb2xvcicsICRjb2xvcik7XG4gIH1cbn1cblxuQG1peGluIGhlYWRlci1yb3ctaGVpZ2h0KCRoZWlnaHQsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtc3RydWN0dXJlOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgc3RydWN0dXJlKTtcblxuICAubWRjLWRhdGEtdGFibGVfX2hlYWRlci1yb3cge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnaGVpZ2h0JywgJGhlaWdodCk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiByb3ctaGVpZ2h0KCRoZWlnaHQsICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKCkpIHtcbiAgJGZlYXQtc3RydWN0dXJlOiBmZWF0dXJlLXRhcmdldGluZy5jcmVhdGUtdGFyZ2V0KCRxdWVyeSwgc3RydWN0dXJlKTtcblxuICAubWRjLWRhdGEtdGFibGVfX3JvdyB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgIEBpbmNsdWRlIHRoZW1lLnByb3BlcnR5KCdoZWlnaHQnLCAkaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAubWRjLWRhdGEtdGFibGVfX3BhZ2luYXRpb24ge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICBAaW5jbHVkZSB0aGVtZS5wcm9wZXJ0eSgnbWluLWhlaWdodCcsICRoZWlnaHQpO1xuICAgIH1cbiAgfVxufVxuXG4vLy9cbi8vLyBTZXRzIGNlbGwgcGFkZGluZyBpbmNsdWRpbmcgY2VsbCwgaGVhZGVyIGNlbGwsIHJvdyBjaGVja2JveCBjZWxsIGFuZCBoZWFkZXJcbi8vLyByb3cgY2hlY2tib3ggY2VsbC5cbi8vLyBAcGFyYW0ge051bWJlcn0gJGxlYWRpbmctcGFkZGluZyBbJGNlbGwtbGVhZGluZy1wYWRkaW5nXSBMZWFkaW5nIHBhZGRpbmcuXG4vLy8gQHBhcmFtIHtOdW1iZXJ9ICR0cmFpbGluZy1wYWRkaW5nIFskY2VsbC10cmFpbGluZy1wYWRkaW5nXSBUcmFpbGluZyBwYWRkaW5nLlxuLy8vIEBwYXJhbSB7TnVtYmVyfSAkY2hlY2tib3gtdG91Y2gtc2l6ZSBbJGNoZWNrYm94LXRvdWNoLXNpemVdIENoZWNrYm94IFRvdWNoXG4vLy8gICAgIFNpemUuIFVzZSB0aGlzIHRvIGFkanVzdCByb3cgY2hlY2tib3ggY2VsbCBsZWFkaW5nIHBhZGRpbmcgYmFzZWQgb25cbi8vLyAgICAgY2hlY2tib3ggZGVuc2l0eSBzY2FsZS5cbi8vLyBAcGFyYW0ge051bWJlcn0gJHJvdy1jaGVja2JveC1kZW5zaXR5LXNjYWxlIFtudWxsXSBEZW5zaXR5IHNjYWxlIG9mIHJvd1xuLy8vICAgICBjaGVja2JveC4gVXNlIHRoaXMgdG8gYWRqdXN0IGFsaWdubWVudCBvZiByb3cgY2hlY2tib3ggd2l0aGluIGEgY2VsbC5cbi8vLyAgICAgSWdub3JlIGlmIGRhdGEgdGFibGUncyBkZW5zaXR5IHNjYWxlIGlzIDAuXG4vLy8gICAgIFNlZSBgY2hlY2tib3gtdGhlbWUuZGVuc2l0eSgpYCBtaXhpbiBmb3Igc3VwcG9ydGVkIGRlbnNpdHkgc2NhbGVzLlxuLy8vXG5AbWl4aW4gY2VsbC1wYWRkaW5nKFxuICAkbGVhZGluZy1wYWRkaW5nOiAkY2VsbC1sZWFkaW5nLXBhZGRpbmcsXG4gICR0cmFpbGluZy1wYWRkaW5nOiAkY2VsbC10cmFpbGluZy1wYWRkaW5nLFxuICAkcm93LWNoZWNrYm94LWRlbnNpdHktc2NhbGU6IG51bGwsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICAkZmVhdC1zdHJ1Y3R1cmU6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBzdHJ1Y3R1cmUpO1xuXG4gIC5tZGMtZGF0YS10YWJsZV9fY2VsbCxcbiAgLm1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbCB7XG4gICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgIHBhZGRpbmc6IDAgJHRyYWlsaW5nLXBhZGRpbmcgMCAkbGVhZGluZy1wYWRkaW5nO1xuICAgIH1cbiAgfVxuXG4gIEBpbmNsdWRlIGNoZWNrYm94LWNlbGwtcGFkZGluZyhcbiAgICAkbGVhZGluZy1wYWRkaW5nOiAkbGVhZGluZy1wYWRkaW5nLFxuICAgICRyb3ctY2hlY2tib3gtZGVuc2l0eS1zY2FsZTogJHJvdy1jaGVja2JveC1kZW5zaXR5LXNjYWxlLFxuICAgICRxdWVyeTogJHF1ZXJ5XG4gICk7XG59XG5cbi8vL1xuLy8vIFNldHMgb25seSByb3cgY2hlY2tib3ggY2VsbCBhbmQgaGVhZGVyIHJvdyBjaGVja2JveCBjZWxsIGxlYWRpbmcgcGFkZGluZy5cbi8vLyBVc2UgYGNlbGwtcGFkZGluZygpYCB0byBzZXQgYWxsIGNlbGwncyBwYWRkaW5nLlxuLy8vIEBwYXJhbSB7TnVtYmVyfSAkbGVhZGluZy1wYWRkaW5nIFskY2VsbC1sZWFkaW5nLXBhZGRpbmddIExlYWRpbmcgcGFkZGluZy5cbi8vLyBAcGFyYW0ge051bWJlcn0gJGNoZWNrYm94LXRvdWNoLXNpemUgWyRjaGVja2JveC10b3VjaC1zaXplXSBDaGVja2JveCBUb3VjaFxuLy8vICAgICBTaXplLiBVc2UgdGhpcyB0byBhZGp1c3Qgcm93IGNoZWNrYm94IGNlbGwgbGVhZGluZyBwYWRkaW5nIGJhc2VkIG9uXG4vLy8gICAgIGNoZWNrYm94IGRlbnNpdHkgc2NhbGUuXG4vLy8gQHBhcmFtIHtOdW1iZXJ9ICRyb3ctY2hlY2tib3gtZGVuc2l0eS1zY2FsZSBbbnVsbF0gRGVuc2l0eSBzY2FsZSBvZiByb3dcbi8vLyAgICAgY2hlY2tib3guIFVzZSB0aGlzIHRvIGFkanVzdCBhbGlnbm1lbnQgb2Ygcm93IGNoZWNrYm94IHdpdGhpbiBhIGNlbGwuXG4vLy8gICAgIElnbm9yZSBpZiBkYXRhIHRhYmxlJ3MgZGVuc2l0eSBzY2FsZSBpcyAwLlxuLy8vICAgICBTZWUgYGNoZWNrYm94LXRoZW1lLmRlbnNpdHkoKWAgbWl4aW4gZm9yIHN1cHBvcnRlZCBkZW5zaXR5IHNjYWxlcy5cbi8vL1xuQG1peGluIGNoZWNrYm94LWNlbGwtcGFkZGluZyhcbiAgJGxlYWRpbmctcGFkZGluZzogJGNlbGwtbGVhZGluZy1wYWRkaW5nLFxuICAkcm93LWNoZWNrYm94LWRlbnNpdHktc2NhbGU6IG51bGwsXG4gICRxdWVyeTogZmVhdHVyZS10YXJnZXRpbmcuYWxsKClcbikge1xuICAkZmVhdC1zdHJ1Y3R1cmU6IGZlYXR1cmUtdGFyZ2V0aW5nLmNyZWF0ZS10YXJnZXQoJHF1ZXJ5LCBzdHJ1Y3R1cmUpO1xuXG4gIC5tZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwtLWNoZWNrYm94LFxuICAubWRjLWRhdGEtdGFibGVfX2NlbGwtLWNoZWNrYm94IHtcbiAgICBAaW5jbHVkZSBmZWF0dXJlLXRhcmdldGluZy50YXJnZXRzKCRmZWF0LXN0cnVjdHVyZSkge1xuICAgICAgLy8gRGlzdGFuY2UgZnJvbSBsZWFkaW5nIGNlbGwgYm91bmQgdG8gY2hlY2tib3gncyBpY29uIGJvdW5kIHNob3VsZCBiZVxuICAgICAgLy8gMTZkcCAoYCRsZWFkaW5nLXBhZGRpbmdgKS4gQ2FsY3VsYXRlIHJlcXVpcmVkIHBhZGRpbmcgZXhjbHVkaW5nXG4gICAgICAvLyBjaGVja2JveCBib3VuZHMuXG4gICAgICAkY2hlY2tib3gtaWNvbi1zaXplOiAyNHB4O1xuICAgICAgJGNoZWNrYm94LXRvdWNoLXNpemU6IHRvdWNoLXRhcmdldC4kaGVpZ2h0O1xuICAgICAgQGlmICRyb3ctY2hlY2tib3gtZGVuc2l0eS1zY2FsZSBhbmQgJHJvdy1jaGVja2JveC1kZW5zaXR5LXNjYWxlIDwgMCB7XG4gICAgICAgICRjaGVja2JveC10b3VjaC1zaXplOiBjaGVja2JveC10aGVtZS5nZXQtcmlwcGxlLXNpemUoXG4gICAgICAgICAgJHJvdy1jaGVja2JveC1kZW5zaXR5LXNjYWxlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAkbGVhZGluZy1wYWRkaW5nOiAkbGVhZGluZy1wYWRkaW5nIC1cbiAgICAgICAgbWF0aC5kaXYoJGNoZWNrYm94LXRvdWNoLXNpemUgLSAkY2hlY2tib3gtaWNvbi1zaXplLCAyKTtcbiAgICAgIEBpbmNsdWRlIHJ0bC5yZWZsZXhpdmUtcHJvcGVydHkocGFkZGluZywgJGxlYWRpbmctcGFkZGluZywgMCk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBjb2x1bW4td2lkdGhzKCR3aWR0aC1saXN0LCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LXN0cnVjdHVyZTogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIHN0cnVjdHVyZSk7XG5cbiAgQGZvciAkaSBmcm9tIDEgdGhyb3VnaCBsaXN0Lmxlbmd0aCgkd2lkdGgtbGlzdCkge1xuICAgIC5tZGMtZGF0YS10YWJsZV9fcm93ID4gOm50aC1jaGlsZCgjeyRpfSkge1xuICAgICAgQGluY2x1ZGUgZmVhdHVyZS10YXJnZXRpbmcudGFyZ2V0cygkZmVhdC1zdHJ1Y3R1cmUpIHtcbiAgICAgICAgd2lkdGg6IGxpc3QubnRoKCR3aWR0aC1saXN0LCAkaSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vL1xuLy8vIFNldHMgZGVuc2l0eSBzY2FsZSBmb3IgZGF0YSB0YWJsZS4gVXNlIGNvcnJlc3BvbmRpbmcgZGVuc2l0eSBtaXhpbnMgb2YgY2hpbGQgY29tcG9uZW50cyAoc3VjaCBhcyBDaGVja2JveCkgdG8gYXBwbHlcbi8vLyBkZW5zaXR5IHNjYWxlcyB3aGljaCB3aWxsIGJlIHJlbmRlcmVkIGluc2lkZSBkYXRhIHRhYmxlLlxuLy8vXG4vLy8gQHBhcmFtIHtOdW1iZXIgfCBTdHJpbmd9ICRkZW5zaXR5LXNjYWxlIC0gRGVuc2l0eSBzY2FsZSB2YWx1ZSBmb3IgY29tcG9uZW50LiBTdXBwb3J0ZWQgZGVuc2l0eSBzY2FsZSB2YWx1ZXMgYC00YCxcbi8vLyAgICAgYC0zYCwgYC0yYCwgYC0xYCwgYDBgLlxuLy8vIEBwYXJhbSB7TnVtYmVyfSAkcm93LWNoZWNrYm94LWRlbnNpdHktc2NhbGUgW251bGxdIERlbnNpdHkgc2NhbGUgb2Ygcm93XG4vLy8gICAgIGNoZWNrYm94LiBVc2UgdGhpcyB0byBzZXQgZGVuc2l0eSBvZiByb3cgY2hlY2tib3ggYW5kIGFsc29cbi8vLyAgICAgYXV0b21hdGljYWxseSBhZGp1c3QgdGhlIGFsaWdubWVudCBvZiByb3cgY2hlY2tib3ggd2l0aGluIGEgY2VsbC5cbi8vLyAgICAgU2VlIGBjaGVja2JveC5kZW5zaXR5KClgIG1peGluIGZvciBzdXBwb3J0ZWQgZGVuc2l0eSBzY2FsZXMuXG4vLy9cbkBtaXhpbiBkZW5zaXR5KFxuICAkZGVuc2l0eS1zY2FsZSxcbiAgJHJvdy1jaGVja2JveC1kZW5zaXR5LXNjYWxlOiBudWxsLFxuICAkcGFnaW5hdGlvbi1zZWxlY3QtZGVuc2l0eS1zY2FsZTogbnVsbCxcbiAgJHF1ZXJ5OiBmZWF0dXJlLXRhcmdldGluZy5hbGwoKVxuKSB7XG4gICRoZWlnaHQ6IGRlbnNpdHkucHJvcC12YWx1ZShcbiAgICAkZGVuc2l0eS1jb25maWc6ICRkZW5zaXR5LWNvbmZpZyxcbiAgICAkZGVuc2l0eS1zY2FsZTogJGRlbnNpdHktc2NhbGUsXG4gICAgJHByb3BlcnR5LW5hbWU6IGhlaWdodCxcbiAgKTtcblxuICBAaW5jbHVkZSByb3ctaGVpZ2h0KCRoZWlnaHQsICRxdWVyeTogJHF1ZXJ5KTtcbiAgQGluY2x1ZGUgaGVhZGVyLXJvdy1oZWlnaHQoZ2V0LWhlYWRlci1yb3ctaGVpZ2h0KCRoZWlnaHQpLCAkcXVlcnk6ICRxdWVyeSk7XG5cbiAgQGlmICRyb3ctY2hlY2tib3gtZGVuc2l0eS1zY2FsZSB7XG4gICAgQGluY2x1ZGUgY2hlY2tib3gtY2VsbC1wYWRkaW5nKFxuICAgICAgJGxlYWRpbmctcGFkZGluZzogJGNlbGwtbGVhZGluZy1wYWRkaW5nLFxuICAgICAgJHJvdy1jaGVja2JveC1kZW5zaXR5LXNjYWxlOiAkcm93LWNoZWNrYm94LWRlbnNpdHktc2NhbGUsXG4gICAgICAkcXVlcnk6ICRxdWVyeVxuICAgICk7XG5cbiAgICAubWRjLWRhdGEtdGFibGVfX2hlYWRlci1yb3ctY2hlY2tib3gsXG4gICAgLm1kYy1kYXRhLXRhYmxlX19yb3ctY2hlY2tib3gge1xuICAgICAgQGluY2x1ZGUgY2hlY2tib3gtdGhlbWUuZGVuc2l0eSgkcm93LWNoZWNrYm94LWRlbnNpdHktc2NhbGUpO1xuICAgIH1cbiAgfVxuXG4gIEBpZiAkcGFnaW5hdGlvbi1zZWxlY3QtZGVuc2l0eS1zY2FsZSB7XG4gICAgQGluY2x1ZGUgc2VsZWN0LWRlbnNpdHkoJHBhZ2luYXRpb24tc2VsZWN0LWRlbnNpdHktc2NhbGUpO1xuICB9XG59XG5cbkBtaXhpbiBzZWxlY3QtZGVuc2l0eSgkZGVuc2l0eS1zY2FsZSkge1xuICBAaW5jbHVkZSBzZWxlY3QtdGhlbWUub3V0bGluZWQtaGVpZ2h0KFxuICAgIHNlbGVjdC10aGVtZS4kaGVpZ2h0ICsgZGVuc2l0eS4kaW50ZXJ2YWwgKiAkZGVuc2l0eS1zY2FsZVxuICApO1xuICAubWRjLWxpc3QtaXRlbSB7XG4gICAgQGluY2x1ZGUgbGlzdC10aGVtZS5vbmUtbGluZS1pdGVtLWRlbnNpdHkoXG4gICAgICAkZGVuc2l0eS1zY2FsZSArIDIsXG4gICAgICAkZXhjbHVkZS12YXJpYW50czogdHJ1ZVxuICAgICk7XG4gIH1cblxuICBtYXJnaW46IDA7XG59XG5cbi8vL1xuLy8vIFNldHMgbWF4aW11bSBoZWlnaHQgb2YgZGF0YSB0YWJsZS4gVXNlIHRoaXMgdG8gbWFrZSB0YWJsZSB2ZXJ0aWNhbGx5XG4vLy8gc2Nyb2xsYWJsZS5cbi8vLyBAcGFyYW0ge051bWJlcn0gJGhlaWdodFxuLy8vXG5AbWl4aW4gbWF4LWhlaWdodCgkaGVpZ2h0LCAkcXVlcnk6IGZlYXR1cmUtdGFyZ2V0aW5nLmFsbCgpKSB7XG4gICRmZWF0LXN0cnVjdHVyZTogZmVhdHVyZS10YXJnZXRpbmcuY3JlYXRlLXRhcmdldCgkcXVlcnksIHN0cnVjdHVyZSk7XG5cbiAgLm1kYy1kYXRhLXRhYmxlX190YWJsZS1jb250YWluZXIge1xuICAgIEBpbmNsdWRlIGZlYXR1cmUtdGFyZ2V0aW5nLnRhcmdldHMoJGZlYXQtc3RydWN0dXJlKSB7XG4gICAgICBtYXgtaGVpZ2h0OiAkaGVpZ2h0O1xuICAgIH1cbiAgfVxufVxuIiwiQHVzZSAnc2FzczptYXAnO1xuQHVzZSAnLi4vY29yZS9kZW5zaXR5L3ByaXZhdGUvY29tcGF0aWJpbGl0eSc7XG5AdXNlICcuLi9jb3JlL3RoZW1pbmcvdGhlbWluZyc7XG5AdXNlICcuLi9jb3JlL3N0eWxlL3ByaXZhdGUnO1xuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHknO1xuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHktdXRpbHMnO1xuQHVzZSAnLi9leHBhbnNpb24tdmFyaWFibGVzJztcbkB1c2UgJy4vZXhwYW5zaW9uLW1peGlucyc7XG5cbkBtaXhpbiBjb2xvcigkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGJhY2tncm91bmQ6IG1hcC5nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAuZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtZXhwYW5zaW9uLXBhbmVsIHtcbiAgICBAaW5jbHVkZSBwcml2YXRlLnByaXZhdGUtdGhlbWUtb3ZlcnJpZGFibGUtZWxldmF0aW9uKDIsICRjb25maWcpO1xuICAgIGJhY2tncm91bmQ6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkYmFja2dyb3VuZCwgY2FyZCk7XG4gICAgY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cblxuICAubWF0LWFjdGlvbi1yb3cge1xuICAgIGJvcmRlci10b3AtY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG4gIH1cblxuICBAaW5jbHVkZSBleHBhbnNpb24tbWl4aW5zLnByaXZhdGUtZXhwYW5zaW9uLWZvY3VzIHtcbiAgICBiYWNrZ3JvdW5kOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGJhY2tncm91bmQsIGhvdmVyKTtcbiAgfVxuXG4gIC8vIERpc2FibGUgdGhlIGhvdmVyIG9uIHRvdWNoIGRldmljZXMgc2luY2UgaXQgY2FuIGFwcGVhciBsaWtlIGl0IGlzIHN0dWNrLiBXZSBjYW4ndCB1c2VcbiAgLy8gYEBtZWRpYSAoaG92ZXIpYCBhYm92ZSwgYmVjYXVzZSB0aGUgZGVza3RvcCBzdXBwb3J0IGJyb3dzZXIgc3VwcG9ydCBpc24ndCBncmVhdC5cbiAgQG1lZGlhIChob3Zlcjogbm9uZSkge1xuICAgIC5tYXQtZXhwYW5zaW9uLXBhbmVsOm5vdCgubWF0LWV4cGFuZGVkKTpub3QoW2FyaWEtZGlzYWJsZWQ9J3RydWUnXSlcbiAgICAgIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGJhY2tncm91bmQsIGNhcmQpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlci10aXRsZSB7XG4gICAgY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkZm9yZWdyb3VuZCwgdGV4dCk7XG4gIH1cblxuICAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItZGVzY3JpcHRpb24sXG4gIC5tYXQtZXhwYW5zaW9uLWluZGljYXRvcjo6YWZ0ZXIge1xuICAgIGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgfVxuXG4gIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlclthcmlhLWRpc2FibGVkPSd0cnVlJ10ge1xuICAgIGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGZvcmVncm91bmQsIGRpc2FibGVkLWJ1dHRvbik7XG5cbiAgICAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItdGl0bGUsXG4gICAgLm1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLWRlc2NyaXB0aW9uIHtcbiAgICAgIGNvbG9yOiBpbmhlcml0O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHR5cG9ncmFwaHkucHJpdmF0ZS10eXBvZ3JhcGh5LXRvLTIwMTQtY29uZmlnKFxuICAgICAgdGhlbWluZy5nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSkpO1xuICAubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXIge1xuICAgIGZvbnQ6IHtcbiAgICAgIGZhbWlseTogdHlwb2dyYXBoeS11dGlscy5mb250LWZhbWlseSgkY29uZmlnLCBzdWJoZWFkaW5nLTEpO1xuICAgICAgc2l6ZTogdHlwb2dyYXBoeS11dGlscy5mb250LXNpemUoJGNvbmZpZywgc3ViaGVhZGluZy0xKTtcbiAgICAgIHdlaWdodDogdHlwb2dyYXBoeS11dGlscy5mb250LXdlaWdodCgkY29uZmlnLCBzdWJoZWFkaW5nLTEpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWNvbnRlbnQge1xuICAgIEBpbmNsdWRlIHR5cG9ncmFwaHktdXRpbHMudHlwb2dyYXBoeS1sZXZlbCgkY29uZmlnLCBib2R5LTEpO1xuICB9XG59XG5cbkBtaXhpbiBkZW5zaXR5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGRlbnNpdHktc2NhbGU6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZXhwYW5kZWQtaGVpZ2h0OiBjb21wYXRpYmlsaXR5LnByaXZhdGUtZGVuc2l0eS1wcm9wLXZhbHVlKFxuICAgICAgICBleHBhbnNpb24tdmFyaWFibGVzLiRoZWFkZXItZGVuc2l0eS1jb25maWcsICRkZW5zaXR5LXNjYWxlLCBleHBhbmRlZC1oZWlnaHQpO1xuICAkY29sbGFwc2VkLWhlaWdodDogY29tcGF0aWJpbGl0eS5wcml2YXRlLWRlbnNpdHktcHJvcC12YWx1ZShcbiAgICAgIGV4cGFuc2lvbi12YXJpYWJsZXMuJGhlYWRlci1kZW5zaXR5LWNvbmZpZywgJGRlbnNpdHktc2NhbGUsIGNvbGxhcHNlZC1oZWlnaHQpO1xuXG4gIEBpbmNsdWRlIGNvbXBhdGliaWxpdHkucHJpdmF0ZS1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICAgIC5tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlciB7XG4gICAgICBoZWlnaHQ6ICRjb2xsYXBzZWQtaGVpZ2h0O1xuXG4gICAgICAmLm1hdC1leHBhbmRlZCB7XG4gICAgICAgIGhlaWdodDogJGV4cGFuZGVkLWhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuQG1peGluIHRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpIHtcbiAgJHRoZW1lOiB0aGVtaW5nLnByaXZhdGUtbGVnYWN5LWdldC10aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKTtcbiAgQGluY2x1ZGUgdGhlbWluZy5wcml2YXRlLWNoZWNrLWR1cGxpY2F0ZS10aGVtZS1zdHlsZXMoJHRoZW1lLCAnbWF0LWV4cGFuc2lvbicpIHtcbiAgICAkY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiB0aGVtaW5nLmdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSB0eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cbiIsIkB1c2UgJ3Nhc3M6bWFwJztcbkB1c2UgJ3Nhc3M6bWF0aCc7XG5AdXNlICcuLi9jb3JlL3RoZW1pbmcvdGhlbWluZyc7XG5AdXNlICcuLi9jb3JlL3R5cG9ncmFwaHkvdHlwb2dyYXBoeSc7XG5AdXNlICcuLi9jb3JlL3R5cG9ncmFwaHkvdHlwb2dyYXBoeS11dGlscyc7XG5AdXNlICcuLi9jb3JlL2RlbnNpdHkvcHJpdmF0ZS9jb21wYXRpYmlsaXR5JztcbkB1c2UgJy4vc3RlcHBlci12YXJpYWJsZXMnO1xuXG5AbWl4aW4gY29sb3IoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiB0aGVtaW5nLmdldC1jb2xvci1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRmb3JlZ3JvdW5kOiBtYXAuZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuICAkYmFja2dyb3VuZDogbWFwLmdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJHByaW1hcnk6IG1hcC5nZXQoJGNvbmZpZywgcHJpbWFyeSk7XG4gICRhY2NlbnQ6IG1hcC5nZXQoJGNvbmZpZywgYWNjZW50KTtcbiAgJHdhcm46IG1hcC5nZXQoJGNvbmZpZywgd2Fybik7XG5cbiAgLm1hdC1zdGVwLWhlYWRlciB7XG4gICAgJi5jZGsta2V5Ym9hcmQtZm9jdXNlZCxcbiAgICAmLmNkay1wcm9ncmFtLWZvY3VzZWQsXG4gICAgJjpob3Zlcjpub3QoW2FyaWEtZGlzYWJsZWRdKSxcbiAgICAmOmhvdmVyW2FyaWEtZGlzYWJsZWQ9J2ZhbHNlJ10ge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRiYWNrZ3JvdW5kLCBob3Zlcik7XG4gICAgfVxuXG4gICAgJjpob3ZlclthcmlhLWRpc2FibGVkPSd0cnVlJ10ge1xuICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgIH1cblxuICAgIC8vIE9uIHRvdWNoIGRldmljZXMgdGhlIDpob3ZlciBzdGF0ZSB3aWxsIGxpbmdlciBvbiB0aGUgZWxlbWVudCBhZnRlciBhIHRhcC5cbiAgICAvLyBSZXNldCBpdCB2aWEgYEBtZWRpYWAgYWZ0ZXIgdGhlIGRlY2xhcmF0aW9uLCBiZWNhdXNlIHRoZSBtZWRpYSBxdWVyeSBpc24ndFxuICAgIC8vIHN1cHBvcnRlZCBieSBhbGwgYnJvd3NlcnMgeWV0LlxuICAgIEBtZWRpYSAoaG92ZXI6IG5vbmUpIHtcbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgfVxuICAgIH1cblxuICAgIC5tYXQtc3RlcC1sYWJlbCxcbiAgICAubWF0LXN0ZXAtb3B0aW9uYWwge1xuICAgICAgLy8gVE9ETyhqb3NlcGhwZXJyb3R0KTogVXBkYXRlIHRvIHVzaW5nIGEgY29ycmVjdGVkIGRpc2FibGVkLXRleHQgY29udHJhc3RcbiAgICAgIC8vIGluc3RlYWQgb2Ygc2Vjb25kYXJ5LXRleHQuXG4gICAgICBjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRmb3JlZ3JvdW5kLCBzZWNvbmRhcnktdGV4dCk7XG4gICAgfVxuXG4gICAgLm1hdC1zdGVwLWljb24ge1xuICAgICAgLy8gVE9ETyhqb3NlcGhwZXJyb3R0KTogVXBkYXRlIHRvIHVzaW5nIGEgY29ycmVjdGVkIGRpc2FibGVkLXRleHQgY29udHJhc3RcbiAgICAgIC8vIGluc3RlYWQgb2Ygc2Vjb25kYXJ5LXRleHQuXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcbiAgICAgIGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJHByaW1hcnksIGRlZmF1bHQtY29udHJhc3QpO1xuICAgIH1cblxuICAgIC5tYXQtc3RlcC1pY29uLXNlbGVjdGVkLFxuICAgIC5tYXQtc3RlcC1pY29uLXN0YXRlLWRvbmUsXG4gICAgLm1hdC1zdGVwLWljb24tc3RhdGUtZWRpdCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJHByaW1hcnkpO1xuICAgICAgY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkcHJpbWFyeSwgZGVmYXVsdC1jb250cmFzdCk7XG4gICAgfVxuXG4gICAgJi5tYXQtYWNjZW50IHtcbiAgICAgIC5tYXQtc3RlcC1pY29uIHtcbiAgICAgICAgY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkYWNjZW50LCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgICAgIH1cblxuICAgICAgLm1hdC1zdGVwLWljb24tc2VsZWN0ZWQsXG4gICAgICAubWF0LXN0ZXAtaWNvbi1zdGF0ZS1kb25lLFxuICAgICAgLm1hdC1zdGVwLWljb24tc3RhdGUtZWRpdCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkYWNjZW50KTtcbiAgICAgICAgY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkYWNjZW50LCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAmLm1hdC13YXJuIHtcbiAgICAgIC5tYXQtc3RlcC1pY29uIHtcbiAgICAgICAgY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkd2FybiwgZGVmYXVsdC1jb250cmFzdCk7XG4gICAgICB9XG5cbiAgICAgIC5tYXQtc3RlcC1pY29uLXNlbGVjdGVkLFxuICAgICAgLm1hdC1zdGVwLWljb24tc3RhdGUtZG9uZSxcbiAgICAgIC5tYXQtc3RlcC1pY29uLXN0YXRlLWVkaXQge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJHdhcm4pO1xuICAgICAgICBjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCR3YXJuLCBkZWZhdWx0LWNvbnRyYXN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAubWF0LXN0ZXAtaWNvbi1zdGF0ZS1lcnJvciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgIGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJHdhcm4sIHRleHQpO1xuICAgIH1cblxuICAgIC5tYXQtc3RlcC1sYWJlbC5tYXQtc3RlcC1sYWJlbC1hY3RpdmUge1xuICAgICAgY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkZm9yZWdyb3VuZCwgdGV4dCk7XG4gICAgfVxuXG4gICAgLm1hdC1zdGVwLWxhYmVsLm1hdC1zdGVwLWxhYmVsLWVycm9yIHtcbiAgICAgIGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJHdhcm4sIHRleHQpO1xuICAgIH1cbiAgfVxuXG4gIC5tYXQtc3RlcHBlci1ob3Jpem9udGFsLCAubWF0LXN0ZXBwZXItdmVydGljYWwge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkYmFja2dyb3VuZCwgY2FyZCk7XG4gIH1cblxuICAubWF0LXN0ZXBwZXItdmVydGljYWwtbGluZTo6YmVmb3JlIHtcbiAgICBib3JkZXItbGVmdC1jb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRmb3JlZ3JvdW5kLCBkaXZpZGVyKTtcbiAgfVxuXG4gIC5tYXQtaG9yaXpvbnRhbC1zdGVwcGVyLWhlYWRlcjo6YmVmb3JlLFxuICAubWF0LWhvcml6b250YWwtc3RlcHBlci1oZWFkZXI6OmFmdGVyLFxuICAubWF0LXN0ZXBwZXItaG9yaXpvbnRhbC1saW5lIHtcbiAgICBib3JkZXItdG9wLWNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGZvcmVncm91bmQsIGRpdmlkZXIpO1xuICB9XG59XG5cbkBtaXhpbiB0eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdHlwb2dyYXBoeS5wcml2YXRlLXR5cG9ncmFwaHktdG8tMjAxNC1jb25maWcoXG4gICAgICB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKSk7XG4gIC5tYXQtc3RlcHBlci12ZXJ0aWNhbCwgLm1hdC1zdGVwcGVyLWhvcml6b250YWwge1xuICAgIGZvbnQtZmFtaWx5OiB0eXBvZ3JhcGh5LXV0aWxzLmZvbnQtZmFtaWx5KCRjb25maWcpO1xuICB9XG5cbiAgLm1hdC1zdGVwLWxhYmVsIHtcbiAgICBmb250OiB7XG4gICAgICBzaXplOiB0eXBvZ3JhcGh5LXV0aWxzLmZvbnQtc2l6ZSgkY29uZmlnLCBib2R5LTEpO1xuICAgICAgd2VpZ2h0OiB0eXBvZ3JhcGh5LXV0aWxzLmZvbnQtd2VpZ2h0KCRjb25maWcsIGJvZHktMSk7XG4gICAgfTtcbiAgfVxuXG4gIC5tYXQtc3RlcC1zdWItbGFiZWwtZXJyb3Ige1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIH1cblxuICAubWF0LXN0ZXAtbGFiZWwtZXJyb3Ige1xuICAgIGZvbnQtc2l6ZTogdHlwb2dyYXBoeS11dGlscy5mb250LXNpemUoJGNvbmZpZywgYm9keS0yKTtcbiAgfVxuXG4gIC5tYXQtc3RlcC1sYWJlbC1zZWxlY3RlZCB7XG4gICAgZm9udDoge1xuICAgICAgc2l6ZTogdHlwb2dyYXBoeS11dGlscy5mb250LXNpemUoJGNvbmZpZywgYm9keS0yKTtcbiAgICAgIHdlaWdodDogdHlwb2dyYXBoeS11dGlscy5mb250LXdlaWdodCgkY29uZmlnLCBib2R5LTIpO1xuICAgIH07XG4gIH1cbn1cblxuQG1peGluIGRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogdGhlbWluZy5nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRoZWlnaHQ6IGNvbXBhdGliaWxpdHkucHJpdmF0ZS1kZW5zaXR5LXByb3AtdmFsdWUoc3RlcHBlci12YXJpYWJsZXMuJGRlbnNpdHktY29uZmlnLFxuICAgICRkZW5zaXR5LXNjYWxlLCBoZWlnaHQpO1xuICAkdmVydGljYWwtcGFkZGluZzogbWF0aC5kaXYoJGhlaWdodCAtIHN0ZXBwZXItdmFyaWFibGVzLiRsYWJlbC1oZWFkZXItaGVpZ2h0LCAyKTtcblxuICBAaW5jbHVkZSBjb21wYXRpYmlsaXR5LnByaXZhdGUtZGVuc2l0eS1sZWdhY3ktY29tcGF0aWJpbGl0eSgpIHtcbiAgICAubWF0LWhvcml6b250YWwtc3RlcHBlci1oZWFkZXIge1xuICAgICAgaGVpZ2h0OiAkaGVpZ2h0O1xuICAgIH1cblxuICAgIC5tYXQtc3RlcHBlci1sYWJlbC1wb3NpdGlvbi1ib3R0b20gLm1hdC1ob3Jpem9udGFsLXN0ZXBwZXItaGVhZGVyLFxuICAgIC5tYXQtdmVydGljYWwtc3RlcHBlci1oZWFkZXIge1xuICAgICAgcGFkZGluZzogJHZlcnRpY2FsLXBhZGRpbmcgc3RlcHBlci12YXJpYWJsZXMuJHNpZGUtZ2FwO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZXMgdGhhdCB0aGUgdmVydGljYWwgbGluZXMgZm9yIHRoZSBzdGVwIGNvbnRlbnQgZXhjZWVkIGludG8gdGhlIHN0ZXBcbiAgICAvLyBoZWFkZXJzIHdpdGggYSBnaXZlbiBkaXN0YW5jZSAoYCRtYXQtc3RlcHBlci1saW5lLWdhcGApIHRvIHRoZSBzdGVwIGljb24uXG4gICAgLm1hdC1zdGVwcGVyLXZlcnRpY2FsLWxpbmU6OmJlZm9yZSB7XG4gICAgICB0b3A6IHN0ZXBwZXItdmFyaWFibGVzLiRsaW5lLWdhcCAtICR2ZXJ0aWNhbC1wYWRkaW5nO1xuICAgICAgYm90dG9tOiBzdGVwcGVyLXZhcmlhYmxlcy4kbGluZS1nYXAgLSAkdmVydGljYWwtcGFkZGluZztcbiAgICB9XG5cbiAgICAvLyBFbnN1cmVzIHRoYXQgdGhlIGhvcml6b250YWwgbGluZXMgZm9yIHRoZSBzdGVwIGhlYWRlciBhcmUgY2VudGVyZWQgdmVydGljYWxseS5cbiAgICAubWF0LXN0ZXBwZXItbGFiZWwtcG9zaXRpb24tYm90dG9tIC5tYXQtaG9yaXpvbnRhbC1zdGVwcGVyLWhlYWRlciB7XG4gICAgICAmOjphZnRlciwgJjo6YmVmb3JlIHtcbiAgICAgICAgdG9wOiAkdmVydGljYWwtcGFkZGluZyArIG1hdGguZGl2KHN0ZXBwZXItdmFyaWFibGVzLiRsYWJlbC1oZWFkZXItaGVpZ2h0LCAyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFbnN1cmVzIHRoYXQgdGhlIGhvcml6b250YWwgbGluZSBmb3IgdGhlIHN0ZXAgY29udGVudCBpcyBhbGlnbmVkIGNlbnRlcmVkIHZlcnRpY2FsbHkuXG4gICAgLm1hdC1zdGVwcGVyLWxhYmVsLXBvc2l0aW9uLWJvdHRvbSAubWF0LXN0ZXBwZXItaG9yaXpvbnRhbC1saW5lIHtcbiAgICAgIHRvcDogJHZlcnRpY2FsLXBhZGRpbmcgKyBtYXRoLmRpdihzdGVwcGVyLXZhcmlhYmxlcy4kbGFiZWwtaGVhZGVyLWhlaWdodCwgMik7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogdGhlbWluZy5wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIHRoZW1pbmcucHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC1zdGVwcGVyJykge1xuICAgICRjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IHRoZW1pbmcuZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIHR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuIiwiQHVzZSAnc2FzczptYXAnO1xuQHVzZSAnLi4vY29yZS9kZW5zaXR5L3ByaXZhdGUvY29tcGF0aWJpbGl0eSc7XG5AdXNlICcuLi9jb3JlL3N0eWxlL3ZhcmlhYmxlcyc7XG5AdXNlICcuLi9jb3JlL3RoZW1pbmcvdGhlbWluZyc7XG5AdXNlICcuLi9jb3JlL3R5cG9ncmFwaHkvdHlwb2dyYXBoeSc7XG5AdXNlICcuLi9jb3JlL3R5cG9ncmFwaHkvdHlwb2dyYXBoeS11dGlscyc7XG5AdXNlICcuL3Rvb2xiYXItdmFyaWFibGVzJztcblxuQG1peGluIF9oZWlnaHQoJGhlaWdodCkge1xuICAubWF0LXRvb2xiYXItbXVsdGlwbGUtcm93cyB7XG4gICAgbWluLWhlaWdodDogJGhlaWdodDtcbiAgfVxuICAubWF0LXRvb2xiYXItcm93LCAubWF0LXRvb2xiYXItc2luZ2xlLXJvdyB7XG4gICAgaGVpZ2h0OiAkaGVpZ2h0O1xuICB9XG59XG5cbkBtaXhpbiBfcGFsZXR0ZS1zdHlsZXMoJHBhbGV0dGUpIHtcbiAgYmFja2dyb3VuZDogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRwYWxldHRlKTtcbiAgY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkcGFsZXR0ZSwgZGVmYXVsdC1jb250cmFzdCk7XG59XG5cbkBtaXhpbiBfZm9ybS1maWVsZC1vdmVycmlkZXMge1xuICAubWF0LWZvcm0tZmllbGQtdW5kZXJsaW5lLFxuICAubWF0LWZvcm0tZmllbGQtcmlwcGxlLFxuICAubWF0LWZvY3VzZWQgLm1hdC1mb3JtLWZpZWxkLXJpcHBsZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogY3VycmVudENvbG9yO1xuICB9XG5cbiAgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLFxuICAubWF0LWZvY3VzZWQgLm1hdC1mb3JtLWZpZWxkLWxhYmVsLFxuICAubWF0LXNlbGVjdC12YWx1ZSxcbiAgLm1hdC1zZWxlY3QtYXJyb3csXG4gIC5tYXQtZm9ybS1maWVsZC5tYXQtZm9jdXNlZCAubWF0LXNlbGVjdC1hcnJvdyB7XG4gICAgY29sb3I6IGluaGVyaXQ7XG4gIH1cblxuICAubWF0LWlucHV0LWVsZW1lbnQge1xuICAgIGNhcmV0LWNvbG9yOiBjdXJyZW50Q29sb3I7XG4gIH1cbn1cblxuQG1peGluIGNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkcHJpbWFyeTogbWFwLmdldCgkY29uZmlnLCBwcmltYXJ5KTtcbiAgJGFjY2VudDogbWFwLmdldCgkY29uZmlnLCBhY2NlbnQpO1xuICAkd2FybjogbWFwLmdldCgkY29uZmlnLCB3YXJuKTtcbiAgJGJhY2tncm91bmQ6IG1hcC5nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRmb3JlZ3JvdW5kOiBtYXAuZ2V0KCRjb25maWcsIGZvcmVncm91bmQpO1xuXG4gIC5tYXQtdG9vbGJhciB7XG4gICAgYmFja2dyb3VuZDogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRiYWNrZ3JvdW5kLCBhcHAtYmFyKTtcbiAgICBjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcblxuICAgICYubWF0LXByaW1hcnkge1xuICAgICAgQGluY2x1ZGUgX3BhbGV0dGUtc3R5bGVzKCRwcmltYXJ5KTtcbiAgICB9XG5cbiAgICAmLm1hdC1hY2NlbnQge1xuICAgICAgQGluY2x1ZGUgX3BhbGV0dGUtc3R5bGVzKCRhY2NlbnQpO1xuICAgIH1cblxuICAgICYubWF0LXdhcm4ge1xuICAgICAgQGluY2x1ZGUgX3BhbGV0dGUtc3R5bGVzKCR3YXJuKTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBfZm9ybS1maWVsZC1vdmVycmlkZXM7XG4gIH1cbn1cblxuQG1peGluIHR5cG9ncmFwaHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkY29uZmlnOiB0eXBvZ3JhcGh5LnByaXZhdGUtdHlwb2dyYXBoeS10by0yMDE0LWNvbmZpZyhcbiAgICAgIHRoZW1pbmcuZ2V0LXR5cG9ncmFwaHktY29uZmlnKCRjb25maWctb3ItdGhlbWUpKTtcbiAgLm1hdC10b29sYmFyLFxuICAubWF0LXRvb2xiYXIgaDEsXG4gIC5tYXQtdG9vbGJhciBoMixcbiAgLm1hdC10b29sYmFyIGgzLFxuICAubWF0LXRvb2xiYXIgaDQsXG4gIC5tYXQtdG9vbGJhciBoNSxcbiAgLm1hdC10b29sYmFyIGg2IHtcbiAgICBAaW5jbHVkZSB0eXBvZ3JhcGh5LXV0aWxzLnR5cG9ncmFwaHktbGV2ZWwoJGNvbmZpZywgdGl0bGUpO1xuICAgIG1hcmdpbjogMDtcbiAgfVxufVxuXG5AbWl4aW4gZGVuc2l0eSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRkZW5zaXR5LXNjYWxlOiB0aGVtaW5nLmdldC1kZW5zaXR5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKTtcbiAgJGhlaWdodC1kZXNrdG9wOiBjb21wYXRpYmlsaXR5LnByaXZhdGUtZGVuc2l0eS1wcm9wLXZhbHVlKFxuICAgICAgdG9vbGJhci12YXJpYWJsZXMuJGRlc2t0b3AtZGVuc2l0eS1jb25maWcsICRkZW5zaXR5LXNjYWxlLCBoZWlnaHQpO1xuICAkaGVpZ2h0LW1vYmlsZTogY29tcGF0aWJpbGl0eS5wcml2YXRlLWRlbnNpdHktcHJvcC12YWx1ZShcbiAgICAgIHRvb2xiYXItdmFyaWFibGVzLiRtb2JpbGUtZGVuc2l0eS1jb25maWcsICRkZW5zaXR5LXNjYWxlLCBoZWlnaHQpO1xuXG4gIEBpbmNsdWRlIGNvbXBhdGliaWxpdHkucHJpdmF0ZS1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICAgIC8vIFNldCB0aGUgZGVmYXVsdCBoZWlnaHQgZm9yIHRoZSB0b29sYmFyLlxuICAgIEBpbmNsdWRlIF9oZWlnaHQoJGhlaWdodC1kZXNrdG9wKTtcblxuICAgIC8vIEFzIHBlciBzcGVjcywgdG9vbGJhcnMgc2hvdWxkIGhhdmUgYSBkaWZmZXJlbnQgaGVpZ2h0IGluIG1vYmlsZSBkZXZpY2VzLiBUaGlzIGhhcyBiZWVuXG4gICAgLy8gc3BlY2lmaWVkIGluIHRoZSBvbGQgZ3VpZGVsaW5lcyBhbmQgaXMgc3RpbGwgb2JzZXJ2YWJsZSBpbiB0aGUgbmV3IHNwZWNpZmljYXRpb25zIGJ5XG4gICAgLy8gbG9va2luZyBhdCB0aGUgc3BlYyBpbWFnZXMuIFNlZTogaHR0cHM6Ly9tYXRlcmlhbC5pby9kZXNpZ24vY29tcG9uZW50cy9hcHAtYmFycy10b3AuaHRtbCNhbmF0b215XG4gICAgQG1lZGlhICh2YXJpYWJsZXMuJHhzbWFsbCkge1xuICAgICAgQGluY2x1ZGUgX2hlaWdodCgkaGVpZ2h0LW1vYmlsZSk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogdGhlbWluZy5wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIHRoZW1pbmcucHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC10b29sYmFyJykge1xuICAgICRjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IHRoZW1pbmcuZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIHR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuIiwiQHVzZSAnc2FzczptYXAnO1xuQHVzZSAnLi4vY29yZS9kZW5zaXR5L3ByaXZhdGUvY29tcGF0aWJpbGl0eSc7XG5AdXNlICcuLi9jb3JlL3RoZW1pbmcvdGhlbWluZyc7XG5AdXNlICcuLi9jb3JlL3R5cG9ncmFwaHkvdHlwb2dyYXBoeSc7XG5AdXNlICcuLi9jb3JlL3R5cG9ncmFwaHkvdHlwb2dyYXBoeS11dGlscyc7XG5AdXNlICcuL3RyZWUtdmFyaWFibGVzJztcblxuQG1peGluIGNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkYmFja2dyb3VuZDogbWFwLmdldCgkY29uZmlnLCBiYWNrZ3JvdW5kKTtcbiAgJGZvcmVncm91bmQ6IG1hcC5nZXQoJGNvbmZpZywgZm9yZWdyb3VuZCk7XG5cbiAgLm1hdC10cmVlIHtcbiAgICBiYWNrZ3JvdW5kOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGJhY2tncm91bmQsICdjYXJkJyk7XG4gIH1cblxuICAubWF0LXRyZWUtbm9kZSxcbiAgLm1hdC1uZXN0ZWQtdHJlZS1ub2RlIHtcbiAgICBjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcbiAgfVxufVxuXG5AbWl4aW4gdHlwb2dyYXBoeSgkY29uZmlnLW9yLXRoZW1lKSB7XG4gICRjb25maWc6IHR5cG9ncmFwaHkucHJpdmF0ZS10eXBvZ3JhcGh5LXRvLTIwMTQtY29uZmlnKFxuICAgICAgdGhlbWluZy5nZXQtdHlwb2dyYXBoeS1jb25maWcoJGNvbmZpZy1vci10aGVtZSkpO1xuICAubWF0LXRyZWUge1xuICAgIGZvbnQtZmFtaWx5OiB0eXBvZ3JhcGh5LXV0aWxzLmZvbnQtZmFtaWx5KCRjb25maWcpO1xuICB9XG5cbiAgLm1hdC10cmVlLW5vZGUsXG4gIC5tYXQtbmVzdGVkLXRyZWUtbm9kZSB7XG4gICAgZm9udC13ZWlnaHQ6IHR5cG9ncmFwaHktdXRpbHMuZm9udC13ZWlnaHQoJGNvbmZpZywgYm9keS0xKTtcbiAgICBmb250LXNpemU6IHR5cG9ncmFwaHktdXRpbHMuZm9udC1zaXplKCRjb25maWcsIGJvZHktMSk7XG4gIH1cbn1cblxuQG1peGluIGRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogdGhlbWluZy5nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRoZWlnaHQ6IGNvbXBhdGliaWxpdHkucHJpdmF0ZS1kZW5zaXR5LXByb3AtdmFsdWUodHJlZS12YXJpYWJsZXMuJGRlbnNpdHktY29uZmlnLFxuICAgICRkZW5zaXR5LXNjYWxlLCBoZWlnaHQpO1xuXG4gIEBpbmNsdWRlIGNvbXBhdGliaWxpdHkucHJpdmF0ZS1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICAgIC5tYXQtdHJlZS1ub2RlIHtcbiAgICAgIG1pbi1oZWlnaHQ6ICRoZWlnaHQ7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0aGVtZSgkdGhlbWUtb3ItY29sb3ItY29uZmlnKSB7XG4gICR0aGVtZTogdGhlbWluZy5wcml2YXRlLWxlZ2FjeS1nZXQtdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZyk7XG4gIEBpbmNsdWRlIHRoZW1pbmcucHJpdmF0ZS1jaGVjay1kdXBsaWNhdGUtdGhlbWUtc3R5bGVzKCR0aGVtZSwgJ21hdC10cmVlJykge1xuICAgICRjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCR0aGVtZSk7XG4gICAgJGRlbnNpdHk6IHRoZW1pbmcuZ2V0LWRlbnNpdHktY29uZmlnKCR0aGVtZSk7XG4gICAgJHR5cG9ncmFwaHk6IHRoZW1pbmcuZ2V0LXR5cG9ncmFwaHktY29uZmlnKCR0aGVtZSk7XG5cbiAgICBAaWYgJGNvbG9yICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgY29sb3IoJGNvbG9yKTtcbiAgICB9XG4gICAgQGlmICRkZW5zaXR5ICE9IG51bGwge1xuICAgICAgQGluY2x1ZGUgZGVuc2l0eSgkZGVuc2l0eSk7XG4gICAgfVxuICAgIEBpZiAkdHlwb2dyYXBoeSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIHR5cG9ncmFwaHkoJHR5cG9ncmFwaHkpO1xuICAgIH1cbiAgfVxufVxuXG4iLCJAdXNlICdzYXNzOm1hcCc7XG5AdXNlICcuLi9jb3JlL3N0eWxlL3ByaXZhdGUnO1xuQHVzZSAnLi4vY29yZS90aGVtaW5nL3RoZW1pbmcnO1xuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHknO1xuQHVzZSAnLi4vY29yZS90eXBvZ3JhcGh5L3R5cG9ncmFwaHktdXRpbHMnO1xuQHVzZSAnLi4vY29yZS9kZW5zaXR5L3ByaXZhdGUvY29tcGF0aWJpbGl0eSc7XG5AdXNlICcuL2J1dHRvbi10b2dnbGUtdmFyaWFibGVzJztcblxuQG1peGluIGNvbG9yKCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdGhlbWluZy5nZXQtY29sb3ItY29uZmlnKCRjb25maWctb3ItdGhlbWUpO1xuICAkZm9yZWdyb3VuZDogbWFwLmdldCgkY29uZmlnLCBmb3JlZ3JvdW5kKTtcbiAgJGJhY2tncm91bmQ6IG1hcC5nZXQoJGNvbmZpZywgYmFja2dyb3VuZCk7XG4gICRkaXZpZGVyLWNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGZvcmVncm91bmQsIGRpdmlkZXIpO1xuICAkdGhlbWUtZGl2aWRlci1jb2xvcjogbWFwLmdldCgkZm9yZWdyb3VuZCwgZGl2aWRlcik7XG5cbiAgLy8gQnkgZGVmYXVsdCB0aGUgdGhlbWUgdXN1YWxseSBoYXMgYW4gcmdiYSBjb2xvciBmb3IgdGhlIGRpdmlkZXJzLCB3aGljaCBjYW5cbiAgLy8gc3RhY2sgdXAgd2l0aCB0aGUgYmFja2dyb3VuZCBvZiBhIGJ1dHRvbiB0b2dnbGUuIFRoaXMgY2FuIGNhdXNlIHRoZSBib3JkZXJcbiAgLy8gb2YgYSBzZWxlY3RlZCB0b2dnbGUgdG8gbG9vayBkaWZmZXJlbnQgZnJvbSBhbiBkZXNlbGVjdGVkIG9uZS4gV2UgdXNlIGEgc29saWRcbiAgLy8gY29sb3IgdG8gZW5zdXJlIHRoYXQgdGhlIGJvcmRlciBhbHdheXMgc3RheXMgdGhlIHNhbWUuXG4gICRkaXZpZGVyLWNvbG9yOiBpZih0eXBlLW9mKCR0aGVtZS1kaXZpZGVyLWNvbG9yKSA9PSBjb2xvcixcbiAgICB0aGVtaW5nLnByaXZhdGUtcmdiYS10by1oZXgoJHRoZW1lLWRpdmlkZXItY29sb3IsIG1hcC5nZXQoJGJhY2tncm91bmQsIGNhcmQpKSxcbiAgICAkdGhlbWUtZGl2aWRlci1jb2xvclxuICApO1xuXG4gIC5tYXQtYnV0dG9uLXRvZ2dsZS1zdGFuZGFsb25lLFxuICAubWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXAge1xuICAgIEBpbmNsdWRlIHByaXZhdGUucHJpdmF0ZS10aGVtZS1vdmVycmlkYWJsZS1lbGV2YXRpb24oMiwgJGNvbmZpZyk7XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUtc3RhbmRhbG9uZS5tYXQtYnV0dG9uLXRvZ2dsZS1hcHBlYXJhbmNlLXN0YW5kYXJkLFxuICAubWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXAtYXBwZWFyYW5jZS1zdGFuZGFyZCB7XG4gICAgJjpub3QoW2NsYXNzKj0nbWF0LWVsZXZhdGlvbi16J10pIHtcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1idXR0b24tdG9nZ2xlIHtcbiAgICBjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRmb3JlZ3JvdW5kLCBoaW50LXRleHQpO1xuXG4gICAgLm1hdC1idXR0b24tdG9nZ2xlLWZvY3VzLW92ZXJsYXkge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRiYWNrZ3JvdW5kLCBmb2N1c2VkLWJ1dHRvbik7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1idXR0b24tdG9nZ2xlLWFwcGVhcmFuY2Utc3RhbmRhcmQge1xuICAgIGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGZvcmVncm91bmQsIHRleHQpO1xuICAgIGJhY2tncm91bmQ6IHRoZW1pbmcuZ2V0LWNvbG9yLWZyb20tcGFsZXR0ZSgkYmFja2dyb3VuZCwgY2FyZCk7XG5cbiAgICAubWF0LWJ1dHRvbi10b2dnbGUtZm9jdXMtb3ZlcmxheSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGJhY2tncm91bmQsIGZvY3VzZWQtYnV0dG9uLCAxKTtcbiAgICB9XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXAtYXBwZWFyYW5jZS1zdGFuZGFyZCAubWF0LWJ1dHRvbi10b2dnbGUgKyAubWF0LWJ1dHRvbi10b2dnbGUge1xuICAgIGJvcmRlci1sZWZ0OiBzb2xpZCAxcHggJGRpdmlkZXItY29sb3I7XG4gIH1cblxuICBbZGlyPSdydGwnXSAubWF0LWJ1dHRvbi10b2dnbGUtZ3JvdXAtYXBwZWFyYW5jZS1zdGFuZGFyZCAubWF0LWJ1dHRvbi10b2dnbGUgKyAubWF0LWJ1dHRvbi10b2dnbGUge1xuICAgIGJvcmRlci1sZWZ0OiBub25lO1xuICAgIGJvcmRlci1yaWdodDogc29saWQgMXB4ICRkaXZpZGVyLWNvbG9yO1xuICB9XG5cbiAgLm1hdC1idXR0b24tdG9nZ2xlLWdyb3VwLWFwcGVhcmFuY2Utc3RhbmRhcmQubWF0LWJ1dHRvbi10b2dnbGUtdmVydGljYWwge1xuICAgIC5tYXQtYnV0dG9uLXRvZ2dsZSArIC5tYXQtYnV0dG9uLXRvZ2dsZSB7XG4gICAgICBib3JkZXItbGVmdDogbm9uZTtcbiAgICAgIGJvcmRlci1yaWdodDogbm9uZTtcbiAgICAgIGJvcmRlci10b3A6IHNvbGlkIDFweCAkZGl2aWRlci1jb2xvcjtcbiAgICB9XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUtY2hlY2tlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRiYWNrZ3JvdW5kLCBzZWxlY3RlZC1idXR0b24pO1xuICAgIGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGZvcmVncm91bmQsIHNlY29uZGFyeS10ZXh0KTtcblxuICAgICYubWF0LWJ1dHRvbi10b2dnbGUtYXBwZWFyYW5jZS1zdGFuZGFyZCB7XG4gICAgICBjb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRmb3JlZ3JvdW5kLCB0ZXh0KTtcbiAgICB9XG4gIH1cblxuICAubWF0LWJ1dHRvbi10b2dnbGUtZGlzYWJsZWQge1xuICAgIGNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGZvcmVncm91bmQsIGRpc2FibGVkLWJ1dHRvbik7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdGhlbWluZy5nZXQtY29sb3ItZnJvbS1wYWxldHRlKCRiYWNrZ3JvdW5kLCBkaXNhYmxlZC1idXR0b24tdG9nZ2xlKTtcblxuICAgICYubWF0LWJ1dHRvbi10b2dnbGUtYXBwZWFyYW5jZS1zdGFuZGFyZCB7XG4gICAgICBiYWNrZ3JvdW5kOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGJhY2tncm91bmQsIGNhcmQpO1xuICAgIH1cblxuICAgICYubWF0LWJ1dHRvbi10b2dnbGUtY2hlY2tlZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0aGVtaW5nLmdldC1jb2xvci1mcm9tLXBhbGV0dGUoJGJhY2tncm91bmQsIHNlbGVjdGVkLWRpc2FibGVkLWJ1dHRvbik7XG4gICAgfVxuICB9XG5cbiAgLm1hdC1idXR0b24tdG9nZ2xlLXN0YW5kYWxvbmUubWF0LWJ1dHRvbi10b2dnbGUtYXBwZWFyYW5jZS1zdGFuZGFyZCxcbiAgLm1hdC1idXR0b24tdG9nZ2xlLWdyb3VwLWFwcGVhcmFuY2Utc3RhbmRhcmQge1xuICAgIGJvcmRlcjogc29saWQgMXB4ICRkaXZpZGVyLWNvbG9yO1xuICB9XG59XG5cbkBtaXhpbiB0eXBvZ3JhcGh5KCRjb25maWctb3ItdGhlbWUpIHtcbiAgJGNvbmZpZzogdHlwb2dyYXBoeS5wcml2YXRlLXR5cG9ncmFwaHktdG8tMjAxNC1jb25maWcoXG4gICAgICB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkY29uZmlnLW9yLXRoZW1lKSk7XG4gIC5tYXQtYnV0dG9uLXRvZ2dsZSB7XG4gICAgZm9udC1mYW1pbHk6IHR5cG9ncmFwaHktdXRpbHMuZm9udC1mYW1pbHkoJGNvbmZpZyk7XG4gIH1cbn1cblxuQG1peGluIGRlbnNpdHkoJGNvbmZpZy1vci10aGVtZSkge1xuICAkZGVuc2l0eS1zY2FsZTogdGhlbWluZy5nZXQtZGVuc2l0eS1jb25maWcoJGNvbmZpZy1vci10aGVtZSk7XG4gICRzdGFuZGFyZC1oZWlnaHQ6IGNvbXBhdGliaWxpdHkucHJpdmF0ZS1kZW5zaXR5LXByb3AtdmFsdWUoXG4gICAgICBidXR0b24tdG9nZ2xlLXZhcmlhYmxlcy4kc3RhbmRhcmQtZGVuc2l0eS1jb25maWcsICRkZW5zaXR5LXNjYWxlLCBoZWlnaHQpO1xuXG4gIEBpbmNsdWRlIGNvbXBhdGliaWxpdHkucHJpdmF0ZS1kZW5zaXR5LWxlZ2FjeS1jb21wYXRpYmlsaXR5KCkge1xuICAgIC5tYXQtYnV0dG9uLXRvZ2dsZS1hcHBlYXJhbmNlLXN0YW5kYXJkIC5tYXQtYnV0dG9uLXRvZ2dsZS1sYWJlbC1jb250ZW50IHtcbiAgICAgIGxpbmUtaGVpZ2h0OiAkc3RhbmRhcmQtaGVpZ2h0O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gdGhlbWUoJHRoZW1lLW9yLWNvbG9yLWNvbmZpZykge1xuICAkdGhlbWU6IHRoZW1pbmcucHJpdmF0ZS1sZWdhY3ktZ2V0LXRoZW1lKCR0aGVtZS1vci1jb2xvci1jb25maWcpO1xuICBAaW5jbHVkZSB0aGVtaW5nLnByaXZhdGUtY2hlY2stZHVwbGljYXRlLXRoZW1lLXN0eWxlcygkdGhlbWUsICdtYXQtYnV0dG9uLXRvZ2dsZScpIHtcbiAgICAkY29sb3I6IHRoZW1pbmcuZ2V0LWNvbG9yLWNvbmZpZygkdGhlbWUpO1xuICAgICRkZW5zaXR5OiB0aGVtaW5nLmdldC1kZW5zaXR5LWNvbmZpZygkdGhlbWUpO1xuICAgICR0eXBvZ3JhcGh5OiB0aGVtaW5nLmdldC10eXBvZ3JhcGh5LWNvbmZpZygkdGhlbWUpO1xuXG4gICAgQGlmICRjb2xvciAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGNvbG9yKCRjb2xvcik7XG4gICAgfVxuICAgIEBpZiAkZGVuc2l0eSAhPSBudWxsIHtcbiAgICAgIEBpbmNsdWRlIGRlbnNpdHkoJGRlbnNpdHkpO1xuICAgIH1cbiAgICBAaWYgJHR5cG9ncmFwaHkgIT0gbnVsbCB7XG4gICAgICBAaW5jbHVkZSB0eXBvZ3JhcGh5KCR0eXBvZ3JhcGh5KTtcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { NavComponent };","map":{"version":3,"names":["FormControl","BehaviorSubject","ApiActions","DogsActions","selectDogs","NavComponent","constructor","store","dataService","allDogs$","select","allDogs","searchWordSubject","searchWord$","asObservable","filterSearch","ngOnInit","dispatch","retrievedDogsList","subscribe","search","allLowerCase","value","toLowerCase","replace","dogIds","filter","dog","name","includes","map","id","modifyDogs","next","resetSearch","setValue","i0","ɵɵdirectiveInject","i1","Store","i2","DataAccessService","selectors","decls","vars","consts","template","NavComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","NavComponent_Template_input_keyup_enter_5_listener","NavComponent_Template_button_click_6_listener","NavComponent_Template_doggy_main_body_resetSearch_8_listener","ɵɵadvance","ɵɵproperty"],"sources":["/Users/seanclarke/work/angular/dog/src/app/nav/nav.component.ts","/Users/seanclarke/work/angular/dog/src/app/nav/nav.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Store } from '@ngrx/store';\nimport { BehaviorSubject } from 'rxjs';\nimport { DataAccessService } from '../shared/data-access.service';\nimport { DogModel } from '../shared/model/dog.model';\nimport { ApiActions, DogsActions } from '../shared/state/dogs.actions';\nimport { selectDogs } from '../shared/state/dogs.selector';\n\n@Component({\n  selector: 'doggy-nav',\n  templateUrl: './nav.component.html',\n  styleUrls: ['./nav.component.scss'],\n})\nexport class NavComponent implements OnInit {\n  constructor(private store: Store, private dataService: DataAccessService) {}\n  allDogs$ = this.store.select(selectDogs);\n  allDogs: Array<DogModel> = [];\n  searchWordSubject = new BehaviorSubject('');\n  searchWord$ = this.searchWordSubject.asObservable();\n  filterSearch = new FormControl('');\n\n  ngOnInit(): void {\n    this.store.dispatch(ApiActions.retrievedDogsList());\n    this.allDogs$.subscribe(allDogs => (this.allDogs = allDogs));\n  }\n\n  search(): void {\n    const allLowerCase =\n      this.filterSearch.value?.toLowerCase().replace(/ /g, '') || '';\n    const dogIds = this.allDogs\n      .filter(dog =>\n        dog.name.toLowerCase().replace(/ /g, '').includes(allLowerCase)\n      )\n      .map(dog => dog.id);\n    this.store.dispatch(DogsActions.modifyDogs({ dogIds }));\n    this.searchWordSubject.next(this.filterSearch.value || '');\n  }\n\n  resetSearch(): void {\n    this.searchWordSubject.next('');\n    const dogIds = this.allDogs.map(dog => dog.id);\n    this.store.dispatch(DogsActions.modifyDogs({ dogIds }));\n    this.filterSearch.setValue('');\n  }\n}\n","<mat-toolbar color=\"secondary\">\n  <span class=\"logo\">Woofipedia</span>\n  <div class=\"searchbar\">\n    <mat-form-field subscriptSizing=\"dynamic\" class=\"searchbar\">\n      <input\n        matInput\n        [formControl]=\"filterSearch\"\n        (keyup.enter)=\"search()\"\n        placeholder=\"Search dogs\" />\n      <button mat-button matSuffix color=\"primary\" (click)=\"search()\">\n        Woof!\n      </button>\n    </mat-form-field>\n  </div>\n</mat-toolbar>\n\n<doggy-main-body\n  (resetSearch)=\"resetSearch()\"\n  [searchWord$]=\"searchWord$\"></doggy-main-body>\n"],"mappings":"AACA,SAASA,WAAW,QAAQ,gBAAgB;AAE5C,SAASC,eAAe,QAAQ,MAAM;AAGtC,SAASC,UAAU,EAAEC,WAAW,QAAQ,8BAA8B;AACtE,SAASC,UAAU,QAAQ,+BAA+B;;;;;;;;;;AAE1D,MAKaC,YAAY;EACvBC,YAAoBC,KAAY,EAAUC,WAA8B;IAApD,KAAAD,KAAK,GAALA,KAAK;IAAiB,KAAAC,WAAW,GAAXA,WAAW;IACrD,KAAAC,QAAQ,GAAG,IAAI,CAACF,KAAK,CAACG,MAAM,CAACN,UAAU,CAAC;IACxC,KAAAO,OAAO,GAAoB,EAAE;IAC7B,KAAAC,iBAAiB,GAAG,IAAIX,eAAe,CAAC,EAAE,CAAC;IAC3C,KAAAY,WAAW,GAAG,IAAI,CAACD,iBAAiB,CAACE,YAAY,EAAE;IACnD,KAAAC,YAAY,GAAG,IAAIf,WAAW,CAAC,EAAE,CAAC;EALyC;EAO3EgB,QAAQA,CAAA;IACN,IAAI,CAACT,KAAK,CAACU,QAAQ,CAACf,UAAU,CAACgB,iBAAiB,EAAE,CAAC;IACnD,IAAI,CAACT,QAAQ,CAACU,SAAS,CAACR,OAAO,IAAK,IAAI,CAACA,OAAO,GAAGA,OAAQ,CAAC;EAC9D;EAEAS,MAAMA,CAAA;IACJ,MAAMC,YAAY,GAChB,IAAI,CAACN,YAAY,CAACO,KAAK,EAAEC,WAAW,EAAE,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE;IAChE,MAAMC,MAAM,GAAG,IAAI,CAACd,OAAO,CACxBe,MAAM,CAACC,GAAG,IACTA,GAAG,CAACC,IAAI,CAACL,WAAW,EAAE,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAACK,QAAQ,CAACR,YAAY,CAAC,CAChE,CACAS,GAAG,CAACH,GAAG,IAAIA,GAAG,CAACI,EAAE,CAAC;IACrB,IAAI,CAACxB,KAAK,CAACU,QAAQ,CAACd,WAAW,CAAC6B,UAAU,CAAC;MAAEP;IAAM,CAAE,CAAC,CAAC;IACvD,IAAI,CAACb,iBAAiB,CAACqB,IAAI,CAAC,IAAI,CAAClB,YAAY,CAACO,KAAK,IAAI,EAAE,CAAC;EAC5D;EAEAY,WAAWA,CAAA;IACT,IAAI,CAACtB,iBAAiB,CAACqB,IAAI,CAAC,EAAE,CAAC;IAC/B,MAAMR,MAAM,GAAG,IAAI,CAACd,OAAO,CAACmB,GAAG,CAACH,GAAG,IAAIA,GAAG,CAACI,EAAE,CAAC;IAC9C,IAAI,CAACxB,KAAK,CAACU,QAAQ,CAACd,WAAW,CAAC6B,UAAU,CAAC;MAAEP;IAAM,CAAE,CAAC,CAAC;IACvD,IAAI,CAACV,YAAY,CAACoB,QAAQ,CAAC,EAAE,CAAC;EAChC;;AA9BW9B,YAAY,C;mBAAZA,YAAY,EAAA+B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,KAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,iBAAA;AAAA;AAAZpC,YAAY,C;QAAZA,YAAY;EAAAqC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCdzBZ,EAAA,CAAAc,cAAA,qBAA+B;MACVd,EAAA,CAAAe,MAAA,iBAAU;MAAAf,EAAA,CAAAgB,YAAA,EAAO;MACpChB,EAAA,CAAAc,cAAA,aAAuB;MAKjBd,EAAA,CAAAiB,UAAA,yBAAAC,mDAAA;QAAA,OAAeL,GAAA,CAAA7B,MAAA,EAAQ;MAAA,EAAC;MAH1BgB,EAAA,CAAAgB,YAAA,EAI8B;MAC9BhB,EAAA,CAAAc,cAAA,gBAAgE;MAAnBd,EAAA,CAAAiB,UAAA,mBAAAE,8CAAA;QAAA,OAASN,GAAA,CAAA7B,MAAA,EAAQ;MAAA,EAAC;MAC7DgB,EAAA,CAAAe,MAAA,cACF;MAAAf,EAAA,CAAAgB,YAAA,EAAS;MAKfhB,EAAA,CAAAc,cAAA,yBAE8B;MAD5Bd,EAAA,CAAAiB,UAAA,yBAAAG,6DAAA;QAAA,OAAeP,GAAA,CAAAf,WAAA,EAAa;MAAA,EAAC;MACDE,EAAA,CAAAgB,YAAA,EAAkB;;;MAZxChB,EAAA,CAAAqB,SAAA,GAA4B;MAA5BrB,EAAA,CAAAsB,UAAA,gBAAAT,GAAA,CAAAlC,YAAA,CAA4B;MAYlCqB,EAAA,CAAAqB,SAAA,GAA2B;MAA3BrB,EAAA,CAAAsB,UAAA,gBAAAT,GAAA,CAAApC,WAAA,CAA2B;;;;;;SDJhBR,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}