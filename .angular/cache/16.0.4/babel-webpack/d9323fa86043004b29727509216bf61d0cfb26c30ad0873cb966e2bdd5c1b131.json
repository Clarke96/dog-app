{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { of } from 'rxjs';\nimport { DogActions } from 'src/app/shared/state/dogs.actions';\nimport { selectFilteredDogs } from 'src/app/shared/state/dogs.selector';\nimport { InfoComponent } from '../info/info.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"../dog-tile/dog-tile.component\";\nfunction MainBodyComponent_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function MainBodyComponent_button_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.clearSearch());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Clear filter: \\\"\", i0.ɵɵpipeBind1(2, 1, ctx_r0.searchWord$), \"\\\"\\n\");\n  }\n}\nfunction MainBodyComponent_div_3_doggy_dog_tile_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"doggy-dog-tile\", 5);\n    i0.ɵɵlistener(\"openDialog\", function MainBodyComponent_div_3_doggy_dog_tile_1_Template_doggy_dog_tile_openDialog_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.openDialog($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dog_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"dog\", dog_r4);\n  }\n}\nfunction MainBodyComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, MainBodyComponent_div_3_doggy_dog_tile_1_Template, 1, 1, \"doggy-dog-tile\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const dog_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", dog_r4);\n  }\n}\nclass MainBodyComponent {\n  constructor(store, dialog) {\n    this.store = store;\n    this.dialog = dialog;\n    this.dogs$ = this.store.select(selectFilteredDogs);\n    this.dogs = [];\n    this.searchWord$ = of('');\n    this.resetSearch = new EventEmitter(true);\n  }\n  openDialog(dogId) {\n    this.store.dispatch(DogActions.selectDog({\n      dogId\n    }));\n    this.dialog.open(InfoComponent, {\n      maxHeight: '600px',\n      maxWidth: '800px'\n    });\n  }\n  clearSearch() {\n    this.resetSearch.emit(true);\n  }\n}\nMainBodyComponent.ɵfac = function MainBodyComponent_Factory(t) {\n  return new (t || MainBodyComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.MatDialog));\n};\nMainBodyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainBodyComponent,\n  selectors: [[\"doggy-main-body\"]],\n  inputs: {\n    searchWord$: \"searchWord$\"\n  },\n  outputs: {\n    resetSearch: \"resetSearch\"\n  },\n  decls: 5,\n  vars: 6,\n  consts: [[\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [1, \"tile-wrappers\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"click\"], [3, \"dog\", \"openDialog\", 4, \"ngIf\"], [3, \"dog\", \"openDialog\"]],\n  template: function MainBodyComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, MainBodyComponent_button_0_Template, 3, 3, \"button\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtemplate(3, MainBodyComponent_div_3_Template, 2, 1, \"div\", 2);\n      i0.ɵɵpipe(4, \"async\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.searchWord$));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(4, 4, ctx.dogs$));\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.MatButton, i5.DogTileComponent, i3.AsyncPipe],\n  styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\t\\\"use strict\\\";\\n \\t\\n \\t\\n })()[_ngcontent-%COMP%]\\n;\"]\n});\nexport { MainBodyComponent };","map":{"version":3,"names":["EventEmitter","of","DogActions","selectFilteredDogs","InfoComponent","i0","ɵɵelementStart","ɵɵlistener","MainBodyComponent_button_0_Template_button_click_0_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","clearSearch","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","ctx_r0","searchWord$","MainBodyComponent_div_3_doggy_dog_tile_1_Template_doggy_dog_tile_openDialog_0_listener","$event","_r7","ctx_r6","openDialog","ɵɵproperty","dog_r4","ɵɵtemplate","MainBodyComponent_div_3_doggy_dog_tile_1_Template","MainBodyComponent","constructor","store","dialog","dogs$","select","dogs","resetSearch","dogId","dispatch","selectDog","open","maxHeight","maxWidth","emit","ɵɵdirectiveInject","i1","Store","i2","MatDialog","selectors","inputs","outputs","decls","vars","consts","template","MainBodyComponent_Template","rf","ctx","MainBodyComponent_button_0_Template","MainBodyComponent_div_3_Template"],"sources":["/Users/seanclarke/work/angular/dog/src/app/body/main-body/main-body.component.ts","/Users/seanclarke/work/angular/dog/src/app/body/main-body/main-body.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Store } from '@ngrx/store';\nimport { Observable, of } from 'rxjs';\nimport { DogModel } from 'src/app/shared/model/dog.model';\nimport { DogActions } from 'src/app/shared/state/dogs.actions';\nimport { selectFilteredDogs } from 'src/app/shared/state/dogs.selector';\nimport { InfoComponent } from '../info/info.component';\n\n@Component({\n  selector: 'doggy-main-body',\n  templateUrl: './main-body.component.html',\n  styleUrls: ['./main-body.component.scss'],\n})\nexport class MainBodyComponent {\n  dogs$ = this.store.select(selectFilteredDogs);\n  dogs: DogModel[] = [];\n  @Input() searchWord$: Observable<string> = of('');\n  @Output() resetSearch = new EventEmitter(true);\n\n  constructor(private store: Store, private dialog: MatDialog) {}\n\n  openDialog(dogId: string) {\n    this.store.dispatch(DogActions.selectDog({ dogId }));\n    this.dialog.open(InfoComponent, {\n      maxHeight: '600px',\n      maxWidth: '800px',\n    });\n  }\n\n  clearSearch() {\n    this.resetSearch.emit(true);\n  }\n}\n","<button\n  mat-stroked-button\n  color=\"primary\"\n  *ngIf=\"searchWord$ | async\"\n  (click)=\"clearSearch()\">\n  Clear filter: \"{{ searchWord$ | async }}\"\n</button>\n<div class=\"tile-wrappers\">\n  <div *ngFor=\"let dog of dogs$ | async\">\n    <doggy-dog-tile\n      *ngIf=\"dog\"\n      [dog]=\"dog\"\n      (openDialog)=\"openDialog($event)\"></doggy-dog-tile>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}